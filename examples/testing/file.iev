  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:51262},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:51262})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51262})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:61028},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:61028})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61028})
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:41722},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:41722})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:41722})
}
> cl.client_request(1,{knd:write,ky:"m",vl:33107},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"m",vl:33107})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33107})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:33107}}}),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(0),3)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),3)
  write(mid_spec.queue.head,1)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:33107}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:33107}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:19047},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:19047})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:19047})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:19047}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:19047}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:19047}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:42449},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:42449})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42449})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:42449}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:42449}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:42449}}}),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(1),5)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),5)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:read,ky:"m",vl:13036},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:13036})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13036})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:13036}}}),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:33107}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),33107)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),33107)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:33107}}})
{
  write(mid_spec.acked(3),1)
}
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(3),2)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),2)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:42449}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),42449)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),42449)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:42449}}})
{
  write(mid_spec.acked(5),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:13036}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:13036}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),42449)
  write(response.bd(loc:res),{vl:42449})
  write(response_body.vl(fml:out),42449)
  write(ref.txres(6),{vl:42449})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:42449}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:11317},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:11317})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11317})
}
> cl.client_request(0,{knd:read,ky:"m",vl:22542},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:22542})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22542})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:22542}}}),1)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:22542}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:22542}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),42449)
  write(response.bd(loc:res),{vl:42449})
  write(response_body.vl(fml:out),42449)
  write(ref.txres(8),{vl:42449})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:42449}},0),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:42449}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:42449}},0),0)
}
> cl_chans.send(0,{tx:7,bd:{vl:0}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:19047}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),19047)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),19047)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:19047}}})
{
  write(mid_spec.acked(4),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:41722}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),41722)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),41722)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:41722}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(1,{tx:6,bd:{vl:42449}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:42449}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:2248},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:2248})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2248})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(4),9)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),9)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:2248}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),2248)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),2248)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:2248}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:4069},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:4069})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4069})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:4069}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:4069}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:4069}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),42449)
  write(response.bd(loc:res),{vl:42449})
  write(response_body.vl(fml:out),42449)
  write(ref.txres(10),{vl:42449})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:42449}},0),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:42449}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:42449}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:24563},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:24563})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24563})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:24563}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:15439},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:15439})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15439})
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:24563}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:24563}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),42449)
  write(response.bd(loc:res),{vl:42449})
  write(response_body.vl(fml:out),42449)
  write(ref.txres(11),{vl:42449})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:42449}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:62068},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:62068})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62068})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:62068}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:57398},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:57398})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57398})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:57398}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30320},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:30320})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30320})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30320}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:723},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:723})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:723})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:723}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:57398}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:57398}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),2248)
  write(response.bd(loc:res),{vl:2248})
  write(response_body.vl(fml:out),2248)
  write(ref.txres(14),{vl:2248})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:2248}},1),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(5),15)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),15)
  write(mid_spec.queue.head,6)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(6),12)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),12)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30320}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),30320)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),30320)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30320}}})
{
  write(mid_spec.acked(15),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:15439}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),15439)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),15439)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:15439}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:19014},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"m",vl:19014})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19014})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:19014}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:33775},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:33775})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:33775})
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(7),17)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),17)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:19014}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),19014)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),19014)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:19014}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(1,{tx:14,bd:{vl:2248}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:2248}},1),0)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),30320)
  write(ref.txres(18),{vl:30320})
  write(ref.committed(18),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30320}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30320}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:19014}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:19014}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:62068}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:62068}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),30320)
  write(response.bd(loc:res),{vl:30320})
  write(response_body.vl(fml:out),30320)
  write(ref.txres(13),{vl:30320})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:30320}},1),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:30320}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:30320}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:723}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:723}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),19014)
  write(response.bd(loc:res),{vl:19014})
  write(response_body.vl(fml:out),19014)
  write(ref.txres(16),{vl:19014})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:19014}},1),1)
}
> cl_chans.send(0,{tx:18,bd:{vl:30320}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:30320}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:27018},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:27018})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:27018})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:27018}}}),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(8),19)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),19)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:27018}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:27018}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:27018}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),27018)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),27018)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:27018}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(0,{tx:18,bd:{vl:30320}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:30320}},0),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:34681},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:34681})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34681})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:34681}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:40850},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"m",vl:40850})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:40850})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:44207},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:44207})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:44207})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:44207}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:290},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:290})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:290})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:290}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:290}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:290}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:44207}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:44207}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),27018)
  write(response.bd(loc:res),{vl:27018})
  write(response_body.vl(fml:out),27018)
  write(ref.txres(22),{vl:27018})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:27018}},1),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(9),23)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),23)
  write(mid_spec.queue.head,10)
}
> cl.client_request(1,{knd:read,ky:"m",vl:51416},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:51416})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51416})
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(10),21)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),21)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:290}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),290)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),290)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:290}}})
{
  write(mid_spec.acked(23),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:34681}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:34681}}}),0)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),19014)
  write(ref.txres(24),{vl:19014})
  write(ref.committed(24),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(11),20)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),20)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:40850}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),40850)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),40850)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:40850}}})
{
  write(mid_spec.acked(21),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:34681}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),34681)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),34681)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:34681}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl_chans.send(0,{tx:24,bd:{vl:19014}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:19014}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:14176},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:14176})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:14176})
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(12),25)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),25)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(1,{tx:16,bd:{vl:19014}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:19014}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:50359},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"m",vl:50359})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50359})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"m",vl:50359}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:2708},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:2708})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2708})
}
> sec.req_chan.recv({cid:0,req:{tx:26,bd:{knd:read,ky:"m",vl:50359}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"m",vl:50359}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),40850)
  write(response.bd(loc:res),{vl:40850})
  write(response_body.vl(fml:out),40850)
  write(ref.txres(26),{vl:40850})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:40850}},0),1)
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),34681)
  write(ref.txres(27),{vl:34681})
  write(ref.committed(27),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:14176}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),25)
  write(sec.rep.store("wrsylb"),14176)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),14176)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:14176}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl_chans.recv(0,{tx:26,bd:{vl:40850}})
{
  write(cl_chans.spec.sent({tx:26,bd:{vl:40850}},0),0)
}
> cl_chans.recv(0,{tx:24,bd:{vl:19014}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:19014}},0),0)
}
> cl_chans.send(0,{tx:27,bd:{vl:34681}})
{
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:34681}},0),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:27018}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:27018}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:1660},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:1660})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:1660})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:20539},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:20539})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:20539})
}
> cl.client_request(0,{knd:write,ky:"m",vl:60522},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:60522})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60522})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:60522}}}),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:16716},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:16716})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16716})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:1660}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),1660)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),1660)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:1660}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:19664},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"m",vl:19664})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:19664})
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:60522}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:60522}}}),0)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:22574},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:22574})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22574})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:22574}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:22574}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:22574}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:60522}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),60522)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),60522)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:60522}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:54782},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"m",vl:54782})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54782})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:20539}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),20539)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),20539)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:20539}}})
{
  write(mid_spec.acked(1),1)
}
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),20539)
  write(ref.txres(6),{vl:20539})
  write(ref.committed(6),1)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),1660)
  write(ref.txres(3),{vl:1660})
  write(ref.committed(3),1)
}
> cl_chans.send(0,{tx:6,bd:{vl:20539}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:20539}},0),1)
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),20539)
  write(ref.txres(4),{vl:20539})
  write(ref.committed(4),1)
}
> cl_chans.send(1,{tx:4,bd:{vl:20539}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:20539}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:28072},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:28072})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28072})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:28072}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:28072}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:28072}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),20539)
  write(response.bd(loc:res),{vl:20539})
  write(response_body.vl(fml:out),20539)
  write(ref.txres(7),{vl:20539})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:20539}},0),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:20539}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:20539}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:2843},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:2843})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2843})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:2843}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:2843}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:2843}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),20539)
  write(response.bd(loc:res),{vl:20539})
  write(response_body.vl(fml:out),20539)
  write(ref.txres(8),{vl:20539})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:20539}},1),1)
}
> cl_chans.send(0,{tx:3,bd:{vl:1660}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:1660}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:26608},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:26608})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:26608})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:26608}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:45602},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:45602})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:45602})
}
> cl_chans.recv(1,{tx:8,bd:{vl:20539}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:20539}},1),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:1660}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:1660}},0),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:26608}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:26608}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),1660)
  write(response.bd(loc:res),{vl:1660})
  write(response_body.vl(fml:out),1660)
  write(ref.txres(9),{vl:1660})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:1660}},0),1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(3),10)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),10)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:45602}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),45602)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),45602)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:45602}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:18316},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:18316})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18316})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:18316}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(4),11)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),11)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30379},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:30379})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30379})
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(5),12)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),12)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:56482},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:56482})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:56482})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:18316}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),18316)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),18316)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:18316}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:9,bd:{vl:1660}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:1660}},0),0)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),1660)
  write(ref.txres(13),{vl:1660})
  write(ref.committed(13),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:25934},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:25934})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:25934})
}
> cl_chans.send(1,{tx:13,bd:{vl:1660}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:1660}},1),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:1660}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:1660}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:56585},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:56585})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:56585})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:56585}}}),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:20539}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:20539}},0),0)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),18316)
  write(ref.txres(14),{vl:18316})
  write(ref.committed(14),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:56585}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:56585}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),1660)
  write(response.bd(loc:res),{vl:1660})
  write(response_body.vl(fml:out),1660)
  write(ref.txres(15),{vl:1660})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:1660}},1),1)
}
> cl_chans.send(1,{tx:14,bd:{vl:18316}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:18316}},1),1)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:30379}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),30379)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),30379)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:30379}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(0,{tx:7,bd:{vl:20539}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:20539}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:18316}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:18316}}}),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:18316}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:18316}},1),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:22988},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:22988})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:22988})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:22988}}}),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:15,bd:{vl:1660}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:1660}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:22988}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:22988}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),30379)
  write(response.bd(loc:res),{vl:30379})
  write(response_body.vl(fml:out),30379)
  write(ref.txres(16),{vl:30379})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:30379}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:57635},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"m",vl:57635})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:57635})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:57635}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:21433},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:21433})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21433})
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:57635}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:57635}}}),0)
}
> cl_chans.recv(1,{tx:16,bd:{vl:30379}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:30379}},1),0)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),30379)
  write(ref.txres(18),{vl:30379})
  write(ref.committed(18),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(6),17)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),17)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:17688},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:17688})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17688})
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),30379)
  write(ref.txres(19),{vl:30379})
  write(ref.committed(19),1)
}
> cl_chans.send(1,{tx:18,bd:{vl:30379}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:30379}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:10441},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:10441})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:10441})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:10441}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:57635}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),57635)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),57635)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:57635}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:64210},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:64210})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64210})
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),57635)
  write(ref.txres(21),{vl:57635})
  write(ref.committed(21),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:30379}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:30379}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:20051},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:20051})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:20051})
}
> cl_chans.send(0,{tx:21,bd:{vl:57635}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:57635}},0),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:57635}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:57635}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:50240},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:50240})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50240})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:50240}}}),1)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),57635)
  write(ref.txres(22),{vl:57635})
  write(ref.committed(22),1)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:50240}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:50240}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),30379)
  write(response.bd(loc:res),{vl:30379})
  write(response_body.vl(fml:out),30379)
  write(ref.txres(23),{vl:30379})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:30379}},1),1)
}
> cl_chans.send(0,{tx:22,bd:{vl:57635}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:57635}},0),1)
}
> cl_chans.send(1,{tx:19,bd:{vl:30379}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:30379}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:10441}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:10441}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),30379)
  write(response.bd(loc:res),{vl:30379})
  write(response_body.vl(fml:out),30379)
  write(ref.txres(20),{vl:30379})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:30379}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:33671},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:33671})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33671})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:33671}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:32121},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:32121})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32121})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:32121}}}),1)
}
> cl_chans.recv(1,{tx:23,bd:{vl:30379}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:30379}},1),0)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(7),24)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),24)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(0,{tx:22,bd:{vl:57635}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:57635}},0),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:30379}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:30379}},1),0)
}
> cl_chans.recv(1,{tx:20,bd:{vl:30379}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:30379}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:33671}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),33671)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),33671)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:33671}}})
{
  write(mid_spec.acked(24),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:33671}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:33671}}}),0)
}
> cl_chans.recv(0,{tx:24,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:32121}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:32121}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),30379)
  write(response.bd(loc:res),{vl:30379})
  write(response_body.vl(fml:out),30379)
  write(ref.txres(25),{vl:30379})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:30379}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:36606},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:36606})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36606})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:36606}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:36606}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:36606}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),33671)
  write(response.bd(loc:res),{vl:33671})
  write(response_body.vl(fml:out),33671)
  write(ref.txres(26),{vl:33671})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:33671}},1),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"m",vl:52576},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"m",vl:52576})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:52576})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:52576}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),52576)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),52576)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:52576}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:21284},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:21284})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21284})
}
> cl.client_request(1,{knd:write,ky:"m",vl:17872},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:17872})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17872})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:17872}}}),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:17872}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),17872)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),17872)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:17872}}})
{
  write(mid_spec.acked(2),1)
}
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:17872}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:17872}}}),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:64400},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:64400})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64400})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:64400}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:64400}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:64400}}}),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:22964},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:22964})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:22964})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:22964}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:64400}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),64400)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),64400)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:64400}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:27136},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:27136})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27136})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:40316},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:40316})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40316})
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:27136}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),27136)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),27136)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:27136}}})
{
  write(mid_spec.acked(5),1)
}
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:22964}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:22964}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> cl_chans.send(1,{tx:6,bd:{vl:0}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:2831},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:2831})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2831})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:41817},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:41817})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:41817})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:41817}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(4),8)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),8)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:41817}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:41817}}}),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:42285},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:42285})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42285})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:41817}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),41817)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),41817)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:41817}}})
{
  write(mid_spec.acked(8),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:42285}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),42285)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),42285)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:42285}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:52406},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:52406})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:52406})
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:43123},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:43123})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:43123})
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:53142},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:53142})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:53142})
}
> cl_chans.send(0,{tx:7,bd:{vl:0}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(6),12)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),12)
  write(mid_spec.queue.head,7)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(7),10)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),10)
  write(mid_spec.queue.head,8)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),41817)
  write(ref.txres(11),{vl:41817})
  write(ref.committed(11),1)
}
> cl_chans.send(0,{tx:11,bd:{vl:41817}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:41817}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:53142}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),53142)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),53142)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:53142}}})
{
  write(mid_spec.acked(12),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:52406}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),52406)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),52406)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:52406}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:47191},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:47191})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47191})
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),52406)
  write(ref.txres(13),{vl:52406})
  write(ref.committed(13),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> cl_chans.send(0,{tx:13,bd:{vl:52406}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:52406}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:13125},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:13125})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13125})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:25170},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:25170})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25170})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:25170}}}),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(8),15)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),15)
  write(mid_spec.queue.head,9)
}
> cl.client_request(1,{knd:write,ky:"m",vl:59464},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"m",vl:59464})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:59464})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:8706},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:8706})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:8706})
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),52406)
  write(ref.txres(14),{vl:52406})
  write(ref.committed(14),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:52406}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:52406}},0),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(9),17)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),17)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:25170}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),25170)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),25170)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:25170}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:19366},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:19366})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:19366})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:19366}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:25170}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:25170}}}),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(10),18)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),18)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:19366}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:19366}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:57269},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:57269})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57269})
}
> cl.client_request(1,{knd:write,ky:"m",vl:64359},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"m",vl:64359})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64359})
}
> cl_chans.send(1,{tx:14,bd:{vl:52406}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:52406}},1),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(11),20)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),20)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:8706}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),8706)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),8706)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:8706}}})
{
  write(mid_spec.acked(17),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:19366}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),19366)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),19366)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:19366}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.recv(1,{tx:14,bd:{vl:52406}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:52406}},1),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(12),16)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),16)
  write(mid_spec.queue.head,13)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:64359}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),64359)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),64359)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:64359}}})
{
  write(mid_spec.acked(20),1)
}
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),19366)
  write(ref.txres(19),{vl:19366})
  write(ref.committed(19),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:15195},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:15195})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:15195})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:15195}}}),1)
}
> cl_chans.send(1,{tx:19,bd:{vl:19366}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:19366}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:11071},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:11071})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11071})
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:15195}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:15195}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),19366)
  write(response.bd(loc:res),{vl:19366})
  write(response_body.vl(fml:out),19366)
  write(ref.txres(21),{vl:19366})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:19366}},0),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:19366}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:19366}},0),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:41817}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:41817}},0),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(13),22)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),22)
  write(mid_spec.queue.head,14)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:29428},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:29428})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29428})
}
> cl_chans.recv(1,{tx:19,bd:{vl:19366}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:19366}},1),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:59464}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),59464)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),59464)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:59464}}})
{
  write(mid_spec.acked(16),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:11071}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),11071)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),11071)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:11071}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:48693},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:48693})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48693})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:48693}}}),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:64101},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:64101})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64101})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:64101}}}),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(14),25)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),25)
  write(mid_spec.queue.head,15)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:64101}}})
{
  write(mid_spec.queue.tail,15)
  write(response.tx(loc:res),25)
  write(sec.rep.store("wrsylb"),64101)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,15)
  write(ref.rep.store("wrsylb"),64101)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:64101}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:44462},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"m",vl:44462})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44462})
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:48693}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:48693}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),59464)
  write(response.bd(loc:res),{vl:59464})
  write(response_body.vl(fml:out),59464)
  write(ref.txres(24),{vl:59464})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:59464}},1),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),64101)
  write(ref.txres(23),{vl:64101})
  write(ref.committed(23),1)
}
> cl_chans.send(1,{tx:23,bd:{vl:64101}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:64101}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:64101}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:64101}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:15803},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:15803})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:15803})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:17561},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:17561})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:17561})
}
> cl.client_request(1,{knd:read,ky:"m",vl:14663},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:14663})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14663})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:14663}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:14663}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:14663}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:7813},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:7813})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:7813})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:7813}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:7813}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:7813}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:50214},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"m",vl:50214})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50214})
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:18718},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:18718})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18718})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:17561}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),17561)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),17561)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:17561}}})
{
  write(mid_spec.acked(0),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:18718}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),18718)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),18718)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:18718}}})
{
  write(mid_spec.acked(4),1)
}
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:1108},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:1108})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:1108})
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:50214}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),50214)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),50214)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:50214}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:42077},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:42077})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42077})
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),18718)
  write(ref.txres(6),{vl:18718})
  write(ref.committed(6),1)
}
> cl_chans.send(1,{tx:6,bd:{vl:18718}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:18718}},1),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(4),2)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),2)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:37615},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"m",vl:37615})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:37615})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:37615}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:37615}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:37615}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),50214)
  write(response.bd(loc:res),{vl:50214})
  write(response_body.vl(fml:out),50214)
  write(ref.txres(7),{vl:50214})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:50214}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:1108}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),1108)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),1108)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:1108}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(1,{tx:6,bd:{vl:18718}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:18718}},1),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:50214}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:50214}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:65196},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:65196})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65196})
}
> cl.client_request(0,{knd:read,ky:"m",vl:38820},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"m",vl:38820})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38820})
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),1108)
  write(ref.txres(9),{vl:1108})
  write(ref.committed(9),1)
}
> cl_chans.send(0,{tx:9,bd:{vl:1108}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:1108}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:58680},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:58680})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:58680})
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),1108)
  write(ref.txres(10),{vl:1108})
  write(ref.committed(10),1)
}
> cl_chans.send(1,{tx:10,bd:{vl:1108}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:1108}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:12095},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:12095})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:12095})
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),1108)
  write(ref.txres(11),{vl:1108})
  write(ref.committed(11),1)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),18718)
  write(ref.txres(8),{vl:18718})
  write(ref.committed(8),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:1108}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:1108}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:7813}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),7813)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),7813)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:7813}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:4137},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:4137})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4137})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:4137}}}),1)
}
> cl_chans.send(1,{tx:8,bd:{vl:18718}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:18718}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:9363},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:9363})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9363})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:9363}}}),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:11318},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:11318})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11318})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:11318}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:47282},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:47282})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:47282})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:47282}}}),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(5),15)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),15)
  write(mid_spec.queue.head,6)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:22474},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:22474})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22474})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:47282}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),47282)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),47282)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:47282}}})
{
  write(mid_spec.acked(15),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:47282}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:47282}}}),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:11318}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:11318}}}),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:18718}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:18718}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:11318}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),11318)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),11318)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:11318}}})
{
  write(mid_spec.acked(14),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:4137}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:4137}}}),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(7),16)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),16)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(1,{tx:10,bd:{vl:1108}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:1108}},1),0)
}
> cl_chans.send(0,{tx:11,bd:{vl:1108}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:1108}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:9363}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:9363}}}),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:1108}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:1108}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:27089},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:27089})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27089})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:27089}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:22474}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),22474)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),22474)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:22474}}})
{
  write(mid_spec.acked(16),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:27089}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),27089)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),27089)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:27089}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:34786},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:34786})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34786})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:34786}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(9),13)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),13)
  write(mid_spec.queue.head,10)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(10),12)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),12)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:9363}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),9363)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),9363)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:9363}}})
{
  write(mid_spec.acked(13),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:34786}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:34786}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),22474)
  write(response.bd(loc:res),{vl:22474})
  write(response_body.vl(fml:out),22474)
  write(ref.txres(18),{vl:22474})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:22474}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:35578},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:35578})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:35578})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:35578}}}),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(11),19)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),19)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:4137}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),4137)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),4137)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:4137}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:22474}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:22474}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:22886},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"m",vl:22886})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22886})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:22886}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:35578}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),35578)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),35578)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:35578}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:27089}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:27089}}}),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(12),20)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),20)
  write(mid_spec.queue.head,13)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:22886}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:22886}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:22886}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),22886)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),22886)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:22886}}})
{
  write(mid_spec.acked(20),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:35578}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:35578}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:7463},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:7463})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7463})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:7463}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:28437},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:28437})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28437})
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:7463}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:7463}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),22474)
  write(response.bd(loc:res),{vl:22474})
  write(response_body.vl(fml:out),22474)
  write(ref.txres(21),{vl:22474})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:22474}},1),1)
}
> cl_chans.recv(1,{tx:21,bd:{vl:22474}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:22474}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:58612},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:58612})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:58612})
}
> cl_chans.recv(1,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),0)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),22886)
  write(ref.txres(22),{vl:22886})
  write(ref.committed(22),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:6456},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:6456})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6456})
}
> cl.client_request(0,{knd:read,ky:"m",vl:17819},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:17819})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:17819})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:17819}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:17819}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:17819}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),22886)
  write(response.bd(loc:res),{vl:22886})
  write(response_body.vl(fml:out),22886)
  write(ref.txres(25),{vl:22886})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:22886}},0),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),22886)
  write(ref.txres(23),{vl:22886})
  write(ref.committed(23),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:49358},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:49358})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49358})
}
> cl_chans.send(1,{tx:23,bd:{vl:22886}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:22886}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:58523},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"m",vl:58523})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58523})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:write,ky:"m",vl:58523}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:27,bd:{knd:write,ky:"m",vl:58523}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:write,ky:"m",vl:58523}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:63378},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"m",vl:63378})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:63378})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:read,ky:"m",vl:63378}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:42184},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:42184})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:42184})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:42184}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:42184}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:42184}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:50957},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:50957})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50957})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:50957}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:21884},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:21884})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:21884})
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:43676},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:43676})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:43676})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:40448},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:40448})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:40448})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:40448}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:50957}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:50957}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:40448}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:40448}}}),0)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:21884}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),21884)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),21884)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:21884}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:40448}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),40448)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),40448)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:40448}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.send(1,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:11666},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:11666})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11666})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:11666}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:45655},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:45655})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45655})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:45655}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:24314},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"m",vl:24314})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24314})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:24314}}}),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(2),6)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),6)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:15270},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:15270})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15270})
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:24314}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:24314}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),40448)
  write(response.bd(loc:res),{vl:40448})
  write(response_body.vl(fml:out),40448)
  write(ref.txres(7),{vl:40448})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:40448}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:27853},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:27853})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27853})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:27853}}}),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:40448}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:40448}},1),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:45655}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:45655}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:45655}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),45655)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),45655)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:45655}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:36480},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:36480})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36480})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:36480}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:36480}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:36480}}}),0)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),40448)
  write(ref.txres(8),{vl:40448})
  write(ref.committed(8),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:11666}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:11666}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),40448)
  write(response.bd(loc:res),{vl:40448})
  write(response_body.vl(fml:out),40448)
  write(ref.txres(5),{vl:40448})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:40448}},0),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(3),10)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),10)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:36480}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),36480)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),36480)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:36480}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.send(1,{tx:8,bd:{vl:40448}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:40448}},1),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:40448}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:40448}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:39544},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:39544})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39544})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:39544}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(4),11)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),11)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"m",vl:15309},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:15309})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15309})
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:20937},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:20937})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:20937})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:20937}}}),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(5),12)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),12)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54932},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:54932})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54932})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:54932}}}),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:39544}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),39544)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),39544)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:39544}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:40448}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:40448}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:39544}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:39544}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:27853}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:27853}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),36480)
  write(response.bd(loc:res),{vl:36480})
  write(response_body.vl(fml:out),36480)
  write(ref.txres(9),{vl:36480})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:36480}},1),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:36480}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:36480}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:15309}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),15309)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),15309)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:15309}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:48100},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:48100})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48100})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:48100}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:20937}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:20937}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),15309)
  write(response.bd(loc:res),{vl:15309})
  write(response_body.vl(fml:out),15309)
  write(ref.txres(13),{vl:15309})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:15309}},1),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:48100}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:48100}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:35113},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:35113})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35113})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(7),15)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),15)
  write(mid_spec.queue.head,8)
}
> cl.client_request(1,{knd:read,ky:"m",vl:55455},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:55455})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55455})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:55455}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:54932}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),54932)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),54932)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:54932}}})
{
  write(mid_spec.acked(14),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:54932}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:54932}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:64454},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"m",vl:64454})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64454})
}
> cl_chans.recv(1,{tx:13,bd:{vl:15309}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:15309}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:48100}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),48100)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),48100)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:48100}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:55455}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:55455}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),48100)
  write(response.bd(loc:res),{vl:48100})
  write(response_body.vl(fml:out),48100)
  write(ref.txres(17),{vl:48100})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:48100}},1),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:48100}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:48100}},1),0)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),48100)
  write(ref.txres(16),{vl:48100})
  write(ref.committed(16),1)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),48100)
  write(ref.txres(18),{vl:48100})
  write(ref.committed(18),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:100},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:100})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:100})
}
> cl.client_request(1,{knd:write,ky:"m",vl:22105},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"m",vl:22105})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22105})
}
> cl_chans.send(0,{tx:16,bd:{vl:48100}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:48100}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:50747},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:50747})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50747})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:50747}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(8),20)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),20)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:22105}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),22105)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),22105)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:22105}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:60995},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:60995})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60995})
}
> cl_chans.send(1,{tx:18,bd:{vl:48100}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:48100}},1),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:48100}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:48100}},0),0)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),22105)
  write(ref.txres(22),{vl:22105})
  write(ref.committed(22),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:48100}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:48100}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:50747}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:50747}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),39544)
  write(response.bd(loc:res),{vl:39544})
  write(response_body.vl(fml:out),39544)
  write(ref.txres(21),{vl:39544})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:39544}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:64830},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:64830})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64830})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:21968},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:21968})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21968})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:21968}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:59145},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:59145})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:59145})
}
> cl.client_request(1,{knd:read,ky:"m",vl:18396},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:18396})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18396})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:18396}}}),1)
}
> cl_chans.send(0,{tx:22,bd:{vl:22105}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:22105}},0),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:22105}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:22105}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:21968}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:21968}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),39544)
  write(response.bd(loc:res),{vl:39544})
  write(response_body.vl(fml:out),39544)
  write(ref.txres(24),{vl:39544})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:39544}},1),1)
}
> cl_chans.recv(1,{tx:24,bd:{vl:39544}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:39544}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:18396}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:18396}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),22105)
  write(response.bd(loc:res),{vl:22105})
  write(response_body.vl(fml:out),22105)
  write(ref.txres(26),{vl:22105})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:22105}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:39718},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"m",vl:39718})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39718})
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(9),25)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),25)
  write(mid_spec.queue.head,10)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),39544)
  write(ref.txres(23),{vl:39544})
  write(ref.committed(23),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:63166},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"m",vl:63166})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:63166})
}
> cl_chans.send(0,{tx:23,bd:{vl:39544}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:39544}},0),1)
}
> ref.commit(28,prim)
{
  write(response_body.vl(fml:out),22105)
  write(ref.txres(28),{vl:22105})
  write(ref.committed(28),1)
}
> cl_chans.send(1,{tx:28,bd:{vl:22105}})
{
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:22105}},1),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(10),19)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),19)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:59145}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),59145)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),59145)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:59145}}})
{
  write(mid_spec.acked(25),1)
}
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),59145)
  write(ref.txres(27),{vl:59145})
  write(ref.committed(27),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:24761},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:24761})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24761})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:24761}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),24761)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),24761)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:24761}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:13350},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:13350})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:13350})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:13350}}}),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:13350}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:13350}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:13350}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),13350)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),13350)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:13350}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:1522},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:1522})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:1522})
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),13350)
  write(ref.txres(2),{vl:13350})
  write(ref.committed(2),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:55947},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:55947})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55947})
}
> cl.client_request(0,{knd:read,ky:"m",vl:45186},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:45186})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45186})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:45186}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:45186}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:45186}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),24761)
  write(response.bd(loc:res),{vl:24761})
  write(response_body.vl(fml:out),24761)
  write(ref.txres(4),{vl:24761})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:24761}},0),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:24761}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:24761}},0),0)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),24761)
  write(ref.txres(3),{vl:24761})
  write(ref.committed(3),1)
}
> cl_chans.send(1,{tx:3,bd:{vl:24761}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:24761}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:29958},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:29958})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29958})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:29958}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:22198},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:22198})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22198})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:22198}}}),1)
}
> cl_chans.send(1,{tx:2,bd:{vl:13350}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:13350}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:4088},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:4088})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:4088})
}
> cl.client_request(0,{knd:write,ky:"m",vl:41262},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"m",vl:41262})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41262})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:41262}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:41262}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:41262}}}),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(2),8)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),8)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:41262}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),41262)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),41262)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:41262}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:56292},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"m",vl:56292})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:56292})
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:13350}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:13350}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:22198}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:22198}}}),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:write,ky:"m",vl:58381},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:58381})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58381})
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:29958}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:29958}}}),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(4),10)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),10)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"m",vl:23931},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:23931})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23931})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:23931}}}),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:24761}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:24761}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:23931}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:23931}}}),0)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),41262)
  write(ref.txres(9),{vl:41262})
  write(ref.committed(9),1)
}
> cl_chans.send(0,{tx:9,bd:{vl:41262}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:41262}},0),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:write,ky:"m",vl:6451},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"m",vl:6451})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6451})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:6451}}}),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:41262}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:41262}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:6451}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:6451}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:45179},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:45179})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45179})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:45179}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:45179}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:45179}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),41262)
  write(response.bd(loc:res),{vl:41262})
  write(response_body.vl(fml:out),41262)
  write(ref.txres(13),{vl:41262})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:41262}},1),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(6),12)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),12)
  write(mid_spec.queue.head,7)
}
> cl.client_request(1,{knd:write,ky:"m",vl:45824},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:45824})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:45824})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:45824}}}),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:41262}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:41262}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:60754},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:60754})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:60754})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:60754}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:60754}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:60754}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),13350)
  write(response.bd(loc:res),{vl:13350})
  write(response_body.vl(fml:out),13350)
  write(ref.txres(15),{vl:13350})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:13350}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:4088}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),4088)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),4088)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:4088}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:38212},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:38212})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:38212})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:58381}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),58381)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),58381)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:58381}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:48642},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:48642})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48642})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:36923},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:36923})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:36923})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),4088)
  write(ref.txres(17),{vl:4088})
  write(ref.committed(17),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:23931}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),23931)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),23931)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:23931}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:21950},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:21950})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:21950})
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:45824}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:45824}}}),0)
}
> cl_chans.send(1,{tx:17,bd:{vl:4088}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:4088}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:6451}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),6451)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),6451)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:6451}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:64179},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"m",vl:64179})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64179})
}
> cl.client_request(0,{knd:write,ky:"m",vl:55944},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"m",vl:55944})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:55944})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:55944}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:42674},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:42674})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:42674})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:42674}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:42674}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:42674}}}),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(7),22)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),22)
  write(mid_spec.queue.head,8)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(8),21)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),21)
  write(mid_spec.queue.head,9)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:36944},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:36944})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36944})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:36944}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:3991},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:3991})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3991})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:3991}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:36161},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:36161})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:36161})
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(9),25)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),25)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:55944}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:55944}}}),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(10),20)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),20)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:42674}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),42674)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),42674)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:42674}}})
{
  write(mid_spec.acked(22),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:3991}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:3991}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),42674)
  write(response.bd(loc:res),{vl:42674})
  write(response_body.vl(fml:out),42674)
  write(ref.txres(24),{vl:42674})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:42674}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:51516},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:51516})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51516})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:55944}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),55944)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),55944)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:55944}}})
{
  write(mid_spec.acked(21),1)
}
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(11),26)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),26)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:36161}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),25)
  write(sec.rep.store("wrsylb"),36161)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),36161)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:36161}}})
{
  write(mid_spec.acked(25),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:64179}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),64179)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),64179)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:64179}}})
{
  write(mid_spec.acked(20),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:51516}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),26)
  write(sec.rep.store("m"),51516)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),51516)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:51516}}})
{
  write(mid_spec.acked(26),1)
}
}
> cl_chans.recv(0,{tx:15,bd:{vl:13350}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:13350}},0),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(12),19)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),19)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:write,ky:"m",vl:55774},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"m",vl:55774})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:55774})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:write,ky:"m",vl:55774}}}),1)
}
> cl_chans.recv(1,{tx:24,bd:{vl:42674}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:42674}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:44225},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:write,ky:"m",vl:44225})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:44225})
}
> ser.serialize(28)
{
  write(ser.serialized(28),1)
  write(ser.queue.contents(13),28)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),28)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:21950}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),21950)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),21950)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:21950}}})
{
  write(mid_spec.acked(19),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:44225}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),28)
  write(sec.rep.store("m"),44225)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("m"),44225)
  write(ref.txres(28),{vl:0})
  write(ref.committed(28),1)
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:44225}}})
{
  write(mid_spec.acked(28),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:36944}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:36944}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),36161)
  write(response.bd(loc:res),{vl:36161})
  write(response_body.vl(fml:out),36161)
  write(ref.txres(23),{vl:36161})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:36161}},0),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:36161}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:36161}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:14486},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:read,ky:"wrsylb",vl:14486})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14486})
}
> sec.req_chan.recv({cid:0,req:{tx:27,bd:{knd:write,ky:"m",vl:55774}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:write,ky:"m",vl:55774}}}),0)
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(14),27)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),27)
  write(mid_spec.queue.head,15)
}
> cl_chans.recv(0,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:28,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:28,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:42909},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(30),{knd:read,ky:"m",vl:42909})
  write(ref.next,31)
  write(mid_spec.req_dest(30),prim)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:42909})
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(15),18)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),18)
  write(mid_spec.queue.head,16)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:27,bd:{knd:write,ky:"m",vl:55774}}})
{
  write(mid_spec.queue.tail,15)
  write(response.tx(loc:res),27)
  write(sec.rep.store("m"),55774)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,15)
  write(ref.rep.store("m"),55774)
  write(ref.txres(27),{vl:0})
  write(ref.committed(27),1)
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:27,bd:{knd:write,ky:"m",vl:55774}}})
{
  write(mid_spec.acked(27),1)
}
}
> ref.commit(30,prim)
{
  write(response_body.vl(fml:out),55774)
  write(ref.txres(30),{vl:55774})
  write(ref.committed(30),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:17564},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:17564})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:17564})
}
> cl.client_request(0,{knd:read,ky:"m",vl:57877},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:57877})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:57877})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:57877}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:57877}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:57877}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:35383},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:35383})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:35383})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:35383}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:61676},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:61676})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61676})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:61676}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:61676}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:61676}}}),0)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:35383}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:35383}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:17564}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),17564)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),17564)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:17564}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:15308},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:15308})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:15308})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:15308}}}),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:15308}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:15308}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:15308}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),15308)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),15308)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:15308}}})
{
  write(mid_spec.acked(4),1)
}
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:write,ky:"m",vl:47925},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:47925})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47925})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:61676}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),61676)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),61676)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:61676}}})
{
  write(mid_spec.acked(3),1)
}
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(4),2)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),2)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"m",vl:48950},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:48950})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48950})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:48950}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:47925}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),47925)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),47925)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:47925}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:21726},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:21726})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21726})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:21726}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:15392},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:15392})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:15392})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:35383}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),35383)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),35383)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:35383}}})
{
  write(mid_spec.acked(2),1)
}
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(5),8)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),8)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:28286},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:28286})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:28286})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:28286}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:48950}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:48950}}}),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:3364},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:3364})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3364})
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(6),10)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),10)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:65309},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:65309})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65309})
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(7),7)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),7)
  write(mid_spec.queue.head,8)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(8),6)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),6)
  write(mid_spec.queue.head,9)
}
> cl.client_request(0,{knd:read,ky:"m",vl:62931},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:62931})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62931})
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),35383)
  write(ref.txres(12),{vl:35383})
  write(ref.committed(12),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:49666},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:49666})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49666})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:49666}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:29904},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:29904})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:29904})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:29904}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:15392}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),15392)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),15392)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:15392}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:13677},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:13677})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:13677})
}
> cl.client_request(1,{knd:read,ky:"m",vl:48782},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:48782})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48782})
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),15392)
  write(ref.txres(15),{vl:15392})
  write(ref.committed(15),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),35383)
  write(ref.txres(16),{vl:35383})
  write(ref.committed(16),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:3364}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),3364)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),3364)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:3364}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:48672},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:48672})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:48672})
}
> cl_chans.send(1,{tx:15,bd:{vl:15392}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:15392}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:21726}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),21726)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),21726)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:21726}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.send(0,{tx:12,bd:{vl:35383}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:35383}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:28286}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:28286}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),21726)
  write(response.bd(loc:res),{vl:21726})
  write(response_body.vl(fml:out),21726)
  write(ref.txres(9),{vl:21726})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:21726}},0),1)
}
> cl_chans.send(0,{tx:16,bd:{vl:35383}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:35383}},0),1)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),21726)
  write(ref.txres(11),{vl:21726})
  write(ref.committed(11),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:21726}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:21726}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:7767},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:7767})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7767})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:7767}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:7767}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:7767}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),21726)
  write(response.bd(loc:res),{vl:21726})
  write(response_body.vl(fml:out),21726)
  write(ref.txres(18),{vl:21726})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:21726}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:31403},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:31403})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:31403})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:49038},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:49038})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49038})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:49038}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:36845},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:36845})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:36845})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:48950}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),48950)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),48950)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:48950}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:61409},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:61409})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61409})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:61409}}}),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(9),21)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),21)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:49666}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:49666}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),48950)
  write(response.bd(loc:res),{vl:48950})
  write(response_body.vl(fml:out),48950)
  write(ref.txres(13),{vl:48950})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:48950}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:49038}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:49038}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),21726)
  write(response.bd(loc:res),{vl:21726})
  write(response_body.vl(fml:out),21726)
  write(ref.txres(20),{vl:21726})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:21726}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:61409}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:61409}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),21726)
  write(response.bd(loc:res),{vl:21726})
  write(response_body.vl(fml:out),21726)
  write(ref.txres(22),{vl:21726})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:21726}},0),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(10),19)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),19)
  write(mid_spec.queue.head,11)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(11),17)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),17)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(0,{tx:13,bd:{vl:48950}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:48950}},0),0)
}
> cl_chans.send(1,{tx:11,bd:{vl:21726}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:21726}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:42749},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"m",vl:42749})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42749})
}
> cl_chans.recv(1,{tx:15,bd:{vl:15392}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:15392}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:35378},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:35378})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:35378})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:4915},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:4915})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:4915})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:4915}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:4915}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:4915}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:43234},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:43234})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:43234})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:43234}}}),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:21726}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:21726}},1),0)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(12),26)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),26)
  write(mid_spec.queue.head,13)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:29904}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:29904}}}),0)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(13),25)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),25)
  write(mid_spec.queue.head,14)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(14),24)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),24)
  write(mid_spec.queue.head,15)
}
> cl.client_request(0,{knd:write,ky:"m",vl:38799},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"m",vl:38799})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38799})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:write,ky:"m",vl:38799}}}),1)
}
> cl_chans.recv(0,{tx:18,bd:{vl:21726}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:21726}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:12960},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"wrsylb",vl:12960})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12960})
}
> cl.client_request(0,{knd:write,ky:"m",vl:14639},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:write,ky:"m",vl:14639})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14639})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:write,ky:"m",vl:14639}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:36845}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),36845)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),36845)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:36845}}})
{
  write(mid_spec.acked(21),1)
}
}
> ser.serialize(29)
{
  write(ser.serialized(29),1)
  write(ser.queue.contents(15),29)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),29)
  write(mid_spec.queue.head,16)
}
> cl.client_request(0,{knd:read,ky:"m",vl:32848},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(30),{knd:read,ky:"m",vl:32848})
  write(ref.next,31)
  write(mid_spec.req_dest(30),prim)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32848})
}
> ref.commit(30,prim)
{
  write(response_body.vl(fml:out),48950)
  write(ref.txres(30),{vl:48950})
  write(ref.committed(30),1)
}
> ser.serialize(28)
{
  write(ser.serialized(28),1)
  write(ser.queue.contents(16),28)
  write(ser.queue.head,17)
  write(mid_spec.queue.contents(16),28)
  write(mid_spec.queue.head,17)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:31403}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),31403)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),31403)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:31403}}})
{
  write(mid_spec.acked(19),1)
}
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(17),27)
  write(ser.queue.head,18)
  write(mid_spec.queue.contents(17),27)
  write(mid_spec.queue.head,18)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:34728},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(31),{knd:write,ky:"wrsylb",vl:34728})
  write(ref.next,32)
  write(mid_spec.req_dest(31),sec)
  write(request.tx(req(loc:m)),31)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34728})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:31,bd:{knd:write,ky:"wrsylb",vl:34728}}}),1)
}
> cl_chans.send(0,{tx:30,bd:{vl:48950}})
{
  write(service_spec.responded(30),1)
  write(cl_chans.spec.sent({tx:30,bd:{vl:48950}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:48672}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),48672)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),48672)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:48672}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:52137},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(32),{knd:write,ky:"m",vl:52137})
  write(ref.next,33)
  write(mid_spec.req_dest(32),prim)
  write(request.tx(req(loc:m)),32)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:52137})
}
> cl.client_request(1,{knd:read,ky:"m",vl:10195},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(33),{knd:read,ky:"m",vl:10195})
  write(ref.next,34)
  write(mid_spec.req_dest(33),sec)
  write(request.tx(req(loc:m)),33)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10195})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:33,bd:{knd:read,ky:"m",vl:10195}}}),1)
}
> ser.serialize(32)
{
  write(ser.serialized(32),1)
  write(ser.queue.contents(18),32)
  write(ser.queue.head,19)
  write(mid_spec.queue.contents(18),32)
  write(mid_spec.queue.head,19)
}
> cl_chans.recv(0,{tx:22,bd:{vl:21726}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:21726}},0),0)
}
> cl_chans.recv(1,{tx:20,bd:{vl:21726}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:21726}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"m",vl:5560},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"m",vl:5560})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5560})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:31656},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:31656})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31656})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:5560}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),5560)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),5560)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:5560}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:37213},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:37213})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37213})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:37213}}}),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:37213}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:37213}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:65377},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:65377})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65377})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:65377}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:59959},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:59959})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:59959})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:59959}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:59959}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:59959}}}),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:65377}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:65377}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:36284},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:36284})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36284})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:36284}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:59959}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),59959)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),59959)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:59959}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:36284}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:36284}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),59959)
  write(response.bd(loc:res),{vl:59959})
  write(response_body.vl(fml:out),59959)
  write(ref.txres(5),{vl:59959})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:59959}},0),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:21453},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:21453})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21453})
}
> cl.client_request(0,{knd:read,ky:"m",vl:14141},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:14141})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14141})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:14141}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:14141}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:14141}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),59959)
  write(response.bd(loc:res),{vl:59959})
  write(response_body.vl(fml:out),59959)
  write(ref.txres(7),{vl:59959})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:59959}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55679},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:55679})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55679})
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(2),8)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),8)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:5,bd:{vl:59959}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:59959}},0),0)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:55679}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),55679)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),55679)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:55679}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(0,{tx:7,bd:{vl:59959}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:59959}},0),0)
}
> cl_chans.send(0,{tx:6,bd:{vl:0}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:43736},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:43736})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:43736})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:43736}}}),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:43736}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:43736}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),55679)
  write(response.bd(loc:res),{vl:55679})
  write(response_body.vl(fml:out),55679)
  write(ref.txres(9),{vl:55679})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:55679}},0),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:55679}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:55679}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:45009},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:45009})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45009})
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(3),10)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),10)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:45009}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),45009)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),45009)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:45009}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:30668},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:30668})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30668})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:30668}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:64102},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:64102})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64102})
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(4),12)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),12)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"m",vl:18675},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"m",vl:18675})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18675})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:64102}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),64102)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),64102)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:64102}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:16544},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:16544})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16544})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:16544}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:58559},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:58559})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58559})
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(5),15)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),15)
  write(mid_spec.queue.head,6)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:32463},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:32463})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32463})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:58559}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),58559)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),58559)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:58559}}})
{
  write(mid_spec.acked(15),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:16544}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:16544}}}),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:18675}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),18675)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),18675)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:18675}}})
{
  write(mid_spec.acked(13),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:30668}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:30668}}}),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(7),14)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),14)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:16544}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),16544)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),16544)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:16544}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:39341},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:39341})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39341})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:39341}}}),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(9),11)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),11)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:39341}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:39341}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:51199},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:51199})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51199})
}
> cl.client_request(0,{knd:write,ky:"m",vl:7784},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:7784})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:7784})
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(10),19)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),19)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:39341}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),39341)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),39341)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:39341}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:6149},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:6149})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6149})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:6149}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:55678},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:55678})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55678})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:55678}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:55678}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:55678}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),39341)
  write(response.bd(loc:res),{vl:39341})
  write(response_body.vl(fml:out),39341)
  write(ref.txres(21),{vl:39341})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:39341}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:6149}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:6149}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),16544)
  write(response.bd(loc:res),{vl:16544})
  write(response_body.vl(fml:out),16544)
  write(ref.txres(20),{vl:16544})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:16544}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:11052},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:11052})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11052})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:11052}}}),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(11),22)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),22)
  write(mid_spec.queue.head,12)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),39341)
  write(ref.txres(18),{vl:39341})
  write(ref.committed(18),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:50214},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:50214})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50214})
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),39341)
  write(ref.txres(16),{vl:39341})
  write(ref.committed(16),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:30668}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),30668)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),30668)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:30668}}})
{
  write(mid_spec.acked(11),1)
}
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(12),23)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),23)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(0,{tx:21,bd:{vl:39341}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:39341}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:18756},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:18756})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18756})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:18756}}}),1)
}
> cl_chans.recv(0,{tx:20,bd:{vl:16544}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:16544}},0),0)
}
> cl_chans.send(1,{tx:16,bd:{vl:39341}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:39341}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:7784}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),7784)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),7784)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:7784}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:16,bd:{vl:39341}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:39341}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:11052}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),11052)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),11052)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:11052}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:21622},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"m",vl:21622})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:21622})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:21622}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:50214}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),50214)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),50214)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:50214}}})
{
  write(mid_spec.acked(23),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:18756}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:18756}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),11052)
  write(response.bd(loc:res),{vl:11052})
  write(response_body.vl(fml:out),11052)
  write(ref.txres(24),{vl:11052})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:11052}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:11052}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:11052}}}),0)
}
> cl_chans.send(1,{tx:18,bd:{vl:39341}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:39341}},1),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(13),25)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),25)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:21622}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),21622)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("m"),21622)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:21622}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:64030},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:64030})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64030})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:64030}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:21622}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:21622}}}),0)
}
> cl_chans.recv(1,{tx:24,bd:{vl:11052}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:11052}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:64030}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:64030}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),21622)
  write(response.bd(loc:res),{vl:21622})
  write(response_body.vl(fml:out),21622)
  write(ref.txres(26),{vl:21622})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:21622}},1),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:39341}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:39341}},1),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:51705},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:51705})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51705})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:50851},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:50851})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50851})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:50851}}}),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:27103},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:27103})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:27103})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:27103}}}),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:12171},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:12171})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:12171})
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:27103}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:27103}}}),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:50851}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:50851}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:50851}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),50851)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),50851)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:50851}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:10841},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:10841})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10841})
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:36580},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:36580})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36580})
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:22516},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:22516})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22516})
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:read,ky:"m",vl:65433},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"m",vl:65433})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:65433})
}
> cl_chans.send(1,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(4),4)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),4)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:27103}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),27103)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),27103)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:27103}}})
{
  write(mid_spec.acked(2),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:12171}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),12171)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),12171)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:12171}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:963},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:963})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:963})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:963}}}),1)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),12171)
  write(ref.txres(7),{vl:12171})
  write(ref.committed(7),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:22516}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),22516)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),22516)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:22516}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:6238},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:6238})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6238})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:6238}}}),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:57671},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:57671})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:57671})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:57671}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:10841}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),10841)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),10841)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:10841}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.send(0,{tx:7,bd:{vl:12171}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:12171}},0),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:12171}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:12171}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:57671}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:57671}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),12171)
  write(response.bd(loc:res),{vl:12171})
  write(response_body.vl(fml:out),12171)
  write(ref.txres(10),{vl:12171})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:12171}},1),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:56040},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:56040})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:56040})
}
> cl_chans.recv(1,{tx:10,bd:{vl:12171}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:12171}},1),0)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),12171)
  write(ref.txres(11),{vl:12171})
  write(ref.committed(11),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:6238}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:6238}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),10841)
  write(response.bd(loc:res),{vl:10841})
  write(response_body.vl(fml:out),10841)
  write(ref.txres(9),{vl:10841})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:10841}},1),1)
}
> cl_chans.send(1,{tx:11,bd:{vl:12171}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:12171}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:963}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:963}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),10841)
  write(response.bd(loc:res),{vl:10841})
  write(response_body.vl(fml:out),10841)
  write(ref.txres(8),{vl:10841})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:10841}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:12171}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:12171}},1),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:10841}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:10841}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:61252},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"m",vl:61252})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61252})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:61252}}}),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:10841}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:10841}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:7148},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:7148})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7148})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:7148}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:7148}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:7148}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),10841)
  write(response.bd(loc:res),{vl:10841})
  write(response_body.vl(fml:out),10841)
  write(ref.txres(13),{vl:10841})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:10841}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:54475},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:54475})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54475})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:54475}}}),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:10841}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:10841}},1),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(5),12)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),12)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:61252}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),61252)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),61252)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:61252}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:12526},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:12526})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:12526})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:12526}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:61252}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:61252}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:12526}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:12526}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),61252)
  write(response.bd(loc:res),{vl:61252})
  write(response_body.vl(fml:out),61252)
  write(ref.txres(15),{vl:61252})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:61252}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:6266},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:6266})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6266})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(6),16)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),16)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(1,{tx:15,bd:{vl:61252}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:61252}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:54475}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:54475}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),61252)
  write(response.bd(loc:res),{vl:61252})
  write(response_body.vl(fml:out),61252)
  write(ref.txres(14),{vl:61252})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:61252}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:6266}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),6266)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),6266)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:6266}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:25593},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:25593})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25593})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:42643},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:42643})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42643})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:42643}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:59335},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:59335})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:59335})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:11049},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:11049})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11049})
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(7),19)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),19)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:read,ky:"m",vl:34960},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:34960})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:34960})
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:14,bd:{vl:61252}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:61252}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:42643}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:42643}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),10841)
  write(response.bd(loc:res),{vl:10841})
  write(response_body.vl(fml:out),10841)
  write(ref.txres(18),{vl:10841})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:10841}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:46648},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"m",vl:46648})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:46648})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:46648}}}),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:10841}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:10841}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:59335}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),59335)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),59335)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:59335}}})
{
  write(mid_spec.acked(19),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:46648}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:46648}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:25593}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),25593)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),25593)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:25593}}})
{
  write(mid_spec.acked(17),1)
}
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(9),22)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),22)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:46648}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),46648)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),46648)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:46648}}})
{
  write(mid_spec.acked(22),1)
}
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),25593)
  write(ref.txres(20),{vl:25593})
  write(ref.committed(20),1)
}
> cl_chans.send(1,{tx:20,bd:{vl:25593}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:25593}},1),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),0)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),46648)
  write(ref.txres(21),{vl:46648})
  write(ref.committed(21),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:25593}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:25593}},1),0)
}
> cl_chans.send(1,{tx:21,bd:{vl:46648}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:46648}},1),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:38123},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"m",vl:38123})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38123})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:38123}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:38123}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:38123}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:21296},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:21296})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:21296})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:21296}}}),1)
}
> cl_chans.recv(1,{tx:21,bd:{vl:46648}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:46648}},1),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(10),24)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),24)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:21296}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),21296)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),21296)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:21296}}})
{
  write(mid_spec.acked(24),1)
}
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(11),23)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),23)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(1,{tx:24,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:38123}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),38123)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),38123)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:38123}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl_chans.recv(0,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:21296}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:21296}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:43357},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:43357})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43357})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:43357}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:16916},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:16916})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:16916})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:39958},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:39958})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:39958})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:39958}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:16916}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),16916)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),16916)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:16916}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:4152},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:4152})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4152})
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:39958}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:39958}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),16916)
  write(response.bd(loc:res),{vl:16916})
  write(response_body.vl(fml:out),16916)
  write(ref.txres(1),{vl:16916})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:16916}},0),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:16916}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:16916}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:20678},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:20678})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:20678})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:20678}}}),1)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:20678}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:20678}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:53870},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:53870})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:53870})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:53870}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:4008},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:4008})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4008})
}
> cl.client_request(1,{knd:write,ky:"m",vl:28237},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:28237})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28237})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:20678}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),20678)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),20678)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:20678}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:41798},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:41798})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:41798})
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(2),6)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),6)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:28237}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),28237)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),28237)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:28237}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:39717},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:39717})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:39717})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:39717}}}),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:59430},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:59430})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59430})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:59430}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:58785},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:58785})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:58785})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:58785}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:39717}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:39717}}}),0)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),28237)
  write(ref.txres(7),{vl:28237})
  write(ref.committed(7),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:40764},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:40764})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40764})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:40764}}}),1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:14158},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:14158})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14158})
}
> cl_chans.send(1,{tx:7,bd:{vl:28237}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:28237}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:59430}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:59430}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),16916)
  write(response.bd(loc:res),{vl:16916})
  write(response_body.vl(fml:out),16916)
  write(ref.txres(9),{vl:16916})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:16916}},1),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(3),11)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),11)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:61272},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:61272})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61272})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:61272}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(4),13)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),13)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:59534},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:59534})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59534})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:59534}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(5),8)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),8)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:40764}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),40764)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),40764)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:40764}}})
{
  write(mid_spec.acked(11),1)
}
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),40764)
  write(ref.txres(12),{vl:40764})
  write(ref.committed(12),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:40764}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:40764}}}),0)
}
> cl_chans.send(0,{tx:12,bd:{vl:40764}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:40764}},0),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:28237}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:28237}},1),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:40764}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:40764}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:53870}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:53870}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:12263},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:12263})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:12263})
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:59534}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:59534}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),40764)
  write(response.bd(loc:res),{vl:40764})
  write(response_body.vl(fml:out),40764)
  write(ref.txres(14),{vl:40764})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:40764}},1),1)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),28237)
  write(ref.txres(15),{vl:28237})
  write(ref.committed(15),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:22219},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:22219})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22219})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:22219}}}),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:16916}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:16916}},1),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(6),16)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),16)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:61272}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:61272}}}),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:40764}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:40764}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:61272}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),61272)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),61272)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:61272}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.send(1,{tx:15,bd:{vl:28237}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:28237}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:28237}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:28237}},1),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(7),5)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),5)
  write(mid_spec.queue.head,8)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:34036},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:34036})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34036})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:34036}}}),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:39717}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),39717)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),39717)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:39717}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:58785}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:58785}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),61272)
  write(response.bd(loc:res),{vl:61272})
  write(response_body.vl(fml:out),61272)
  write(ref.txres(10),{vl:61272})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:61272}},0),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(8),4)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),4)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:10,bd:{vl:61272}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:61272}},0),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:10458},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:10458})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10458})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:10458}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:22219}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),22219)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),22219)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:22219}}})
{
  write(mid_spec.acked(16),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:4008}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),4008)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),4008)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:4008}}})
{
  write(mid_spec.acked(5),1)
}
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(9),18)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),18)
  write(mid_spec.queue.head,10)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:64488},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:64488})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64488})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:64488}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:28821},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:28821})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:28821})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:32956},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:32956})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:32956})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:32956}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:32956}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:32956}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:53870}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),53870)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),53870)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:53870}}})
{
  write(mid_spec.acked(4),1)
}
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(10),21)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),21)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:10458}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),10458)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),10458)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:10458}}})
{
  write(mid_spec.acked(18),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:64488}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:64488}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),10458)
  write(response.bd(loc:res),{vl:10458})
  write(response_body.vl(fml:out),10458)
  write(ref.txres(19),{vl:10458})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:10458}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:10458}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:10458}}}),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:10458}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:10458}},1),0)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),10458)
  write(ref.txres(20),{vl:10458})
  write(ref.committed(20),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:32956}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),32956)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),32956)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:32956}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:63231},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:63231})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:63231})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:63231}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:63231}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:63231}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),53870)
  write(response.bd(loc:res),{vl:53870})
  write(response_body.vl(fml:out),53870)
  write(ref.txres(22),{vl:53870})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:53870}},0),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:53870}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:53870}},0),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:34036}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:34036}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),32956)
  write(response.bd(loc:res),{vl:32956})
  write(response_body.vl(fml:out),32956)
  write(ref.txres(17),{vl:32956})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:32956}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:40174},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:40174})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:40174})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:40174}}}),1)
}
> cl_chans.send(1,{tx:20,bd:{vl:10458}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:10458}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:40174}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:40174}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),53870)
  write(response.bd(loc:res),{vl:53870})
  write(response_body.vl(fml:out),53870)
  write(ref.txres(23),{vl:53870})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:53870}},0),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:32956}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:32956}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:22219}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:22219}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:13262},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:13262})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:13262})
}
> cl_chans.recv(0,{tx:23,bd:{vl:53870}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:53870}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:52190},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:52190})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52190})
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),32956)
  write(ref.txres(24),{vl:32956})
  write(ref.committed(24),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:10458}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:10458}},1),0)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(11),25)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),25)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:18416},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:18416})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18416})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:38988},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:38988})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38988})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:38988}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:38988}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:38988}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:18098},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:18098})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18098})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:18098}}}),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:18098}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:18098}}}),0)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:18416}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),18416)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),18416)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:18416}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:42897},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:42897})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42897})
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),18416)
  write(ref.txres(3),{vl:18416})
  write(ref.committed(3),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:18098}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),18098)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),18098)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:18098}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:27990},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:27990})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27990})
}
> cl_chans.send(1,{tx:3,bd:{vl:18416}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:18416}},1),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:18416}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:18416}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:18919},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:18919})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18919})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:18919}}}),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:read,ky:"m",vl:61761},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:61761})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61761})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:61761}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:18919}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:18919}}}),0)
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),18098)
  write(ref.txres(4),{vl:18098})
  write(ref.committed(4),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:61761}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:61761}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),18098)
  write(response.bd(loc:res),{vl:18098})
  write(response_body.vl(fml:out),18098)
  write(ref.txres(6),{vl:18098})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:18098}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:18919}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),18919)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),18919)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:18919}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.send(1,{tx:4,bd:{vl:18098}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:18098}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:43266},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:43266})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43266})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:43266}}}),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:18098}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:18098}},1),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:18098}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:18098}},1),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:65251},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:65251})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:65251})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:65251}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:43266}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:43266}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),18919)
  write(response.bd(loc:res),{vl:18919})
  write(response_body.vl(fml:out),18919)
  write(ref.txres(7),{vl:18919})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:18919}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:65251}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),65251)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),65251)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:65251}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:30882},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:30882})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30882})
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:65251}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:65251}}}),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:18919}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:18919}},0),0)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),18416)
  write(ref.txres(9),{vl:18416})
  write(ref.committed(9),1)
}
> cl_chans.send(0,{tx:9,bd:{vl:18416}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:18416}},0),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:18416}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:18416}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:17036},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:17036})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17036})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:17036}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:17036}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:17036}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),18416)
  write(response.bd(loc:res),{vl:18416})
  write(response_body.vl(fml:out),18416)
  write(ref.txres(10),{vl:18416})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:18416}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:61970},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:61970})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61970})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:61832},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:61832})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61832})
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(4),11)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),11)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:29221},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:29221})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29221})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:29221}}}),1)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),18416)
  write(ref.txres(12),{vl:18416})
  write(ref.committed(12),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:18416}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:18416}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:61970}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),61970)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),61970)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:61970}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.send(0,{tx:12,bd:{vl:18416}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:18416}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:50260},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:50260})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50260})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:50260}}}),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:39415},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:39415})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39415})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:39415}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:29221}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:29221}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),18416)
  write(response.bd(loc:res),{vl:18416})
  write(response_body.vl(fml:out),18416)
  write(ref.txres(13),{vl:18416})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:18416}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:10807},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:10807})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:10807})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:10807}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:26366},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:26366})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26366})
}
> cl_chans.recv(0,{tx:13,bd:{vl:18416}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:18416}},0),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),61970)
  write(ref.txres(17),{vl:61970})
  write(ref.committed(17),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:61970}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:61970}},1),1)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(5),16)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),16)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:10807}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),10807)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),10807)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:10807}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.recv(0,{tx:12,bd:{vl:18416}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:18416}},0),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(6),15)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),15)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:39415}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),39415)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),39415)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:39415}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:3161},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:3161})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:3161})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:3161}}}),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:61970}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:61970}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:39415}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:39415}}}),0)
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(7),18)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),18)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:3161}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),3161)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),3161)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:3161}}})
{
  write(mid_spec.acked(18),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:10807}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:10807}}}),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(8),14)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),14)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:3161}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:3161}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:50260}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),50260)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),50260)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:50260}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:64279},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:64279})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64279})
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),50260)
  write(ref.txres(19),{vl:50260})
  write(ref.committed(19),1)
}
> cl_chans.send(1,{tx:19,bd:{vl:50260}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:50260}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:16280},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:16280})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16280})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:16280}}}),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:50260}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:50260}},1),0)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:58416},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:58416})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:58416})
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:16280}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:16280}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),50260)
  write(response.bd(loc:res),{vl:50260})
  write(response_body.vl(fml:out),50260)
  write(ref.txres(20),{vl:50260})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:50260}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:50260}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:50260}}}),0)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),50260)
  write(ref.txres(21),{vl:50260})
  write(ref.committed(21),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:8086},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:8086})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8086})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:8086}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:12417},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:12417})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:12417})
}
> cl_chans.recv(1,{tx:20,bd:{vl:50260}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:50260}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:8086}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:8086}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),3161)
  write(response.bd(loc:res),{vl:3161})
  write(response_body.vl(fml:out),3161)
  write(ref.txres(22),{vl:3161})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:3161}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:51967},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:51967})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51967})
}
> cl.client_request(0,{knd:write,ky:"m",vl:63930},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:63930})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:63930})
}
> cl_chans.send(1,{tx:21,bd:{vl:50260}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:50260}},1),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),3161)
  write(ref.txres(23),{vl:3161})
  write(ref.committed(23),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:3161}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:3161}},1),0)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),50260)
  write(ref.txres(24),{vl:50260})
  write(ref.committed(24),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:23589},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:23589})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:23589})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:23589}}}),1)
}
> cl_chans.send(1,{tx:24,bd:{vl:50260}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:50260}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:34954},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:34954})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34954})
}
> cl_chans.send(1,{tx:23,bd:{vl:3161}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:3161}},1),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"m",vl:22901},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"m",vl:22901})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22901})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:33748},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:33748})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33748})
}
> cl.client_request(0,{knd:read,ky:"m",vl:35417},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:35417})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35417})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:22901}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),22901)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),22901)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:22901}}})
{
  write(mid_spec.acked(0),1)
}
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:33748}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),33748)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),33748)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:33748}}})
{
  write(mid_spec.acked(1),1)
}
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),22901)
  write(ref.txres(2),{vl:22901})
  write(ref.committed(2),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:756},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:756})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:756})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:756}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:1641},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:1641})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:1641})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:756}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:756}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),22901)
  write(response.bd(loc:res),{vl:22901})
  write(response_body.vl(fml:out),22901)
  write(ref.txres(3),{vl:22901})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:22901}},0),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:22901}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:22901}},0),0)
}
> cl_chans.send(1,{tx:2,bd:{vl:22901}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:22901}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:39959},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:39959})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39959})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:39959}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:1641}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),1641)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),1641)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:1641}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:51667},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:51667})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51667})
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:39959}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:39959}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),22901)
  write(response.bd(loc:res),{vl:22901})
  write(response_body.vl(fml:out),22901)
  write(ref.txres(5),{vl:22901})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:22901}},1),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:51667}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),51667)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),51667)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:51667}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl_chans.recv(1,{tx:2,bd:{vl:22901}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:22901}},1),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:22901}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:22901}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:21178},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:21178})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21178})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:21178}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:52096},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:52096})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:52096})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:52096}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:21178}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:21178}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),22901)
  write(response.bd(loc:res),{vl:22901})
  write(response_body.vl(fml:out),22901)
  write(ref.txres(7),{vl:22901})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:22901}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:46996},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"m",vl:46996})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46996})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:24543},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:24543})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24543})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:24543}}}),1)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),22901)
  write(ref.txres(9),{vl:22901})
  write(ref.committed(9),1)
}
> cl_chans.send(0,{tx:9,bd:{vl:22901}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:22901}},0),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:22901}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:22901}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:52096}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:52096}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),22901)
  write(response.bd(loc:res),{vl:22901})
  write(response_body.vl(fml:out),22901)
  write(ref.txres(8),{vl:22901})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:22901}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:9989},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:9989})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9989})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:9989}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(4),11)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),11)
  write(mid_spec.queue.head,5)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(5),10)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),10)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:9989}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),9989)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),9989)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:9989}}})
{
  write(mid_spec.acked(11),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:24543}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:24543}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:10343},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:10343})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10343})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:10343}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:24543}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),24543)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),24543)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:24543}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:39162},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"m",vl:39162})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:39162})
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:9989}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:9989}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:293},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:293})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:293})
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:293}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),293)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),293)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:293}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:22901}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:22901}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:10343}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:10343}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),9989)
  write(response.bd(loc:res),{vl:9989})
  write(response_body.vl(fml:out),9989)
  write(ref.txres(12),{vl:9989})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:9989}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:21330},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:21330})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21330})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:21330}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:21330}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:21330}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),9989)
  write(response.bd(loc:res),{vl:9989})
  write(response_body.vl(fml:out),9989)
  write(ref.txres(15),{vl:9989})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:9989}},0),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(7),13)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),13)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(1,{tx:12,bd:{vl:9989}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:9989}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:39162}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),39162)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),39162)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:39162}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.recv(0,{tx:15,bd:{vl:9989}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:9989}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:12395},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:12395})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:12395})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:12395}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:12395}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:12395}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),293)
  write(response.bd(loc:res),{vl:293})
  write(response_body.vl(fml:out),293)
  write(ref.txres(16),{vl:293})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:293}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:19592},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:19592})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19592})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:19592}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:38082},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:38082})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38082})
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:19592}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:19592}}}),0)
}
> cl_chans.recv(1,{tx:16,bd:{vl:293}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:293}},1),0)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),293)
  write(ref.txres(18),{vl:293})
  write(ref.committed(18),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> cl.client_request(0,{knd:read,ky:"m",vl:53898},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:53898})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53898})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:19592}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),19592)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),19592)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:19592}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:19467},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"m",vl:19467})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19467})
}
> cl_chans.send(1,{tx:18,bd:{vl:293}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:293}},1),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),19592)
  write(ref.txres(19),{vl:19592})
  write(ref.committed(19),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:20382},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:20382})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20382})
}
> cl_chans.recv(1,{tx:18,bd:{vl:293}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:293}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:40976},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:40976})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40976})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:50246},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:50246})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50246})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:50246}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:59162},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:59162})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:59162})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:59162}}}),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(9),24)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),24)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(10),22)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),22)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:50246}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:50246}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),293)
  write(response.bd(loc:res),{vl:293})
  write(response_body.vl(fml:out),293)
  write(ref.txres(23),{vl:293})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:293}},1),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(11),21)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),21)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(0,{tx:9,bd:{vl:22901}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:22901}},0),0)
}
> cl_chans.recv(1,{tx:23,bd:{vl:293}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:293}},1),0)
}
> cl_chans.send(1,{tx:19,bd:{vl:19592}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:19592}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:8762},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:8762})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:8762})
}
> cl_chans.recv(1,{tx:19,bd:{vl:19592}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:19592}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:59162}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:59162}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:8885},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:8885})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8885})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:8885}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:39930},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"m",vl:39930})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39930})
}
> cl.client_request(0,{knd:read,ky:"m",vl:36390},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"m",vl:36390})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36390})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:read,ky:"m",vl:36390}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(12),20)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),20)
  write(mid_spec.queue.head,13)
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),19592)
  write(ref.txres(27),{vl:19592})
  write(ref.committed(27),1)
}
> cl_chans.send(0,{tx:27,bd:{vl:19592}})
{
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:19592}},0),1)
}
> cl_chans.recv(0,{tx:27,bd:{vl:19592}})
{
  write(cl_chans.spec.sent({tx:27,bd:{vl:19592}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:59162}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),59162)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),59162)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:59162}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:40976}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),40976)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),40976)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:40976}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:57425},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:read,ky:"m",vl:57425})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:57425})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:read,ky:"m",vl:57425}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:7961},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(30),{knd:write,ky:"wrsylb",vl:7961})
  write(ref.next,31)
  write(mid_spec.req_dest(30),sec)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7961})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:30,bd:{knd:write,ky:"wrsylb",vl:7961}}}),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:20382}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),20382)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),20382)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:20382}}})
{
  write(mid_spec.acked(21),1)
}
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:51847},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:51847})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51847})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:24428},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:24428})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24428})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:40945},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:40945})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40945})
}
> cl.client_request(0,{knd:read,ky:"m",vl:24193},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:24193})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24193})
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:11799},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:11799})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11799})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:write,ky:"m",vl:30115},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:30115})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:30115})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:24428}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),24428)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),24428)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:24428}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:11799}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),11799)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),11799)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:11799}}})
{
  write(mid_spec.acked(4),1)
}
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),11799)
  write(ref.txres(2),{vl:11799})
  write(ref.committed(2),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:56641},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:56641})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:56641})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:30115}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),30115)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),30115)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:30115}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:55407},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:55407})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55407})
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),11799)
  write(ref.txres(6),{vl:11799})
  write(ref.committed(6),1)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),30115)
  write(ref.txres(3),{vl:30115})
  write(ref.committed(3),1)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),30115)
  write(ref.txres(7),{vl:30115})
  write(ref.committed(7),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:2,bd:{vl:11799}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:11799}},1),1)
}
> cl_chans.send(0,{tx:6,bd:{vl:11799}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:11799}},0),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:11799}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:11799}},0),0)
}
> cl_chans.send(0,{tx:3,bd:{vl:30115}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:30115}},0),1)
}
> cl_chans.send(1,{tx:7,bd:{vl:30115}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:30115}},1),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:30115}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:30115}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:53174},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:53174})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:53174})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:53174}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:5459},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:5459})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:5459})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:5459}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:57437},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:57437})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57437})
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:53174}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:53174}}}),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:11799}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:11799}},1),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(3),9)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),9)
  write(mid_spec.queue.head,4)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(4),8)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),8)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(1,{tx:7,bd:{vl:30115}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:30115}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:20440},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:20440})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20440})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20440}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:5459}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),5459)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),5459)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:5459}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),5459)
  write(ref.txres(10),{vl:5459})
  write(ref.committed(10),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:53174}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),53174)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),53174)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:53174}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20440}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),20440)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),20440)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20440}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.send(0,{tx:10,bd:{vl:5459}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:5459}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:3726},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:3726})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3726})
}
> cl.client_request(1,{knd:write,ky:"m",vl:6251},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"m",vl:6251})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6251})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:6251}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),30115)
  write(ref.txres(12),{vl:30115})
  write(ref.committed(12),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:5459}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:5459}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:6251}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),6251)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),6251)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:6251}}})
{
  write(mid_spec.acked(13),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:5459}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:5459}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:5778},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:5778})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5778})
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:12,bd:{vl:30115}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:30115}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:6251}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:6251}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:35570},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:35570})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:35570})
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),20440)
  write(ref.txres(15),{vl:20440})
  write(ref.committed(15),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:16469},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:16469})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:16469})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:16469}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:16469}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:16469}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),6251)
  write(response.bd(loc:res),{vl:6251})
  write(response_body.vl(fml:out),6251)
  write(ref.txres(16),{vl:6251})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:6251}},1),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(7),14)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),14)
  write(mid_spec.queue.head,8)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:51287},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:51287})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51287})
}
> cl_chans.recv(1,{tx:12,bd:{vl:30115}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:30115}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:57562},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:57562})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57562})
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20440}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20440}}}),0)
}
> cl_chans.recv(1,{tx:16,bd:{vl:6251}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:6251}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:5778}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),5778)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),5778)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:5778}}})
{
  write(mid_spec.acked(14),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:51287}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),51287)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),51287)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:51287}}})
{
  write(mid_spec.acked(17),1)
}
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),51287)
  write(ref.txres(18),{vl:51287})
  write(ref.committed(18),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:35462},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:35462})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:35462})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:35462}}}),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(9),19)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),19)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:35462}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:35462}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:35462}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),35462)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),35462)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:35462}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:18,bd:{vl:51287}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:51287}},0),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:9289},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:9289})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:9289})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:9289}}}),1)
}
> cl_chans.send(0,{tx:15,bd:{vl:20440}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:20440}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:40152},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:40152})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40152})
}
> cl_chans.recv(0,{tx:18,bd:{vl:51287}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:51287}},0),0)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(10),21)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),21)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(0,{tx:15,bd:{vl:20440}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:20440}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:24036},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:24036})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24036})
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:9289}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:9289}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),5778)
  write(response.bd(loc:res),{vl:5778})
  write(response_body.vl(fml:out),5778)
  write(ref.txres(20),{vl:5778})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:5778}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:40152}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),40152)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),40152)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:40152}}})
{
  write(mid_spec.acked(21),1)
}
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(11),22)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),22)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(0,{tx:20,bd:{vl:5778}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:5778}},0),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:24036}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),24036)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),24036)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:24036}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:60566},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"m",vl:60566})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60566})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:60566}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:14500},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:14500})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14500})
}
> cl.client_request(0,{knd:read,ky:"m",vl:55620},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:55620})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55620})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:55620}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:63785},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"m",vl:63785})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:63785})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:63785}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:17515},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"m",vl:17515})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17515})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:47927},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:47927})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47927})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:59869},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:59869})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:59869})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:4809},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"m",vl:4809})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4809})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"m",vl:4809}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:read,ky:"m",vl:4809}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"m",vl:4809}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:47927}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),47927)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),47927)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:47927}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:62817},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"m",vl:62817})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:62817})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:62817}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:62817}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:62817}}}),0)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:9058},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:9058})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9058})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:9058}}}),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:62817}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),62817)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),62817)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:62817}}})
{
  write(mid_spec.acked(3),1)
}
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:59869}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),59869)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),59869)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:59869}}})
{
  write(mid_spec.acked(1),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:9058}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:9058}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),59869)
  write(response.bd(loc:res),{vl:59869})
  write(response_body.vl(fml:out),59869)
  write(ref.txres(4),{vl:59869})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:59869}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:13579},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:13579})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:13579})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:13579}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:7826},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:7826})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7826})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:7826}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:13579}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:13579}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:29642},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:29642})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:29642})
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:7826}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:7826}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:38597},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:38597})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38597})
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:29642}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),29642)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),29642)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:29642}}})
{
  write(mid_spec.acked(7),1)
}
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(4),6)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),6)
  write(mid_spec.queue.head,5)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(5),5)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),5)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:7826}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),7826)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),7826)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:7826}}})
{
  write(mid_spec.acked(6),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:13579}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),13579)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),13579)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:13579}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(1,{tx:4,bd:{vl:59869}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:59869}},1),0)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),13579)
  write(ref.txres(8),{vl:13579})
  write(ref.committed(8),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:47089},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:47089})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:47089})
}
> cl_chans.send(0,{tx:8,bd:{vl:13579}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:13579}},0),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(6),9)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),9)
  write(mid_spec.queue.head,7)
}
> cl.client_request(1,{knd:read,ky:"m",vl:4988},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:4988})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4988})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:4988}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:47089}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),47089)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),47089)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:47089}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:12611},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:12611})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12611})
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:4988}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:4988}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),29642)
  write(response.bd(loc:res),{vl:29642})
  write(response_body.vl(fml:out),29642)
  write(ref.txres(10),{vl:29642})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:29642}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:45889},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:45889})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45889})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:45889}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:45889}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:45889}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:18694},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:18694})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18694})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:18694}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:27275},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:27275})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:27275})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:27275}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:42238},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:42238})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:42238})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:21971},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:21971})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21971})
}
> cl_chans.recv(1,{tx:10,bd:{vl:29642}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:29642}},1),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(7),15)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),15)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:13579}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:13579}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:17357},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:17357})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:17357})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:17357}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:34508},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:34508})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34508})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:6757},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:6757})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6757})
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(8),13)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),13)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:42238}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),42238)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),42238)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:42238}}})
{
  write(mid_spec.acked(15),1)
}
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(9),12)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),12)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:17357}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:17357}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),29642)
  write(response.bd(loc:res),{vl:29642})
  write(response_body.vl(fml:out),29642)
  write(ref.txres(17),{vl:29642})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:29642}},0),1)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),42238)
  write(ref.txres(19),{vl:42238})
  write(ref.committed(19),1)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),42238)
  write(ref.txres(18),{vl:42238})
  write(ref.committed(18),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(10),11)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),11)
  write(mid_spec.queue.head,11)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),42238)
  write(ref.txres(16),{vl:42238})
  write(ref.committed(16),1)
}
> cl_chans.send(0,{tx:16,bd:{vl:42238}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:42238}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:18694}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),18694)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),18694)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:18694}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:27275}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:27275}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),18694)
  write(response.bd(loc:res),{vl:18694})
  write(response_body.vl(fml:out),18694)
  write(ref.txres(14),{vl:18694})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:18694}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:49781},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"m",vl:49781})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:49781})
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(11),20)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),20)
  write(mid_spec.queue.head,12)
}
> cl_chans.send(0,{tx:18,bd:{vl:42238}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:42238}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:36108},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:36108})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36108})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:36108}}}),1)
}
> cl_chans.recv(0,{tx:18,bd:{vl:42238}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:42238}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:18694}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:18694}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:36108}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:36108}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),18694)
  write(response.bd(loc:res),{vl:18694})
  write(response_body.vl(fml:out),18694)
  write(ref.txres(21),{vl:18694})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:18694}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:45889}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),45889)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),45889)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:45889}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.send(1,{tx:19,bd:{vl:42238}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:42238}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:12611}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),12611)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),12611)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:12611}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:18694}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:18694}},0),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:20835},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:20835})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20835})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:49781}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),49781)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),49781)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:49781}}})
{
  write(mid_spec.acked(20),1)
}
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),12611)
  write(ref.txres(22),{vl:12611})
  write(ref.committed(22),1)
}
> cl_chans.send(1,{tx:22,bd:{vl:12611}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:12611}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:37295},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"m",vl:37295})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:37295})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:37295}}}),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(12),23)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),23)
  write(mid_spec.queue.head,13)
}
> cl.client_request(1,{knd:write,ky:"m",vl:7451},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:7451})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:7451})
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:37295}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:37295}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54364},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"m",vl:54364})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54364})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:54364}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:54364}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:54364}}}),0)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(13),25)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),25)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:37295}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),37295)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),37295)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:37295}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:25756},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:25756})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25756})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:25756}}}),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(14),24)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),24)
  write(mid_spec.queue.head,15)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:2752},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:2752})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2752})
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:25756}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:25756}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),12611)
  write(response.bd(loc:res),{vl:12611})
  write(response_body.vl(fml:out),12611)
  write(ref.txres(26),{vl:12611})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:12611}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:45003},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"wrsylb",vl:45003})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45003})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:write,ky:"wrsylb",vl:45003}}}),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:46195},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:write,ky:"wrsylb",vl:46195})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46195})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:46195}}}),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:46195}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:46195}}}),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ser.serialize(29)
{
  write(ser.serialized(29),1)
  write(ser.queue.contents(15),29)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),29)
  write(mid_spec.queue.head,16)
}
> sec.req_chan.recv({cid:0,req:{tx:28,bd:{knd:write,ky:"wrsylb",vl:45003}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:write,ky:"wrsylb",vl:45003}}}),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:42238}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:42238}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:54364}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),54364)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("m"),54364)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:54364}}})
{
  write(mid_spec.acked(25),1)
}
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:38429},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:38429})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38429})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:38429}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:38429}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:38429}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:62965},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:62965})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62965})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:62965}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:62965}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:62965}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:41677},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"m",vl:41677})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:41677})
}
> cl.client_request(1,{knd:read,ky:"m",vl:2415},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:2415})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2415})
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:54854},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:54854})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54854})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:21077},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:21077})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21077})
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
}
> cl_chans.send(1,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:4,bd:{vl:0}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> cl_chans.send(1,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:57163},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:57163})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57163})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:57163}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:32080},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:32080})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32080})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:32080}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:32080}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:32080}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:57163}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:57163}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54887},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:54887})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54887})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:54887}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:11083},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"m",vl:11083})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11083})
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:54887}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:54887}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:65214},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:65214})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65214})
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(0),8)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),8)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:54887}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),54887)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),54887)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:54887}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),54887)
  write(ref.txres(9),{vl:54887})
  write(ref.committed(9),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:19554},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:19554})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:19554})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:1142},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:1142})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:1142})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:1142}}}),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(1),12)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),12)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:write,ky:"m",vl:64890},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:64890})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64890})
}
> cl_chans.send(0,{tx:10,bd:{vl:0}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(2),13)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),13)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:write,ky:"m",vl:19582},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:19582})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19582})
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(3),14)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),14)
  write(mid_spec.queue.head,4)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:62469},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:62469})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:62469})
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:1142}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:1142}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:1142}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),1142)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),1142)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:1142}}})
{
  write(mid_spec.acked(12),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:64890}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),64890)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),64890)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:64890}}})
{
  write(mid_spec.acked(13),1)
}
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(4),15)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),15)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:11,bd:{vl:0}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:19582}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),19582)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),19582)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:19582}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:25456},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:25456})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:25456})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:25456}}}),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:25456}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:25456}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),19582)
  write(response.bd(loc:res),{vl:19582})
  write(response_body.vl(fml:out),19582)
  write(ref.txres(16),{vl:19582})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:19582}},1),1)
}
> cl_chans.send(0,{tx:9,bd:{vl:54887}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:54887}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:4548},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:4548})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4548})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:4548}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:63168},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:63168})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:63168})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:23600},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:23600})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:23600})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:23600}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:4548}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:4548}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),19582)
  write(response.bd(loc:res),{vl:19582})
  write(response_body.vl(fml:out),19582)
  write(ref.txres(17),{vl:19582})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:19582}},0),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:54887}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:54887}},0),0)
}
> cl_chans.recv(0,{tx:17,bd:{vl:19582}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:19582}},0),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(5),19)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),19)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:62469}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),62469)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),62469)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:62469}}})
{
  write(mid_spec.acked(15),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:23600}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),23600)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),23600)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:23600}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:16,bd:{vl:19582}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:19582}},1),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:53872},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:53872})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:53872})
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:23600}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:23600}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:23323},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"m",vl:23323})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23323})
}
> cl.client_request(1,{knd:write,ky:"m",vl:46729},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:46729})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:46729})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:46729}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:39919},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:39919})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39919})
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(6),22)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),22)
  write(mid_spec.queue.head,7)
}
> cl.client_request(1,{knd:read,ky:"m",vl:51000},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:51000})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51000})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:51000}}}),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),62469)
  write(ref.txres(23),{vl:62469})
  write(ref.committed(23),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:46729}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:46729}}}),0)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(7),21)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),21)
  write(mid_spec.queue.head,8)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(8),20)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),20)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:51000}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:51000}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),62469)
  write(response.bd(loc:res),{vl:62469})
  write(response_body.vl(fml:out),62469)
  write(ref.txres(24),{vl:62469})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:62469}},1),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(9),18)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),18)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:46729}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),46729)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),46729)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:46729}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:36675},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:36675})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36675})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:36675}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:23323}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),23323)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),23323)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:23323}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl_chans.send(0,{tx:23,bd:{vl:62469}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:62469}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:36675}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:36675}}}),0)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(10),25)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),25)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(0,{tx:23,bd:{vl:62469}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:62469}},0),0)
}
> cl_chans.recv(1,{tx:24,bd:{vl:62469}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:62469}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:10074},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:10074})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:10074})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:10074}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:56194},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"m",vl:56194})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:56194})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"m",vl:56194}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:36097},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"m",vl:36097})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36097})
}
> sec.req_chan.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:10074}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:10074}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:53872}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),53872)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),53872)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:53872}}})
{
  write(mid_spec.acked(20),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:63168}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),63168)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),63168)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:63168}}})
{
  write(mid_spec.acked(18),1)
}
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:39390},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:39390})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39390})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:55626},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:55626})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55626})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:55626}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:55626}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:55626}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:43213},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:43213})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:43213})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:43213}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:19820},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"m",vl:19820})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19820})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:19820}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:19820}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:19820}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:43213}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:43213}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:37652},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:37652})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37652})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:37652}}}),1)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(0),3)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),3)
  write(mid_spec.queue.head,1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:19820}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),19820)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),19820)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:19820}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:32965},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:32965})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32965})
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:37652}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:37652}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),19820)
  write(ref.txres(5),{vl:19820})
  write(ref.committed(5),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:43213}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),43213)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),43213)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:43213}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:13359},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:13359})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:13359})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:63515},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:63515})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:63515})
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(2),7)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),7)
  write(mid_spec.queue.head,3)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:33175},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:33175})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33175})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:33175}}}),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:36429},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:36429})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36429})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:63515}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),63515)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),63515)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:63515}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.send(1,{tx:6,bd:{vl:0}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:33175}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:33175}}}),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:49715},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:49715})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49715})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:49715}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:53226},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:53226})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:53226})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:53226}}}),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:49715}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:49715}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),63515)
  write(response.bd(loc:res),{vl:63515})
  write(response_body.vl(fml:out),63515)
  write(ref.txres(10),{vl:63515})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:63515}},0),1)
}
> cl_chans.send(1,{tx:5,bd:{vl:19820}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:19820}},1),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:read,ky:"m",vl:14653},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:14653})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14653})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:14653}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:7604},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:7604})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7604})
}
> cl.client_request(0,{knd:write,ky:"m",vl:28085},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:28085})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28085})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:28085}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:14653}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:14653}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),43213)
  write(response.bd(loc:res),{vl:43213})
  write(response_body.vl(fml:out),43213)
  write(ref.txres(12),{vl:43213})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:43213}},0),1)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),63515)
  write(ref.txres(9),{vl:63515})
  write(ref.committed(9),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30182},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:30182})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30182})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30182}}}),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(4),15)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),15)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:33175}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),33175)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),33175)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:33175}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.send(0,{tx:9,bd:{vl:63515}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:63515}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30182}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),30182)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),30182)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30182}}})
{
  write(mid_spec.acked(15),1)
}
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(5),14)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),14)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:28085}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:28085}}}),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:19820}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:19820}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:28085}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),28085)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),28085)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:28085}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:37494},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:37494})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37494})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(6),16)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),16)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:write,ky:"m",vl:58687},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:58687})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58687})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:58687}}}),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:43213}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:43213}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:50287},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"m",vl:50287})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50287})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:50287}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:37494}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),37494)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),37494)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:37494}}})
{
  write(mid_spec.acked(16),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:58687}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:58687}}}),0)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),37494)
  write(ref.txres(13),{vl:37494})
  write(ref.committed(13),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(7),17)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),17)
  write(mid_spec.queue.head,8)
}
> cl_chans.send(0,{tx:13,bd:{vl:37494}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:37494}},0),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:63515}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:63515}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:61485},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:61485})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61485})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:61485}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:17162},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"m",vl:17162})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:17162})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:58687}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),58687)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),58687)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:58687}}})
{
  write(mid_spec.acked(17),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:61485}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:61485}}}),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30182}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30182}}}),0)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),58687)
  write(ref.txres(20),{vl:58687})
  write(ref.committed(20),1)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:53226}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:53226}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),37494)
  write(response.bd(loc:res),{vl:37494})
  write(response_body.vl(fml:out),37494)
  write(ref.txres(11),{vl:37494})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:37494}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:50287}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:50287}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),58687)
  write(response.bd(loc:res),{vl:58687})
  write(response_body.vl(fml:out),58687)
  write(ref.txres(18),{vl:58687})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:58687}},1),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(8),19)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),19)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(1,{tx:18,bd:{vl:58687}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:58687}},1),0)
}
> cl_chans.send(1,{tx:20,bd:{vl:58687}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:58687}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:61485}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),61485)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),61485)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:61485}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:28089},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:28089})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28089})
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),61485)
  write(ref.txres(21),{vl:61485})
  write(ref.committed(21),1)
}
> cl_chans.send(0,{tx:21,bd:{vl:61485}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:61485}},0),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:37494}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:37494}},1),0)
}
> cl_chans.recv(1,{tx:20,bd:{vl:58687}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:58687}},1),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:61485}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:61485}},0),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:62604},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:62604})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62604})
}
> cl_chans.recv(0,{tx:10,bd:{vl:63515}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:63515}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:63448},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:63448})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:63448})
}
> cl_chans.recv(0,{tx:13,bd:{vl:37494}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:37494}},0),0)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),61485)
  write(ref.txres(23),{vl:61485})
  write(ref.committed(23),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:62769},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:62769})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62769})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:62769}}}),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:23,bd:{vl:61485}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:61485}},0),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:61485}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:61485}},0),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:62769}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:62769}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),61485)
  write(response.bd(loc:res),{vl:61485})
  write(response_body.vl(fml:out),61485)
  write(ref.txres(24),{vl:61485})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:61485}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:15920},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:15920})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15920})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"m",vl:15920}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:40915},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:40915})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40915})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:40915}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:52682},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:52682})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52682})
}
> sec.req_chan.recv({cid:0,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:40915}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:40915}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),37494)
  write(response.bd(loc:res),{vl:37494})
  write(response_body.vl(fml:out),37494)
  write(ref.txres(26),{vl:37494})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:37494}},0),1)
}
> cl_chans.recv(0,{tx:26,bd:{vl:37494}})
{
  write(cl_chans.spec.sent({tx:26,bd:{vl:37494}},0),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:48678},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:48678})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48678})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:2164},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:2164})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:2164})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:2164}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:38621},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:38621})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38621})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:38621}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:38621}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:38621}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:296},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:296})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:296})
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:2164}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:2164}}}),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(0),3)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),3)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:296}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),296)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),296)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:296}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:23195},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:23195})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:23195})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:23195}}}),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:33792},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:33792})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:33792})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:38621}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),38621)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),38621)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:38621}}})
{
  write(mid_spec.acked(2),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:23195}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:23195}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:40895},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:40895})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40895})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:46235},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:46235})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46235})
}
> cl.client_request(1,{knd:write,ky:"m",vl:39212},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:39212})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:39212})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:39212}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:11400},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:11400})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11400})
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:2164}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),2164)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),2164)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:2164}}})
{
  write(mid_spec.acked(1),1)
}
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:18434},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:18434})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18434})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:18434}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:39212}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:39212}}}),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(5),10)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),10)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:39212}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),39212)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),39212)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:39212}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:18434}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:18434}}}),0)
}
> cl_chans.send(1,{tx:9,bd:{vl:0}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:46235}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),46235)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),46235)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:46235}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:63388},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:63388})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:63388})
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(6),11)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),11)
  write(mid_spec.queue.head,7)
}
> cl.client_request(1,{knd:read,ky:"m",vl:37973},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:37973})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:37973})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:37973}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:37973}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:37973}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),39212)
  write(response.bd(loc:res),{vl:39212})
  write(response_body.vl(fml:out),39212)
  write(ref.txres(12),{vl:39212})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:39212}},1),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(7),6)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),6)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:18434}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),18434)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),18434)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:18434}}})
{
  write(mid_spec.acked(10),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:63388}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),63388)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),63388)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:63388}}})
{
  write(mid_spec.acked(11),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:40895}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),40895)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),40895)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:40895}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:14104},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:14104})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14104})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:14104}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(8),13)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),13)
  write(mid_spec.queue.head,9)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:37173},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:37173})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37173})
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:602},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:602})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:602})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:14104}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),14104)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),14104)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:14104}}})
{
  write(mid_spec.acked(13),1)
}
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(9),14)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),14)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:37173}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),37173)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),37173)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:37173}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:7748},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:7748})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7748})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:7748}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:7748}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:7748}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),37173)
  write(response.bd(loc:res),{vl:37173})
  write(response_body.vl(fml:out),37173)
  write(ref.txres(16),{vl:37173})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:37173}},0),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:39212}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:39212}},1),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:37173}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:37173}},0),0)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),14104)
  write(ref.txres(15),{vl:14104})
  write(ref.committed(15),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:1718},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:1718})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:1718})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:1718}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(10),17)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),17)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:1718}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),1718)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),1718)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:1718}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:14069},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"m",vl:14069})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14069})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:14069}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:1718}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:1718}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:30181},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:30181})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30181})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:30181}}}),1)
}
> cl_chans.send(1,{tx:15,bd:{vl:14104}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:14104}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:14104}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:14104}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:30181}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:30181}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),14104)
  write(response.bd(loc:res),{vl:14104})
  write(response_body.vl(fml:out),14104)
  write(ref.txres(19),{vl:14104})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:14104}},0),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:14104}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:14104}},0),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:14104}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:14104}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:32983},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:32983})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32983})
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:14069}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:14069}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),14104)
  write(response.bd(loc:res),{vl:14104})
  write(response_body.vl(fml:out),14104)
  write(ref.txres(18),{vl:14104})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:14104}},1),1)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),1718)
  write(ref.txres(20),{vl:1718})
  write(ref.committed(20),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> cl_chans.send(0,{tx:20,bd:{vl:1718}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:1718}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:51346},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:51346})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51346})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:51346}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:37733},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:37733})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:37733})
}
> cl_chans.recv(0,{tx:20,bd:{vl:1718}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:1718}},0),0)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),14104)
  write(ref.txres(22),{vl:14104})
  write(ref.committed(22),1)
}
> cl_chans.send(1,{tx:22,bd:{vl:14104}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:14104}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:51346}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:51346}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),14104)
  write(response.bd(loc:res),{vl:14104})
  write(response_body.vl(fml:out),14104)
  write(ref.txres(21),{vl:14104})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:14104}},1),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:14104}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:14104}},1),0)
}
> cl_chans.recv(1,{tx:22,bd:{vl:14104}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:14104}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:61471},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"m",vl:61471})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61471})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:61471}}}),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(11),23)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),23)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:61471}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),61471)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),61471)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:61471}}})
{
  write(mid_spec.acked(23),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:61471}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:61471}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:52832},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:52832})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52832})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:52832}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:52832}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:52832}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),1718)
  write(response.bd(loc:res),{vl:1718})
  write(response_body.vl(fml:out),1718)
  write(ref.txres(24),{vl:1718})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:1718}},0),1)
}
> cl_chans.recv(0,{tx:24,bd:{vl:1718}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:1718}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:9458},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:9458})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9458})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:4889},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:4889})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:4889})
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> ref.commit(26,prim)
{
  write(response_body.vl(fml:out),1718)
  write(ref.txres(26),{vl:1718})
  write(ref.committed(26),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:47828},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:47828})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:47828})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:47828}}}),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:47828}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),47828)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),47828)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:47828}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:9680},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:9680})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9680})
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:53339},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:53339})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:53339})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:53339}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:9680}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),9680)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),9680)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:9680}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(2),2)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),2)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:47828}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:47828}}}),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:53339}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:53339}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:17261},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:17261})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:17261})
}
> cl.client_request(0,{knd:read,ky:"m",vl:38882},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:38882})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38882})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:38882}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:53339}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),53339)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),53339)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:53339}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:38882}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:38882}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(3),3)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),3)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:17261}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),17261)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),17261)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:17261}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:45201},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:45201})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:45201})
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(4),5)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),5)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:14142},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:14142})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14142})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:45201}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),45201)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),45201)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:45201}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:16358},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:16358})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16358})
}
> cl.client_request(0,{knd:write,ky:"m",vl:16781},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"m",vl:16781})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16781})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:53282},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:53282})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:53282})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:53282}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:53282}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:53282}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),17261)
  write(response.bd(loc:res),{vl:17261})
  write(response_body.vl(fml:out),17261)
  write(ref.txres(9),{vl:17261})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:17261}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:12951},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:12951})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12951})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:20175},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:20175})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20175})
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20175}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),20175)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),20175)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20175}}})
{
  write(mid_spec.acked(11),1)
}
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(6),10)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),10)
  write(mid_spec.queue.head,7)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(7),8)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),8)
  write(mid_spec.queue.head,8)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(8),7)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),7)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(1,{tx:9,bd:{vl:17261}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:17261}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:24859},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:24859})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24859})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:24859}}}),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(9),12)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),12)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:24859}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:24859}}}),0)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),20175)
  write(ref.txres(6),{vl:20175})
  write(ref.committed(6),1)
}
> cl_chans.send(0,{tx:6,bd:{vl:20175}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:20175}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:51776},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:51776})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51776})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:12951}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),12951)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),12951)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:12951}}})
{
  write(mid_spec.acked(10),1)
}
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),12951)
  write(ref.txres(13),{vl:12951})
  write(ref.committed(13),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:13,bd:{vl:12951}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:12951}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:16781}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),16781)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),16781)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:16781}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:61445},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:61445})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61445})
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),16781)
  write(ref.txres(14),{vl:16781})
  write(ref.committed(14),1)
}
> cl_chans.send(0,{tx:14,bd:{vl:16781}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:16781}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:7463},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:7463})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7463})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:7463}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:16358}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),16358)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),16358)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:16358}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:5705},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"m",vl:5705})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5705})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:4798},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:4798})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:4798})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:4798}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:4798}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:4798}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),12951)
  write(response.bd(loc:res),{vl:12951})
  write(response_body.vl(fml:out),12951)
  write(ref.txres(17),{vl:12951})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:12951}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:24859}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),24859)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),24859)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:24859}}})
{
  write(mid_spec.acked(12),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:7463}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:7463}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),24859)
  write(response.bd(loc:res),{vl:24859})
  write(response_body.vl(fml:out),24859)
  write(ref.txres(15),{vl:24859})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:24859}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:24859}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:24859}},1),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(10),16)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),16)
  write(mid_spec.queue.head,11)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:19033},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:19033})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:19033})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:5705}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),5705)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),5705)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:5705}}})
{
  write(mid_spec.acked(16),1)
}
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),24859)
  write(ref.txres(18),{vl:24859})
  write(ref.committed(18),1)
}
> cl_chans.send(0,{tx:18,bd:{vl:24859}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:24859}},0),1)
}
> cl_chans.recv(0,{tx:17,bd:{vl:12951}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:12951}},0),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:20175}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:20175}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:18388},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:18388})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18388})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:18388}}}),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:16781}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:16781}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:24859}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:24859}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:18388}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:18388}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),5705)
  write(response.bd(loc:res),{vl:5705})
  write(response_body.vl(fml:out),5705)
  write(ref.txres(19),{vl:5705})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:5705}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:4088},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"m",vl:4088})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4088})
}
> cl_chans.recv(1,{tx:19,bd:{vl:5705}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:5705}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:15313},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:15313})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15313})
}
> cl.client_request(0,{knd:read,ky:"m",vl:9376},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:9376})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:9376})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:9376}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(11),20)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),20)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:4088}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),4088)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),4088)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:4088}}})
{
  write(mid_spec.acked(20),1)
}
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),4088)
  write(ref.txres(21),{vl:4088})
  write(ref.committed(21),1)
}
> cl_chans.send(0,{tx:21,bd:{vl:4088}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:4088}},0),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:9858},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:9858})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9858})
}
> cl.client_request(1,{knd:write,ky:"m",vl:42298},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:42298})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42298})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:42298}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:42298}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:42298}}}),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:27952},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:27952})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:27952})
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:9376}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:9376}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),4088)
  write(response.bd(loc:res),{vl:4088})
  write(response_body.vl(fml:out),4088)
  write(ref.txres(22),{vl:4088})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:4088}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:63199},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"m",vl:63199})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:63199})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:63199}}}),1)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(12),26)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),26)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(0,{tx:13,bd:{vl:12951}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:12951}},0),0)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(13),24)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),24)
  write(mid_spec.queue.head,14)
}
> cl.client_request(0,{knd:write,ky:"m",vl:10352},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"m",vl:10352})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:10352})
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),24859)
  write(ref.txres(25),{vl:24859})
  write(ref.committed(25),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:63199}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:63199}}}),0)
}
> cl_chans.send(0,{tx:25,bd:{vl:24859}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:24859}},0),1)
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(14),27)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),27)
  write(mid_spec.queue.head,15)
}
> cl_chans.recv(0,{tx:25,bd:{vl:24859}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:24859}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:51368},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:51368})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51368})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:read,ky:"wrsylb",vl:51368}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:9162},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:9162})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9162})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:9162}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:6373},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:6373})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6373})
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:9162}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:9162}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:28224},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:28224})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:28224})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:28224}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),28224)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),28224)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:28224}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:17708},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:17708})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17708})
}
> cl.client_request(1,{knd:write,ky:"m",vl:18303},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:18303})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18303})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:18303}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),28224)
  write(ref.txres(3),{vl:28224})
  write(ref.committed(3),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:18303}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:18303}}}),0)
}
> cl_chans.send(0,{tx:3,bd:{vl:28224}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:28224}},0),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:28224}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:28224}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:18303}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),18303)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),18303)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:18303}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:11339},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:11339})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11339})
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:11339}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),11339)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),11339)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:11339}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:6873},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"m",vl:6873})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6873})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"m",vl:6873}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:read,ky:"m",vl:6873}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"m",vl:6873}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),11339)
  write(response.bd(loc:res),{vl:11339})
  write(response_body.vl(fml:out),11339)
  write(ref.txres(6),{vl:11339})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:11339}},0),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:11339}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:11339}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:59108},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:59108})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:59108})
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:read,ky:"m",vl:3783},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:3783})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3783})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:3783}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:60429},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:60429})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:60429})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:60429}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:32287},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:32287})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32287})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:32287}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:59108}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),59108)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),59108)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:59108}}})
{
  write(mid_spec.acked(7),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:60429}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:60429}}}),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:3783}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:3783}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),59108)
  write(response.bd(loc:res),{vl:59108})
  write(response_body.vl(fml:out),59108)
  write(ref.txres(8),{vl:59108})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:59108}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:52066},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:52066})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52066})
}
> cl_chans.recv(1,{tx:8,bd:{vl:59108}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:59108}},1),0)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(4),11)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),11)
  write(mid_spec.queue.head,5)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:52066}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),52066)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),52066)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:52066}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:48624},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:48624})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48624})
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),52066)
  write(ref.txres(12),{vl:52066})
  write(ref.committed(12),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:32287}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:32287}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),59108)
  write(response.bd(loc:res),{vl:59108})
  write(response_body.vl(fml:out),59108)
  write(ref.txres(10),{vl:59108})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:59108}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:1365},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"m",vl:1365})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:1365})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:1365}}}),1)
}
> cl_chans.recv(1,{tx:10,bd:{vl:59108}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:59108}},1),0)
}
> cl_chans.send(0,{tx:12,bd:{vl:52066}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:52066}},0),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(0,{tx:12,bd:{vl:52066}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:52066}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:39122},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:39122})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:39122})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:39122}}}),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(7),14)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),14)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:read,ky:"m",vl:10858},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:10858})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10858})
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),59108)
  write(ref.txres(15),{vl:59108})
  write(ref.committed(15),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:39122}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:39122}}}),0)
}
> cl_chans.send(0,{tx:15,bd:{vl:59108}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:59108}},0),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:59108}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:59108}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:24931},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:24931})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:24931})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:24931}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:60429}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),60429)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),60429)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:60429}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:1365}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:1365}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:24931}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:24931}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),60429)
  write(response.bd(loc:res),{vl:60429})
  write(response_body.vl(fml:out),60429)
  write(ref.txres(16),{vl:60429})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:60429}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:9097},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:9097})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:9097})
}
> cl_chans.recv(0,{tx:16,bd:{vl:60429}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:60429}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:1365}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),1365)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),1365)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:1365}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:16020},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:16020})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:16020})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:16020}}}),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),1365)
  write(ref.txres(17),{vl:1365})
  write(ref.committed(17),1)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:16020}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:16020}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),1365)
  write(response.bd(loc:res),{vl:1365})
  write(response_body.vl(fml:out),1365)
  write(ref.txres(18),{vl:1365})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:1365}},0),1)
}
> cl_chans.send(0,{tx:17,bd:{vl:1365}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:1365}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:39122}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),39122)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),39122)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:39122}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:54087},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:54087})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54087})
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(8),19)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),19)
  write(mid_spec.queue.head,9)
}
> cl.client_request(0,{knd:write,ky:"m",vl:22132},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"m",vl:22132})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22132})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:22132}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:54087}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),54087)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),54087)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:54087}}})
{
  write(mid_spec.acked(19),1)
}
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(9),20)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),20)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:22132}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:22132}}}),0)
}
> cl_chans.recv(0,{tx:17,bd:{vl:1365}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:1365}},0),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:1365}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:1365}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:22132}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),22132)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),22132)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:22132}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:55433},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:55433})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55433})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:55433}}}),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:55433}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:55433}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),54087)
  write(response.bd(loc:res),{vl:54087})
  write(response_body.vl(fml:out),54087)
  write(ref.txres(21),{vl:54087})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:54087}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:31011},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:31011})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31011})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:31011}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:36578},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:36578})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36578})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:36578}}}),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:54087}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:54087}},0),0)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:36578}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:36578}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),22132)
  write(response.bd(loc:res),{vl:22132})
  write(response_body.vl(fml:out),22132)
  write(ref.txres(23),{vl:22132})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:22132}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:16912},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:16912})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:16912})
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(10),24)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),24)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:31011}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:31011}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),54087)
  write(response.bd(loc:res),{vl:54087})
  write(response_body.vl(fml:out),54087)
  write(ref.txres(22),{vl:54087})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:54087}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:16912}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),24)
  write(sec.rep.store("wrsylb"),16912)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),16912)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:16912}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:26289},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:26289})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:26289})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:26289}}}),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:54087}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:54087}},1),0)
}
> cl_chans.recv(0,{tx:23,bd:{vl:22132}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:22132}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:26289}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:26289}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),16912)
  write(response.bd(loc:res),{vl:16912})
  write(response_body.vl(fml:out),16912)
  write(ref.txres(25),{vl:16912})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:16912}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:52591},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:52591})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:52591})
}
> cl.client_request(0,{knd:write,ky:"m",vl:33660},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"m",vl:33660})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33660})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:write,ky:"m",vl:33660}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:27,bd:{knd:write,ky:"m",vl:33660}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:write,ky:"m",vl:33660}}}),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:38515},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:38515})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38515})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:59073},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:59073})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59073})
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:29460},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:29460})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29460})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:29460}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:59899},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"m",vl:59899})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:59899})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:59899}}}),1)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:59899}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:59899}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:21391},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"m",vl:21391})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21391})
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(0),3)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),3)
  write(mid_spec.queue.head,1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:59899}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),59899)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),59899)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:59899}}})
{
  write(mid_spec.acked(3),1)
}
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),59899)
  write(ref.txres(4),{vl:59899})
  write(ref.committed(4),1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:29460}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:29460}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),59899)
  write(response.bd(loc:res),{vl:59899})
  write(response_body.vl(fml:out),59899)
  write(ref.txres(2),{vl:59899})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:59899}},0),1)
}
> cl_chans.send(1,{tx:4,bd:{vl:59899}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:59899}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:31178},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:31178})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31178})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:31178}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:31178}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:31178}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:13413},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:13413})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:13413})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:13413}}}),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(1),6)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),6)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:27280},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:27280})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:27280})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:27280}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:13413}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),13413)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),13413)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:13413}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:59899}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:59899}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:27280}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:27280}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:13413}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:13413}}}),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:59899}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:59899}},0),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(2),7)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),7)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:27280}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),27280)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),27280)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:27280}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:10320},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:10320})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:10320})
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:10320}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),10320)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),10320)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:10320}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:2880},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:2880})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2880})
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:38531},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:38531})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38531})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:38531}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:38531}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:38531}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),10320)
  write(response.bd(loc:res),{vl:10320})
  write(response_body.vl(fml:out),10320)
  write(ref.txres(10),{vl:10320})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:10320}},1),1)
}
> cl_chans.recv(1,{tx:10,bd:{vl:10320}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:10320}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:20247},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:20247})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20247})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:20247}}}),1)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),10320)
  write(ref.txres(9),{vl:10320})
  write(ref.committed(9),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:32166},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:32166})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32166})
}
> cl.client_request(1,{knd:read,ky:"m",vl:59759},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:59759})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59759})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:59759}}}),1)
}
> cl_chans.send(1,{tx:9,bd:{vl:10320}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:10320}},1),1)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),27280)
  write(ref.txres(12),{vl:27280})
  write(ref.committed(12),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:25289},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:25289})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25289})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:25289}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:20247}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:20247}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),27280)
  write(response.bd(loc:res),{vl:27280})
  write(response_body.vl(fml:out),27280)
  write(ref.txres(11),{vl:27280})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:27280}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:59759}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:59759}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),10320)
  write(response.bd(loc:res),{vl:10320})
  write(response_body.vl(fml:out),10320)
  write(ref.txres(13),{vl:10320})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:10320}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:65495},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:65495})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:65495})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:65495}}}),1)
}
> cl_chans.send(0,{tx:12,bd:{vl:27280}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:27280}},0),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(4),15)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),15)
  write(mid_spec.queue.head,5)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:65495}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:65495}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:53808},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:53808})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53808})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:53808}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:25289}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:25289}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),27280)
  write(response.bd(loc:res),{vl:27280})
  write(response_body.vl(fml:out),27280)
  write(ref.txres(14),{vl:27280})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:27280}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:65495}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),65495)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),65495)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:65495}}})
{
  write(mid_spec.acked(15),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:53808}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:53808}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),65495)
  write(response.bd(loc:res),{vl:65495})
  write(response_body.vl(fml:out),65495)
  write(ref.txres(16),{vl:65495})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:65495}},1),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:65495}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:65495}},1),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:27280}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:27280}},1),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:10320}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:10320}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:9717},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:9717})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9717})
}
> cl.client_request(0,{knd:write,ky:"m",vl:49677},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:49677})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:49677})
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(5),18)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),18)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:6152},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:6152})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6152})
}
> cl.client_request(1,{knd:write,ky:"m",vl:15601},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"m",vl:15601})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15601})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:15601}}}),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:27280}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:27280}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:49677}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),49677)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),49677)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:49677}}})
{
  write(mid_spec.acked(18),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:15601}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:15601}}}),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:27280}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:27280}},0),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:10320}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:10320}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:20324},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:20324})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:20324})
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(6),20)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),20)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:15601}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),15601)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),15601)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:15601}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl_chans.recv(1,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),0)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),15601)
  write(ref.txres(21),{vl:15601})
  write(ref.committed(21),1)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),27280)
  write(ref.txres(19),{vl:27280})
  write(ref.committed(19),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:6729},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:6729})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:6729})
}
> cl_chans.send(0,{tx:21,bd:{vl:15601}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:15601}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:28595},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:28595})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:28595})
}
> cl_chans.send(0,{tx:19,bd:{vl:27280}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:27280}},0),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(7),22)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),22)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:6729}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),6729)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),6729)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:6729}}})
{
  write(mid_spec.acked(22),1)
}
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),6729)
  write(ref.txres(23),{vl:6729})
  write(ref.committed(23),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:15601}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:15601}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:51379},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:51379})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51379})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:51379}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:51379}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:51379}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:19739},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:19739})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19739})
}
> cl.client_request(1,{knd:read,ky:"m",vl:13752},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:13752})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13752})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:13752}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:13752}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:13752}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),15601)
  write(response.bd(loc:res),{vl:15601})
  write(response_body.vl(fml:out),15601)
  write(ref.txres(26),{vl:15601})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:15601}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:2316},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:2316})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2316})
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(8),27)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),27)
  write(mid_spec.queue.head,9)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(9),25)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),25)
  write(mid_spec.queue.head,10)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:34380},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"wrsylb",vl:34380})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34380})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:write,ky:"wrsylb",vl:34380}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:16460},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:read,ky:"m",vl:16460})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:16460})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:read,ky:"m",vl:16460}}}),1)
}
> cl_chans.send(1,{tx:23,bd:{vl:6729}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:6729}},1),1)
}
> cl_chans.recv(1,{tx:26,bd:{vl:15601}})
{
  write(cl_chans.spec.sent({tx:26,bd:{vl:15601}},1),0)
}
> cl_chans.recv(0,{tx:19,bd:{vl:27280}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:27280}},0),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:43253},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:43253})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:43253})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:43253}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:43253}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:43253}}}),0)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:43253}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),43253)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),43253)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:43253}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:13791},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:13791})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:13791})
}
> cl.client_request(0,{knd:read,ky:"m",vl:23857},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:23857})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23857})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:23857}}}),1)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),43253)
  write(ref.txres(1),{vl:43253})
  write(ref.committed(1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:17661},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:17661})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17661})
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:23857}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:23857}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),43253)
  write(ref.txres(3),{vl:43253})
  write(ref.committed(3),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:1,bd:{vl:43253}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:43253}},1),1)
}
> cl_chans.send(1,{tx:3,bd:{vl:43253}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:43253}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:53847},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:53847})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:53847})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:53847}}}),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:43253}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:43253}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:53847}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:53847}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),43253)
  write(response.bd(loc:res),{vl:43253})
  write(response_body.vl(fml:out),43253)
  write(ref.txres(4),{vl:43253})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:43253}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:27030},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:27030})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27030})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:27030}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:27030}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:27030}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:43253}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:43253}},1),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:43253}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:43253}},1),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9737},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:9737})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9737})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:935},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:935})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:935})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:935}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:935}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:935}}}),0)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),43253)
  write(ref.txres(6),{vl:43253})
  write(ref.committed(6),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(1),7)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),7)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:41536},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:41536})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41536})
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),43253)
  write(ref.txres(8),{vl:43253})
  write(ref.committed(8),1)
}
> cl_chans.send(0,{tx:6,bd:{vl:43253}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:43253}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:935}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),935)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),935)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:935}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:22358},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:22358})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22358})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:22358}}}),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(2),9)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),9)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:6,bd:{vl:43253}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:43253}},0),0)
}
> cl_chans.send(0,{tx:8,bd:{vl:43253}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:43253}},0),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:50300},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:50300})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50300})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:50300}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:60933},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:60933})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:60933})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:60933}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:48886},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:48886})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48886})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:48886}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:22358}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),22358)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),22358)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:22358}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(0,{tx:8,bd:{vl:43253}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:43253}},0),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:43023},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:43023})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:43023})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:43023}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(3),13)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),13)
  write(mid_spec.queue.head,4)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:22358}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:22358}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:64026},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:64026})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64026})
}
> cl.client_request(1,{knd:write,ky:"m",vl:24262},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:24262})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24262})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:24262}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:48321},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:48321})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48321})
}
> cl.client_request(1,{knd:read,ky:"m",vl:56796},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:56796})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:56796})
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),22358)
  write(ref.txres(14),{vl:22358})
  write(ref.committed(14),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(4),15)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),15)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:43023}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),43023)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),43023)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:43023}}})
{
  write(mid_spec.acked(13),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:24262}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),24262)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),24262)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:24262}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:48886}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:48886}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),43023)
  write(response.bd(loc:res),{vl:43023})
  write(response_body.vl(fml:out),43023)
  write(ref.txres(12),{vl:43023})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:43023}},1),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:43023}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:43023}},1),0)
}
> cl_chans.send(1,{tx:14,bd:{vl:22358}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:22358}},1),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:22358}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:22358}},1),0)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),24262)
  write(ref.txres(16),{vl:24262})
  write(ref.committed(16),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:43023}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:43023}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:60933}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:60933}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),43023)
  write(response.bd(loc:res),{vl:43023})
  write(response_body.vl(fml:out),43023)
  write(ref.txres(11),{vl:43023})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:43023}},1),1)
}
> cl_chans.send(1,{tx:16,bd:{vl:24262}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:24262}},1),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:24262}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:24262}},1),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),24262)
  write(ref.txres(17),{vl:24262})
  write(ref.committed(17),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(5),10)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),10)
  write(mid_spec.queue.head,6)
}
> cl_chans.send(0,{tx:17,bd:{vl:24262}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:24262}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:24262}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:24262}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:50300}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:50300}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:53780},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:53780})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:53780})
}
> cl.client_request(1,{knd:read,ky:"m",vl:29778},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:29778})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29778})
}
> cl_chans.recv(0,{tx:17,bd:{vl:24262}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:24262}},0),0)
}
> cl_chans.recv(1,{tx:11,bd:{vl:43023}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:43023}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:49095},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:49095})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49095})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:49095}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(6),20)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),20)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:3682},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:3682})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3682})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:3682}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:3682}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:3682}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),43023)
  write(response.bd(loc:res),{vl:43023})
  write(response_body.vl(fml:out),43023)
  write(ref.txres(21),{vl:43023})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:43023}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:42059},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:42059})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42059})
}
> cl_chans.recv(0,{tx:21,bd:{vl:43023}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:43023}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:50300}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),50300)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),50300)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:50300}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:13716},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:13716})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:13716})
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:49095}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:49095}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:61620},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:61620})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61620})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:61620}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:49095}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),49095)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),49095)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:49095}}})
{
  write(mid_spec.acked(20),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:61620}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:61620}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),49095)
  write(response.bd(loc:res),{vl:49095})
  write(response_body.vl(fml:out),49095)
  write(ref.txres(24),{vl:49095})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:49095}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:14526},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:14526})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14526})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"m",vl:14526}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:25657},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"m",vl:25657})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:25657})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:10217},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:10217})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:10217})
}
> cl_chans.recv(0,{tx:24,bd:{vl:49095}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:49095}},0),0)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(7),26)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),26)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:read,ky:"m",vl:14526}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"m",vl:14526}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),50300)
  write(response.bd(loc:res),{vl:50300})
  write(response_body.vl(fml:out),50300)
  write(ref.txres(25),{vl:50300})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:50300}},1),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(8),23)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),23)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:3076},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:3076})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3076})
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:24749},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:write,ky:"wrsylb",vl:24749})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24749})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:24749}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:47165},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(30),{knd:read,ky:"m",vl:47165})
  write(ref.next,31)
  write(mid_spec.req_dest(30),prim)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47165})
}
> sec.req_chan.recv({cid:0,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:24749}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:24749}}}),0)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),50300)
  write(ref.txres(19),{vl:50300})
  write(ref.committed(19),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:33434},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(31),{knd:read,ky:"m",vl:33434})
  write(ref.next,32)
  write(mid_spec.req_dest(31),sec)
  write(request.tx(req(loc:m)),31)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:33434})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:31,bd:{knd:read,ky:"m",vl:33434}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:5092},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:5092})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:5092})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:63351},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:63351})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:63351})
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:26260},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"m",vl:26260})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26260})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"m",vl:26260}}}),1)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:5092}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),5092)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),5092)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:5092}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:44310},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:44310})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:44310})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:44310}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:read,ky:"m",vl:26260}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"m",vl:26260}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:44310}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:44310}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55663},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:55663})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55663})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:55663}}}),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:55663}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),55663)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),55663)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:55663}}})
{
  write(mid_spec.acked(4),1)
}
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:55663}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:55663}}}),0)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:48102},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:48102})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48102})
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:read,ky:"m",vl:21194},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"m",vl:21194})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21194})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"m",vl:21194}}}),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:read,ky:"m",vl:21194}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"m",vl:21194}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:44310}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),44310)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),44310)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:44310}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:48154},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:48154})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48154})
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),44310)
  write(ref.txres(7),{vl:44310})
  write(ref.committed(7),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:11204},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:11204})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11204})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:11204}}}),1)
}
> cl_chans.send(0,{tx:7,bd:{vl:44310}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:44310}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:48102}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),48102)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),48102)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:48102}}})
{
  write(mid_spec.acked(5),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:11204}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:11204}}}),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(4),8)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),8)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:11204}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),11204)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),11204)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:11204}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:40429},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:40429})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:40429})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:20541},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:20541})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20541})
}
> cl_chans.recv(0,{tx:7,bd:{vl:44310}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:44310}},0),0)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),44310)
  write(ref.txres(10),{vl:44310})
  write(ref.committed(10),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:31841},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:31841})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:31841})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:31841}}}),1)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),11204)
  write(ref.txres(9),{vl:11204})
  write(ref.committed(9),1)
}
> cl_chans.send(1,{tx:10,bd:{vl:44310}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:44310}},1),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:31841}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:31841}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:52369},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:52369})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52369})
}
> cl_chans.send(1,{tx:9,bd:{vl:11204}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:11204}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:31841}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),31841)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),31841)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:31841}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:44310}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:44310}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:496},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:496})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:496})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:496}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:496}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:496}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),11204)
  write(response.bd(loc:res),{vl:11204})
  write(response_body.vl(fml:out),11204)
  write(ref.txres(13),{vl:11204})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:11204}},0),1)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),31841)
  write(ref.txres(12),{vl:31841})
  write(ref.committed(12),1)
}
> cl_chans.send(1,{tx:12,bd:{vl:31841}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:31841}},1),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:11204}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:11204}},0),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:31332},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:31332})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31332})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:43334},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:43334})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:43334})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:43334}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:53504},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:53504})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53504})
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:43334}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:43334}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),31841)
  write(response.bd(loc:res),{vl:31841})
  write(response_body.vl(fml:out),31841)
  write(ref.txres(15),{vl:31841})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:31841}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:31841}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:31841}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:11543},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:11543})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11543})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:11543}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(6),17)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),17)
  write(mid_spec.queue.head,7)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),31841)
  write(ref.txres(14),{vl:31841})
  write(ref.committed(14),1)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:11543}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:11543}}}),0)
}
> cl_chans.send(1,{tx:14,bd:{vl:31841}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:31841}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:11543}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),11543)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),11543)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:11543}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:60355},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:60355})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:60355})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:40876},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:40876})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40876})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:40876}}}),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(7),18)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),18)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:40876}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:40876}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),31841)
  write(response.bd(loc:res),{vl:31841})
  write(response_body.vl(fml:out),31841)
  write(ref.txres(19),{vl:31841})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:31841}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:60355}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),60355)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),60355)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:60355}}})
{
  write(mid_spec.acked(18),1)
}
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),11543)
  write(ref.txres(16),{vl:11543})
  write(ref.committed(16),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:49954},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:49954})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49954})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:49954}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(8),20)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),20)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:18297},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:18297})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18297})
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:49954}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:49954}}}),0)
}
> cl_chans.send(0,{tx:16,bd:{vl:11543}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:11543}},0),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:11204}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:11204}},1),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:11543}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:11543}},0),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:31841}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:31841}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:49954}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),49954)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),49954)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:49954}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:27226},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:27226})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27226})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:27226}}}),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:31841}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:31841}},1),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(9),22)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),22)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:27226}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:27226}}}),0)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),49954)
  write(ref.txres(21),{vl:49954})
  write(ref.committed(21),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:38035},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:38035})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38035})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:38035}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:38035}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:38035}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),11543)
  write(response.bd(loc:res),{vl:11543})
  write(response_body.vl(fml:out),11543)
  write(ref.txres(23),{vl:11543})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:11543}},0),1)
}
> cl_chans.send(1,{tx:21,bd:{vl:49954}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:49954}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:20461},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:20461})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20461})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:54267},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:54267})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54267})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:54267}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:27226}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),27226)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),27226)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:27226}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl_chans.recv(0,{tx:23,bd:{vl:11543}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:11543}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:37352},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:37352})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37352})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:7536},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:7536})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7536})
}
> cl.client_request(0,{knd:write,ky:"m",vl:64397},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"m",vl:64397})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64397})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:64397}}}),1)
}
> cl_chans.recv(1,{tx:21,bd:{vl:49954}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:49954}},1),0)
}
> ref.commit(26,prim)
{
  write(response_body.vl(fml:out),49954)
  write(ref.txres(26),{vl:49954})
  write(ref.committed(26),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:55173},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:55173})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55173})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:55173}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:14239},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:14239})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14239})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:14239}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:17166},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:17166})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:17166})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:17166}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:55173}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:55173}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:15575},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:15575})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:15575})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:41920},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:41920})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:41920})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:41920}}}),1)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> cl_chans.send(0,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:45287},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:45287})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45287})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:17166}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),17166)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),17166)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:17166}}})
{
  write(mid_spec.acked(2),1)
}
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> cl_chans.send(0,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:55834},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:55834})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55834})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:55834}}}),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(2),6)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),6)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:14239}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:14239}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:38024},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:38024})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38024})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:41920}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),41920)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),41920)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:41920}}})
{
  write(mid_spec.acked(4),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:55834}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),55834)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),55834)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:55834}}})
{
  write(mid_spec.acked(6),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:41920}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:41920}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:55834}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:55834}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:17166}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:17166}}}),0)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),55834)
  write(ref.txres(7),{vl:55834})
  write(ref.committed(7),1)
}
> cl_chans.send(1,{tx:7,bd:{vl:55834}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:55834}},1),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:55834}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:55834}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:49531},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:49531})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49531})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:49531}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:34664},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:34664})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:34664})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:34664}}}),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:48954},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:48954})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48954})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:48954}}}),1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:22405},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:22405})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22405})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:22405}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:49531}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:49531}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),55834)
  write(response.bd(loc:res),{vl:55834})
  write(response_body.vl(fml:out),55834)
  write(ref.txres(8),{vl:55834})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:55834}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:22405}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:22405}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:48954}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:48954}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:34664}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:34664}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:31866},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:31866})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31866})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:31866}}}),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:31866}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:31866}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:50549},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"m",vl:50549})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50549})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:50549}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(3),13)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),13)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:write,ky:"m",vl:10303},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:10303})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:10303})
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:50549}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:50549}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:29046},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:29046})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29046})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:29046}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:59419},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:59419})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:59419})
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:29046}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:29046}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),55834)
  write(response.bd(loc:res),{vl:55834})
  write(response_body.vl(fml:out),55834)
  write(ref.txres(15),{vl:55834})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:55834}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:20133},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:20133})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20133})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:20133}}}),1)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(4),16)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),16)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(5),14)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),14)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:50549}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),50549)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),50549)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:50549}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:2831},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"m",vl:2831})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:2831})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:59419}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),59419)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),59419)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:59419}}})
{
  write(mid_spec.acked(16),1)
}
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(6),18)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),18)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:50870},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:50870})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50870})
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:20133}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:20133}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),55834)
  write(response.bd(loc:res),{vl:55834})
  write(response_body.vl(fml:out),55834)
  write(ref.txres(17),{vl:55834})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:55834}},0),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(7),11)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),11)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:17824},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:17824})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17824})
}
> cl_chans.recv(0,{tx:17,bd:{vl:55834}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:55834}},0),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:44977},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:44977})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:44977})
}
> cl.client_request(0,{knd:read,ky:"m",vl:53162},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:53162})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53162})
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),59419)
  write(ref.txres(22),{vl:59419})
  write(ref.committed(22),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:37009},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:37009})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37009})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:37009}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:56139},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:56139})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:56139})
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:37009}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:37009}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),55834)
  write(response.bd(loc:res),{vl:55834})
  write(response_body.vl(fml:out),55834)
  write(ref.txres(23),{vl:55834})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:55834}},1),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:55834}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:55834}},0),0)
}
> cl_chans.recv(1,{tx:23,bd:{vl:55834}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:55834}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:10303}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),10303)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),10303)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:10303}}})
{
  write(mid_spec.acked(14),1)
}
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(8),21)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),21)
  write(mid_spec.queue.head,9)
}
> cl_chans.send(0,{tx:22,bd:{vl:59419}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:59419}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:50583},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:50583})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50583})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:50583}}}),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:59419}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:59419}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54666},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"m",vl:54666})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54666})
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:50583}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:50583}}}),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:2831}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),2831)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),2831)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:2831}}})
{
  write(mid_spec.acked(18),1)
}
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(9),26)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),26)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:22405}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),22405)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),22405)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:22405}}})
{
  write(mid_spec.acked(11),1)
}
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),22405)
  write(ref.txres(19),{vl:22405})
  write(ref.committed(19),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(10),25)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),25)
  write(mid_spec.queue.head,11)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:20610},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:20610})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20610})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:20610}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:20610}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:20610}}}),0)
  write(response.tx(loc:res),27)
  write(response_body.vl(fml:out),22405)
  write(response.bd(loc:res),{vl:22405})
  write(response_body.vl(fml:out),22405)
  write(ref.txres(27),{vl:22405})
  write(ref.committed(27),1)
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:22405}},1),1)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),22405)
  write(ref.txres(24),{vl:22405})
  write(ref.committed(24),1)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),22405)
  write(ref.txres(20),{vl:22405})
  write(ref.committed(20),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:52351},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:52351})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52351})
}
> ref.commit(28,prim)
{
  write(response_body.vl(fml:out),22405)
  write(ref.txres(28),{vl:22405})
  write(ref.committed(28),1)
}
> cl_chans.send(0,{tx:28,bd:{vl:22405}})
{
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:22405}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:44977}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),44977)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),44977)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:44977}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl_chans.recv(1,{tx:27,bd:{vl:22405}})
{
  write(cl_chans.spec.sent({tx:27,bd:{vl:22405}},1),0)
}
> cl_chans.send(0,{tx:24,bd:{vl:22405}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:22405}},0),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:5567},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:write,ky:"wrsylb",vl:5567})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:5567})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:5567}}}),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:5567}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:5567}}}),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:14882},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:14882})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14882})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:42685},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:42685})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:42685})
}
> cl.client_request(1,{knd:read,ky:"m",vl:39285},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"m",vl:39285})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39285})
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:14882}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),14882)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),14882)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:14882}}})
{
  write(mid_spec.acked(0),1)
}
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:42685}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),42685)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),42685)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:42685}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:52468},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:52468})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52468})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:52468}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:26085},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"m",vl:26085})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26085})
}
> cl.client_request(0,{knd:write,ky:"m",vl:24827},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:24827})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24827})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:24827}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:27549},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"m",vl:27549})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27549})
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:39714},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:39714})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39714})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:39714}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:52468}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:52468}}}),0)
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),14882)
  write(ref.txres(4),{vl:14882})
  write(ref.committed(4),1)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),14882)
  write(ref.txres(6),{vl:14882})
  write(ref.committed(6),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:24827}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:24827}}}),0)
}
> cl_chans.send(0,{tx:4,bd:{vl:14882}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:14882}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:24827}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),24827)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),24827)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:24827}}})
{
  write(mid_spec.acked(5),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:39714}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:39714}}}),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> cl_chans.send(1,{tx:6,bd:{vl:14882}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:14882}},1),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:14882}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:14882}},1),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:14882}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:14882}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:39714}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),39714)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),39714)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:39714}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(4),3)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),3)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:read,ky:"m",vl:36340},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:36340})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36340})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:52468}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),52468)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),52468)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:52468}}})
{
  write(mid_spec.acked(3),1)
}
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),24827)
  write(ref.txres(8),{vl:24827})
  write(ref.committed(8),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:27715},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:27715})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27715})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:27715}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:27715}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:27715}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:25320},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:25320})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25320})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:25320}}}),1)
}
> cl_chans.send(0,{tx:8,bd:{vl:24827}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:24827}},0),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(5),10)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),10)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:25320}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:25320}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:25320}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),25320)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),25320)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:25320}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:53228},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:53228})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:53228})
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(6),11)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),11)
  write(mid_spec.queue.head,7)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(7),9)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),9)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:24827}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:24827}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:3719},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:3719})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3719})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:53228}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),53228)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),53228)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:53228}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:63788},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:63788})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:63788})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:63788}}}),1)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),24827)
  write(ref.txres(12),{vl:24827})
  write(ref.committed(12),1)
}
> cl_chans.send(1,{tx:12,bd:{vl:24827}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:24827}},1),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:24827}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:24827}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:25694},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:25694})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25694})
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),53228)
  write(ref.txres(14),{vl:53228})
  write(ref.committed(14),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(8),13)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),13)
  write(mid_spec.queue.head,9)
}
> cl.client_request(0,{knd:write,ky:"m",vl:42813},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:42813})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42813})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:42813}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:40025},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:40025})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40025})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(9),16)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),16)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:42813}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:42813}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:63788}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:63788}}}),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(10),15)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),15)
  write(mid_spec.queue.head,11)
}
> cl_chans.send(0,{tx:14,bd:{vl:53228}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:53228}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:27715}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),27715)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),27715)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:27715}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:42065},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:42065})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:42065})
}
> cl_chans.recv(0,{tx:14,bd:{vl:53228}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:53228}},0),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(11),17)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),17)
  write(mid_spec.queue.head,12)
}
> cl.client_request(1,{knd:read,ky:"m",vl:32198},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"m",vl:32198})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32198})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:32198}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54184},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:54184})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54184})
}
> cl.client_request(0,{knd:write,ky:"m",vl:52658},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"m",vl:52658})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:52658})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:52658}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:63788}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),63788)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),63788)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:63788}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:25467},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:25467})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25467})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:25467}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:40025}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),40025)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),40025)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:40025}}})
{
  write(mid_spec.acked(16),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:25467}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:25467}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:35457},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:35457})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:35457})
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:32198}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:32198}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),27715)
  write(response.bd(loc:res),{vl:27715})
  write(response_body.vl(fml:out),27715)
  write(ref.txres(18),{vl:27715})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:27715}},1),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(12),22)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),22)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:21801},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:21801})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21801})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:21801}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:16927},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:16927})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:16927})
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:52658}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:52658}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:42813}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),42813)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),42813)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:42813}}})
{
  write(mid_spec.acked(15),1)
}
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(13),24)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),24)
  write(mid_spec.queue.head,14)
}
> cl.client_request(0,{knd:write,ky:"m",vl:51991},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:51991})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51991})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:42065}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),42065)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),42065)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:42065}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:49304},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:49304})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49304})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:49304}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:35457}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),35457)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),35457)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:35457}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:57565},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:57565})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57565})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:16927}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),24)
  write(sec.rep.store("wrsylb"),16927)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),16927)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:16927}}})
{
  write(mid_spec.acked(24),1)
}
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),16927)
  write(ref.txres(27),{vl:16927})
  write(ref.committed(27),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:49304}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:49304}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),42813)
  write(response.bd(loc:res),{vl:42813})
  write(response_body.vl(fml:out),42813)
  write(ref.txres(26),{vl:42813})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:42813}},1),1)
}
> cl_chans.send(1,{tx:27,bd:{vl:16927}})
{
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:16927}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:21801}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:21801}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),16927)
  write(response.bd(loc:res),{vl:16927})
  write(response_body.vl(fml:out),16927)
  write(ref.txres(23),{vl:16927})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:16927}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:5836},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:write,ky:"m",vl:5836})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5836})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:22172},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:write,ky:"wrsylb",vl:22172})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22172})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:22172}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:22172}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:22172}}}),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:64733},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:64733})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64733})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:64733}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:3538},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:3538})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3538})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:3538}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:3538}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:3538}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:31840},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:31840})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:31840})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:31840}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:32585},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:32585})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32585})
}
> cl.client_request(1,{knd:write,ky:"m",vl:17696},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:17696})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17696})
}
> cl.client_request(1,{knd:write,ky:"m",vl:53310},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:53310})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:53310})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:53310}}}),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:64733}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:64733}}}),0)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:22362},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:22362})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:22362})
}
> cl_chans.send(1,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:64733}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),64733)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),64733)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:64733}}})
{
  write(mid_spec.acked(0),1)
}
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(1),5)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),5)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:53310}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:53310}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:31840}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:31840}}}),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:53310}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),53310)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),53310)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:53310}}})
{
  write(mid_spec.acked(5),1)
}
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(3),2)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),2)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:54250},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:54250})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54250})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:54250}}}),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:34086},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:34086})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34086})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:34086}}}),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:write,ky:"m",vl:1008},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:1008})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:1008})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:17696}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),17696)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),17696)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:17696}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.send(0,{tx:6,bd:{vl:0}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:31840}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),31840)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),31840)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:31840}}})
{
  write(mid_spec.acked(2),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:34086}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:34086}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:54250}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:54250}}}),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:54250}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),54250)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),54250)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:54250}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:36037},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:36037})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36037})
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(6),10)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),10)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:61763},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:61763})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61763})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:61763}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:1008}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),1008)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),1008)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:1008}}})
{
  write(mid_spec.acked(9),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:61763}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:61763}}}),0)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(7),11)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),11)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:36037}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),36037)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),36037)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:36037}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:35055},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:35055})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:35055})
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(8),12)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),12)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:61763}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),61763)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),61763)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:61763}}})
{
  write(mid_spec.acked(11),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:35055}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),35055)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),35055)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:35055}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:60585},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:60585})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:60585})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:60585}}}),1)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:60585}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:60585}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),61763)
  write(response.bd(loc:res),{vl:61763})
  write(response_body.vl(fml:out),61763)
  write(ref.txres(13),{vl:61763})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:61763}},0),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:21025},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:21025})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21025})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:21025}}}),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:61763}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:61763}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:54556},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:54556})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54556})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(9),15)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),15)
  write(mid_spec.queue.head,10)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:56882},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:56882})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:56882})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(10),16)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),16)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:21025}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:21025}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),35055)
  write(response.bd(loc:res),{vl:35055})
  write(response_body.vl(fml:out),35055)
  write(ref.txres(14),{vl:35055})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:35055}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:52240},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:52240})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52240})
}
> cl_chans.recv(0,{tx:14,bd:{vl:35055}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:35055}},0),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(11),17)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),17)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:read,ky:"m",vl:44018},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:44018})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44018})
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),35055)
  write(ref.txres(18),{vl:35055})
  write(ref.committed(18),1)
}
> cl_chans.send(1,{tx:18,bd:{vl:35055}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:35055}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:35389},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:35389})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:35389})
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),61763)
  write(ref.txres(19),{vl:61763})
  write(ref.committed(19),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:35055}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:35055}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:54556}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),54556)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),54556)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:54556}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:52328},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:52328})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52328})
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(12),20)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),20)
  write(mid_spec.queue.head,13)
}
> cl_chans.send(1,{tx:19,bd:{vl:61763}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:61763}},1),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:61763}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:61763}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:11918},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:11918})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11918})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:11918}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:58326},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"m",vl:58326})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58326})
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:11918}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:11918}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),35055)
  write(response.bd(loc:res),{vl:35055})
  write(response_body.vl(fml:out),35055)
  write(ref.txres(21),{vl:35055})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:35055}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:14920},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:14920})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14920})
}
> cl.client_request(1,{knd:read,ky:"m",vl:6908},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:6908})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6908})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:6908}}}),1)
}
> cl_chans.recv(1,{tx:21,bd:{vl:35055}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:35055}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:6908}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:6908}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),35055)
  write(response.bd(loc:res),{vl:35055})
  write(response_body.vl(fml:out),35055)
  write(ref.txres(24),{vl:35055})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:35055}},1),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),35055)
  write(ref.txres(23),{vl:35055})
  write(ref.committed(23),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(13),22)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),22)
  write(mid_spec.queue.head,14)
}
> cl_chans.send(1,{tx:23,bd:{vl:35055}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:35055}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:40479},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:40479})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:40479})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:40479}}}),1)
}
> cl_chans.recv(1,{tx:23,bd:{vl:35055}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:35055}},1),0)
}
> cl_chans.recv(1,{tx:24,bd:{vl:35055}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:35055}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:59428},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:59428})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59428})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:59428}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:34356},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"m",vl:34356})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:34356})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"m",vl:34356}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:56882}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),56882)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),56882)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:56882}}})
{
  write(mid_spec.acked(16),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:59428}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:59428}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),35055)
  write(response.bd(loc:res),{vl:35055})
  write(response_body.vl(fml:out),35055)
  write(ref.txres(26),{vl:35055})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:35055}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:52240}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),52240)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),52240)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:52240}}})
{
  write(mid_spec.acked(17),1)
}
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(14),25)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),25)
  write(mid_spec.queue.head,15)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:40479}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:40479}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:21444},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"m",vl:21444})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21444})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:64553},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:64553})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64553})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:64553}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:45828},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:45828})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45828})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:45828}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:25228},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:25228})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25228})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:25228}}}),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:64553}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),64553)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),64553)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:64553}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:49275},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:49275})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:49275})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:49275}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:64553}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:64553}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:25606},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:25606})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25606})
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:25228}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:25228}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:45828}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:45828}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),64553)
  write(response.bd(loc:res),{vl:64553})
  write(response_body.vl(fml:out),64553)
  write(ref.txres(1),{vl:64553})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:64553}},0),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:25606}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),25606)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),25606)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:25606}}})
{
  write(mid_spec.acked(4),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:49275}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:49275}}}),0)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:64553}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:64553}},0),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:29328},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:29328})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29328})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:29328}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:49275}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),49275)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),49275)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:49275}}})
{
  write(mid_spec.acked(3),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:29328}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:29328}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),25606)
  write(response.bd(loc:res),{vl:25606})
  write(response_body.vl(fml:out),25606)
  write(ref.txres(5),{vl:25606})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:25606}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:26843},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:26843})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:26843})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:26843}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:50946},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"m",vl:50946})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50946})
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),49275)
  write(ref.txres(7),{vl:49275})
  write(ref.committed(7),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:263},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:263})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:263})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:263}}}),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:25606}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:25606}},1),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(4),8)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),8)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:read,ky:"m",vl:9063},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:9063})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:9063})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:9063}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:45458},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:45458})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45458})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:45458}}}),1)
}
> cl_chans.send(1,{tx:7,bd:{vl:49275}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:49275}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:26843}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:26843}}}),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:31794},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:31794})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31794})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:31794}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:46473},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:46473})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:46473})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:46473}}}),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(5),12)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),12)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:write,ky:"m",vl:47785},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:47785})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47785})
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:46473}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:46473}}}),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:49275}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:49275}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:9063}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:9063}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),49275)
  write(response.bd(loc:res),{vl:49275})
  write(response_body.vl(fml:out),49275)
  write(ref.txres(9),{vl:49275})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:49275}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:30012},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"m",vl:30012})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30012})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"m",vl:30012}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:26843}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),26843)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),26843)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:26843}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl_chans.recv(1,{tx:9,bd:{vl:49275}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:49275}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:263}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),263)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),263)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:263}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:31794}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:31794}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),49275)
  write(response.bd(loc:res),{vl:49275})
  write(response_body.vl(fml:out),49275)
  write(ref.txres(11),{vl:49275})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:49275}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:33766},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:33766})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33766})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:33766}}}),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(6),15)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),15)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:read,ky:"m",vl:30012}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"m",vl:30012}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),49275)
  write(response.bd(loc:res),{vl:49275})
  write(response_body.vl(fml:out),49275)
  write(ref.txres(14),{vl:49275})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:49275}},1),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:49275}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:49275}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:19829},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"m",vl:19829})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19829})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(7),16)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),16)
  write(mid_spec.queue.head,8)
}
> cl.client_request(1,{knd:read,ky:"m",vl:59643},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:59643})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59643})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:59643}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:33766}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:33766}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:46473}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),46473)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),46473)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:46473}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:60502},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:60502})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60502})
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:59643}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:59643}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),46473)
  write(response.bd(loc:res),{vl:46473})
  write(response_body.vl(fml:out),46473)
  write(ref.txres(17),{vl:46473})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:46473}},1),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(8),18)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),18)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:263}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:263}}}),0)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(9),13)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),13)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(1,{tx:17,bd:{vl:46473}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:46473}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:45888},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:45888})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45888})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:45888}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:33766}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),33766)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),33766)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:33766}}})
{
  write(mid_spec.acked(15),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:45458}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:45458}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),46473)
  write(response.bd(loc:res),{vl:46473})
  write(response_body.vl(fml:out),46473)
  write(ref.txres(10),{vl:46473})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:46473}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:19829}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),19829)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),19829)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:19829}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:18237},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:18237})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18237})
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:45888}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:45888}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),19829)
  write(response.bd(loc:res),{vl:19829})
  write(response_body.vl(fml:out),19829)
  write(ref.txres(19),{vl:19829})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:19829}},0),1)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),33766)
  write(ref.txres(20),{vl:33766})
  write(ref.committed(20),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:19829}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:19829}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:40675},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:40675})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40675})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:40675}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:60502}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),60502)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),60502)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:60502}}})
{
  write(mid_spec.acked(18),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:47785}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),47785)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),47785)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:47785}}})
{
  write(mid_spec.acked(13),1)
}
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(10),21)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),21)
  write(mid_spec.queue.head,11)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:32072},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:32072})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32072})
}
> cl_chans.send(1,{tx:20,bd:{vl:33766}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:33766}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:37179},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:37179})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:37179})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:37179}}}),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:46473}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:46473}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:5502},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:5502})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:5502})
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:58008},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:58008})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:58008})
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),33766)
  write(ref.txres(22),{vl:33766})
  write(ref.committed(22),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:40675}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),40675)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),40675)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:40675}}})
{
  write(mid_spec.acked(21),1)
}
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(11),24)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),24)
  write(mid_spec.queue.head,12)
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),40675)
  write(ref.txres(25),{vl:40675})
  write(ref.committed(25),1)
}
> cl_chans.send(0,{tx:22,bd:{vl:33766}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:33766}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:5502}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),24)
  write(sec.rep.store("wrsylb"),5502)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),5502)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:5502}}})
{
  write(mid_spec.acked(24),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:37179}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:37179}}}),0)
}
> cl_chans.send(0,{tx:25,bd:{vl:40675}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:40675}},0),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(12),23)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),23)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:41473},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:41473})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:41473})
}
> cl_chans.recv(1,{tx:20,bd:{vl:33766}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:33766}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:37179}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),37179)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),37179)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:37179}}})
{
  write(mid_spec.acked(23),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:40675}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:40675}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:40618},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"m",vl:40618})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:40618})
}
> cl.client_request(1,{knd:write,ky:"m",vl:2807},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:write,ky:"m",vl:2807})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:2807})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:28,bd:{knd:write,ky:"m",vl:2807}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:28,bd:{knd:write,ky:"m",vl:2807}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:28,bd:{knd:write,ky:"m",vl:2807}}}),0)
}
> cl_chans.recv(1,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),0)
}
> ser.serialize(28)
{
  write(ser.serialized(28),1)
  write(ser.queue.contents(13),28)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),28)
  write(mid_spec.queue.head,14)
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),37179)
  write(ref.txres(27),{vl:37179})
  write(ref.committed(27),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:36314},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:36314})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:36314})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:36314}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:52656},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:52656})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:52656})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:52656}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:36314}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:36314}}}),0)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:24774},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:24774})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:24774})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:24774}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:24774}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:24774}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:36314}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),36314)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),36314)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:36314}}})
{
  write(mid_spec.acked(0),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:52656}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:52656}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:52656}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),52656)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),52656)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:52656}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:19985},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"m",vl:19985})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19985})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:19985}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:44198},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:44198})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:44198})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:44198}}}),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:44198}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:44198}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),36314)
  write(response.bd(loc:res),{vl:36314})
  write(response_body.vl(fml:out),36314)
  write(ref.txres(4),{vl:36314})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:36314}},1),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:19985}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),19985)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),19985)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:19985}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(1,{tx:4,bd:{vl:36314}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:36314}},1),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:29877},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:29877})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29877})
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:19985}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:19985}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:48646},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:48646})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:48646})
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:50627},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:50627})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50627})
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(4),6)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),6)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:20039},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:20039})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20039})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:20039}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:11413},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:11413})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11413})
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(5),8)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),8)
  write(mid_spec.queue.head,6)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),36314)
  write(ref.txres(9),{vl:36314})
  write(ref.committed(9),1)
}
> cl_chans.send(1,{tx:9,bd:{vl:36314}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:36314}},1),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:36314}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:36314}},1),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(6),5)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),5)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:50627}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),50627)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),50627)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:50627}}})
{
  write(mid_spec.acked(7),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:48646}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),48646)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),48646)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:48646}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:24423},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"m",vl:24423})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24423})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:24423}}}),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(7),10)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),10)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:20039}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),20039)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),20039)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:20039}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:29877}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),29877)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),29877)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:29877}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:24423}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),24423)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),24423)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:24423}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:24423}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:24423}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:20039}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:20039}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:1352},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:1352})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:1352})
}
> cl.client_request(1,{knd:read,ky:"m",vl:8337},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:8337})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8337})
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),24423)
  write(ref.txres(12),{vl:24423})
  write(ref.committed(12),1)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),29877)
  write(ref.txres(11),{vl:29877})
  write(ref.committed(11),1)
}
> cl_chans.send(1,{tx:12,bd:{vl:24423}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:24423}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:52387},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:52387})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:52387})
}
> cl_chans.recv(1,{tx:12,bd:{vl:24423}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:24423}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:46753},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:46753})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:46753})
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),24423)
  write(ref.txres(13),{vl:24423})
  write(ref.committed(13),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:63213},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:63213})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:63213})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:10584},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:10584})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:10584})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:10584}}}),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(8),14)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),14)
  write(mid_spec.queue.head,9)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),29877)
  write(ref.txres(15),{vl:29877})
  write(ref.committed(15),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:46753}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),46753)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),46753)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:46753}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:13,bd:{vl:24423}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:24423}},0),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:24423}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:24423}},0),0)
}
> cl_chans.send(0,{tx:11,bd:{vl:29877}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:29877}},0),1)
}
> cl_chans.send(0,{tx:15,bd:{vl:29877}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:29877}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:50715},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:50715})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50715})
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:10584}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:10584}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),29877)
  write(response.bd(loc:res),{vl:29877})
  write(response_body.vl(fml:out),29877)
  write(ref.txres(16),{vl:29877})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:29877}},0),1)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),29877)
  write(ref.txres(17),{vl:29877})
  write(ref.committed(17),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:7304},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:7304})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7304})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:7304}}}),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:29877}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:29877}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:7304}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:7304}}}),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(9),18)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),18)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:7304}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),7304)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),7304)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:7304}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:34495},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:34495})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34495})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:34495}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:34495}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:34495}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),7304)
  write(response.bd(loc:res),{vl:7304})
  write(response_body.vl(fml:out),7304)
  write(ref.txres(19),{vl:7304})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:7304}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:11700},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"m",vl:11700})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11700})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:11700}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(10),20)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),20)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:11700}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),11700)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),11700)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:11700}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:18807},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:18807})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18807})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:18807}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:11700}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:11700}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:18807}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:18807}}}),0)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(11),21)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),21)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:18807}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),18807)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),18807)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:18807}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:15400},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:15400})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:15400})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:15400}}}),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(12),22)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),22)
  write(mid_spec.queue.head,13)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:15400}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),15400)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),15400)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:15400}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl_chans.recv(0,{tx:16,bd:{vl:29877}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:29877}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:15400}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:15400}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:44002},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:44002})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:44002})
}
> cl_chans.recv(0,{tx:15,bd:{vl:29877}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:29877}},0),0)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),15400)
  write(ref.txres(23),{vl:15400})
  write(ref.committed(23),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30334},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:30334})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30334})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:30334}}}),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:7304}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:7304}},0),0)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(13),24)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),24)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:30334}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),24)
  write(sec.rep.store("wrsylb"),30334)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),30334)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:30334}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl_chans.recv(0,{tx:11,bd:{vl:29877}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:29877}},0),0)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:52140},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:52140})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:52140})
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:30334}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:30334}}}),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:10863},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:10863})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10863})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:52735},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:52735})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52735})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:10863}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),10863)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),10863)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:10863}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:2521},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:2521})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2521})
}
> cl.client_request(1,{knd:read,ky:"m",vl:9335},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:9335})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:9335})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9471},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:9471})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9471})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:9471}}}),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:9471}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:9471}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),10863)
  write(response.bd(loc:res),{vl:10863})
  write(response_body.vl(fml:out),10863)
  write(ref.txres(4),{vl:10863})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:10863}},0),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:10863}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:10863}},0),0)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),10863)
  write(ref.txres(1),{vl:10863})
  write(ref.committed(1),1)
}
> cl_chans.send(0,{tx:1,bd:{vl:10863}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:10863}},0),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:10863}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:10863}},0),0)
}
> cl_chans.send(0,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:34279},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:34279})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34279})
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:54855},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:54855})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54855})
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),10863)
  write(ref.txres(6),{vl:10863})
  write(ref.committed(6),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:44081},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:44081})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:44081})
}
> cl_chans.send(0,{tx:6,bd:{vl:10863}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:10863}},0),1)
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),10863)
  write(ref.txres(5),{vl:10863})
  write(ref.committed(5),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:43352},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:43352})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:43352})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:43352}}}),1)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),10863)
  write(ref.txres(7),{vl:10863})
  write(ref.committed(7),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:10863}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:10863}},0),0)
}
> cl_chans.send(1,{tx:5,bd:{vl:10863}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:10863}},1),1)
}
> cl_chans.send(1,{tx:7,bd:{vl:10863}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:10863}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:20204},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:20204})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:20204})
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:46304},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:46304})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46304})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:46304}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:62129},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:62129})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:62129})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:7183},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:7183})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7183})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7183}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:37899},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:37899})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:37899})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:55728},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:55728})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55728})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:55728}}}),1)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:46304}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:46304}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
}
> cl_chans.send(1,{tx:13,bd:{vl:0}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:30519},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:30519})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30519})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:30519}}}),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(1),14)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),14)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:read,ky:"m",vl:3512},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:3512})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3512})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:3512}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:55728}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),55728)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),55728)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:55728}}})
{
  write(mid_spec.acked(14),1)
}
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(2),12)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),12)
  write(mid_spec.queue.head,3)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(3),11)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),11)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:49835},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:49835})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49835})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:49835}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(4),17)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),17)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7183}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),7183)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),7183)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7183}}})
{
  write(mid_spec.acked(12),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:62129}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),62129)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),62129)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:62129}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:49835}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),49835)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),49835)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:49835}}})
{
  write(mid_spec.acked(17),1)
}
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:20204}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),20204)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),20204)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:20204}}})
{
  write(mid_spec.acked(9),1)
}
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(6),8)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),8)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:55728}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:55728}}}),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:43352}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),43352)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),43352)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:43352}}})
{
  write(mid_spec.acked(8),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:43352}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:43352}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:30519}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:30519}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),43352)
  write(response.bd(loc:res),{vl:43352})
  write(response_body.vl(fml:out),43352)
  write(ref.txres(15),{vl:43352})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:43352}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:16448},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:16448})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:16448})
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(7),18)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),18)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:16448}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),16448)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),16448)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:16448}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:60823},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:60823})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60823})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:30893},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:30893})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30893})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30893}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:4638},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:4638})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:4638})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:4638}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30893}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30893}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),16448)
  write(response.bd(loc:res),{vl:16448})
  write(response_body.vl(fml:out),16448)
  write(ref.txres(20),{vl:16448})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:16448}},1),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(8),21)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),21)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:4638}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:4638}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:4638}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),4638)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),4638)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:4638}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl_chans.recv(1,{tx:20,bd:{vl:16448}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:16448}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:45735},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:45735})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:45735})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:45735}}}),1)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),43352)
  write(ref.txres(19),{vl:43352})
  write(ref.committed(19),1)
}
> cl_chans.send(0,{tx:19,bd:{vl:43352}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:43352}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:14351},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:14351})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:14351})
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(9),23)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),23)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:45735}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:45735}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),4638)
  write(response.bd(loc:res),{vl:4638})
  write(response_body.vl(fml:out),4638)
  write(ref.txres(22),{vl:4638})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:4638}},0),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:43352}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:43352}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:11326},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:11326})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11326})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:26986},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:26986})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:26986})
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),4638)
  write(ref.txres(25),{vl:4638})
  write(ref.committed(25),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:36328},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:36328})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36328})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:36328}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:14351}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),14351)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),14351)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:14351}}})
{
  write(mid_spec.acked(23),1)
}
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(10),24)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),24)
  write(mid_spec.queue.head,11)
}
> cl.client_request(1,{knd:write,ky:"m",vl:23244},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"m",vl:23244})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23244})
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(11),27)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),27)
  write(mid_spec.queue.head,12)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:49835}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:49835}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:3512}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:3512}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),43352)
  write(response.bd(loc:res),{vl:43352})
  write(response_body.vl(fml:out),43352)
  write(ref.txres(16),{vl:43352})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:43352}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:11326}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),24)
  write(sec.rep.store("wrsylb"),11326)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),11326)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:11326}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:48774},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:write,ky:"m",vl:48774})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48774})
}
> sec.req_chan.recv({cid:0,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:36328}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:36328}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),11326)
  write(response.bd(loc:res),{vl:11326})
  write(response_body.vl(fml:out),11326)
  write(ref.txres(26),{vl:11326})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:11326}},0),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:43352}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:43352}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7183}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7183}}}),0)
}
> cl_chans.recv(1,{tx:16,bd:{vl:43352}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:43352}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:27,bd:{knd:write,ky:"m",vl:23244}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),27)
  write(sec.rep.store("m"),23244)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),23244)
  write(ref.txres(27),{vl:0})
  write(ref.committed(27),1)
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:27,bd:{knd:write,ky:"m",vl:23244}}})
{
  write(mid_spec.acked(27),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:34891},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:read,ky:"wrsylb",vl:34891})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34891})
}
> ref.commit(29,prim)
{
  write(response_body.vl(fml:out),11326)
  write(ref.txres(29),{vl:11326})
  write(ref.committed(29),1)
}
> ser.serialize(28)
{
  write(ser.serialized(28),1)
  write(ser.queue.contents(12),28)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),28)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:read,ky:"m",vl:22603},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(30),{knd:read,ky:"m",vl:22603})
  write(ref.next,31)
  write(mid_spec.req_dest(30),sec)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22603})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:30,bd:{knd:read,ky:"m",vl:22603}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:50890},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(31),{knd:write,ky:"m",vl:50890})
  write(ref.next,32)
  write(mid_spec.req_dest(31),prim)
  write(request.tx(req(loc:m)),31)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50890})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:1111},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:1111})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:1111})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:1111}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),1111)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),1111)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:1111}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:28300},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:28300})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28300})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:28300}}}),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:write,ky:"m",vl:32599},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:32599})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32599})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(2),2)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),2)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:28300}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),28300)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),28300)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:28300}}})
{
  write(mid_spec.acked(1),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:32599}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),32599)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),32599)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:32599}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:28300}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:28300}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:7582},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:7582})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7582})
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),1111)
  write(ref.txres(3),{vl:1111})
  write(ref.committed(3),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:7721},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:7721})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7721})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:7721}}}),1)
}
> cl_chans.send(1,{tx:3,bd:{vl:1111}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:1111}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:12229},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:12229})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:12229})
}
> cl_chans.recv(1,{tx:3,bd:{vl:1111}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:1111}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:53228},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"m",vl:53228})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53228})
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),1111)
  write(ref.txres(5),{vl:1111})
  write(ref.committed(5),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:7721}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:7721}}}),0)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),32599)
  write(ref.txres(6),{vl:32599})
  write(ref.committed(6),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(3),4)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),4)
  write(mid_spec.queue.head,4)
}
> cl_chans.send(1,{tx:6,bd:{vl:32599}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:32599}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:34079},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:34079})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34079})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:34079}}}),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:32599}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:32599}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:7721}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),7721)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),7721)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:7721}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.send(0,{tx:5,bd:{vl:1111}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:1111}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:966},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:966})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:966})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:966}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(4),8)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),8)
  write(mid_spec.queue.head,5)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(5),7)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),7)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:34803},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:34803})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34803})
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:966}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:966}}}),0)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),7721)
  write(ref.txres(9),{vl:7721})
  write(ref.committed(9),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:966}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),966)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),966)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:966}}})
{
  write(mid_spec.acked(8),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:34079}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:34079}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:6187},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"m",vl:6187})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6187})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:6187}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:6187}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:6187}}}),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:1111}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:1111}},0),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:9,bd:{vl:7721}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:7721}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:8127},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:8127})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:8127})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:8127}}}),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:7721}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:7721}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:8127}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:8127}}}),0)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(6),11)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),11)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:34079}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),34079)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),34079)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:34079}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:8127}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),8127)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),8127)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:8127}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:54682},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:54682})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54682})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:54682}}}),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:54682}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:54682}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),8127)
  write(response.bd(loc:res),{vl:8127})
  write(response_body.vl(fml:out),8127)
  write(ref.txres(12),{vl:8127})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:8127}},0),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:8127}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:8127}},0),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(7),10)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),10)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:6187}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),6187)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),6187)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:6187}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:37306},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:37306})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:37306})
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),6187)
  write(ref.txres(13),{vl:6187})
  write(ref.committed(13),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:13,bd:{vl:6187}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:6187}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:34925},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:34925})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:34925})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:34925}}}),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:6187}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:6187}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:34925}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:34925}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:42776},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:42776})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:42776})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:42776}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:42776}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:42776}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),6187)
  write(response.bd(loc:res),{vl:6187})
  write(response_body.vl(fml:out),6187)
  write(ref.txres(15),{vl:6187})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:6187}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:55708},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:55708})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55708})
}
> cl_chans.recv(1,{tx:15,bd:{vl:6187}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:6187}},1),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(8),14)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),14)
  write(mid_spec.queue.head,9)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),8127)
  write(ref.txres(16),{vl:8127})
  write(ref.committed(16),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:34925}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),34925)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),34925)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:34925}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:16,bd:{vl:8127}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:8127}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:28481},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:28481})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:28481})
}
> cl.client_request(0,{knd:read,ky:"m",vl:43761},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:43761})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43761})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:43761}}}),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:8127}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:8127}},1),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),8127)
  write(ref.txres(17),{vl:8127})
  write(ref.committed(17),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:25845},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:25845})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25845})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30461},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:30461})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30461})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:30461}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(9),20)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),20)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:30461}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),30461)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),30461)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:30461}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl_chans.send(1,{tx:17,bd:{vl:8127}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:8127}},1),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:8127}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:8127}},1),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(10),19)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),19)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:43761}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:43761}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),34925)
  write(response.bd(loc:res),{vl:34925})
  write(response_body.vl(fml:out),34925)
  write(ref.txres(18),{vl:34925})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:34925}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:30461}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:30461}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:25845}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),25845)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),25845)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:25845}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:31077},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:31077})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31077})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:31077}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:41172},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:41172})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:41172})
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(11),22)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),22)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:2842},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:2842})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2842})
}
> cl.client_request(1,{knd:write,ky:"m",vl:20002},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:20002})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:20002})
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:31077}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:31077}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),34925)
  write(response.bd(loc:res),{vl:34925})
  write(response_body.vl(fml:out),34925)
  write(ref.txres(21),{vl:34925})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:34925}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:41172}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),41172)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),41172)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:41172}}})
{
  write(mid_spec.acked(22),1)
}
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),41172)
  write(ref.txres(23),{vl:41172})
  write(ref.committed(23),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(12),24)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),24)
  write(mid_spec.queue.head,13)
}
> cl_chans.send(1,{tx:23,bd:{vl:41172}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:41172}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:43318},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:43318})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43318})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"m",vl:43318}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:20002}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),20002)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),20002)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:20002}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl_chans.recv(1,{tx:21,bd:{vl:34925}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:34925}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:31760},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:31760})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31760})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:5369},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:5369})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:5369})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:44962},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:44962})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:44962})
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:41522},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:41522})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41522})
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:43285},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:43285})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:43285})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:43285}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:43285}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:43285}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:42427},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:42427})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42427})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:42427}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:29041},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:29041})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29041})
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:29443},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:29443})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29443})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:18797},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"m",vl:18797})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18797})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:50731},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:50731})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50731})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:50731}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:41522}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),41522)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),41522)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:41522}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),41522)
  write(ref.txres(7),{vl:41522})
  write(ref.committed(7),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(2),8)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),8)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:50731}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:50731}}}),0)
}
> cl_chans.send(1,{tx:6,bd:{vl:0}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:42427}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),42427)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),42427)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:42427}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(3),3)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),3)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:60909},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:60909})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:60909})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:60909}}}),1)
}
> cl_chans.send(0,{tx:7,bd:{vl:41522}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:41522}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:57615},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:57615})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:57615})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:57615}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:50731}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),50731)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),50731)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:50731}}})
{
  write(mid_spec.acked(8),1)
}
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(4),10)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),10)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:43285}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),43285)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),43285)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:43285}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:15169},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:15169})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15169})
}
> cl_chans.recv(0,{tx:7,bd:{vl:41522}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:41522}},0),0)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:14386},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:14386})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14386})
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:60909}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:60909}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),50731)
  write(response.bd(loc:res),{vl:50731})
  write(response_body.vl(fml:out),50731)
  write(ref.txres(9),{vl:50731})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:50731}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:35613},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:35613})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35613})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:35613}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:57615}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),57615)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),57615)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:57615}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:50731}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:50731}},0),0)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),57615)
  write(ref.txres(12),{vl:57615})
  write(ref.committed(12),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:15169}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),15169)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),15169)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:15169}}})
{
  write(mid_spec.acked(11),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:42427}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:42427}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:57615}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:57615}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:13666},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"m",vl:13666})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13666})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"m",vl:13666}}}),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:10095},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:10095})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10095})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:10095}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:35613}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:35613}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),15169)
  write(response.bd(loc:res),{vl:15169})
  write(response_body.vl(fml:out),15169)
  write(ref.txres(13),{vl:15169})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:15169}},1),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:15169}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:15169}},1),0)
}
> cl_chans.send(0,{tx:12,bd:{vl:57615}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:57615}},0),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:57615}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:57615}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:38207},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:38207})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38207})
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:read,ky:"m",vl:13666}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"m",vl:13666}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),15169)
  write(response.bd(loc:res),{vl:15169})
  write(response_body.vl(fml:out),15169)
  write(ref.txres(14),{vl:15169})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:15169}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:47374},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:47374})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:47374})
}
> cl_chans.recv(1,{tx:14,bd:{vl:15169}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:15169}},1),0)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),15169)
  write(ref.txres(16),{vl:15169})
  write(ref.committed(16),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:17569},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:17569})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17569})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:17569}}}),1)
}
> cl_chans.send(0,{tx:16,bd:{vl:15169}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:15169}},0),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:15169}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:15169}},0),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(6),18)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),18)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:17569}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),17569)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),17569)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:17569}}})
{
  write(mid_spec.acked(18),1)
}
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(7),17)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),17)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:3791},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:3791})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3791})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:65326},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:65326})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:65326})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:65326}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(8),20)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),20)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:47374}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),47374)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),47374)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:47374}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:17569}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:17569}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:65326}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),65326)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),65326)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:65326}}})
{
  write(mid_spec.acked(20),1)
}
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(9),19)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),19)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:65326}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:65326}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:3791}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),3791)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),3791)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:3791}}})
{
  write(mid_spec.acked(19),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:10095}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:10095}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),17569)
  write(response.bd(loc:res),{vl:17569})
  write(response_body.vl(fml:out),17569)
  write(ref.txres(15),{vl:17569})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:17569}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:17569}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:17569}},1),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:2382},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:2382})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2382})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:2382}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:2382}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:2382}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),3791)
  write(response.bd(loc:res),{vl:3791})
  write(response_body.vl(fml:out),3791)
  write(ref.txres(21),{vl:3791})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:3791}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:8942},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:8942})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8942})
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),17569)
  write(ref.txres(22),{vl:17569})
  write(ref.committed(22),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:3791}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:3791}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:2692},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:2692})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2692})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:2692}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:2692}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:2692}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),17569)
  write(response.bd(loc:res),{vl:17569})
  write(response_body.vl(fml:out),17569)
  write(ref.txres(23),{vl:17569})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:17569}},0),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:17569}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:17569}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:35812},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:35812})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:35812})
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(10),24)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),24)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:35812}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),35812)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),35812)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:35812}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl_chans.send(1,{tx:22,bd:{vl:17569}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:17569}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:33827},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:33827})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33827})
}
> cl_chans.recv(1,{tx:22,bd:{vl:17569}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:17569}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:7143},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:7143})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:7143})
}
> cl.client_request(1,{knd:write,ky:"m",vl:26985},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:26985})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:26985})
}
> cl.client_request(0,{knd:write,ky:"m",vl:11325},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:11325})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11325})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:11325}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),11325)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),11325)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:11325}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:40530},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:40530})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:40530})
}
> cl.client_request(1,{knd:read,ky:"m",vl:8403},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"m",vl:8403})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8403})
}
> cl.client_request(1,{knd:read,ky:"m",vl:39779},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:39779})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39779})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:39779}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:26985}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),26985)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),26985)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:26985}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:22519},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:22519})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22519})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:22519}}}),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(2),6)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),6)
  write(mid_spec.queue.head,3)
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),26985)
  write(ref.txres(4),{vl:26985})
  write(ref.committed(4),1)
}
> cl_chans.send(0,{tx:4,bd:{vl:26985}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:26985}},0),1)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),26985)
  write(ref.txres(3),{vl:26985})
  write(ref.committed(3),1)
}
> cl_chans.send(1,{tx:3,bd:{vl:26985}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:26985}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:22519}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),22519)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),22519)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:22519}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:22519}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:22519}}}),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:26985}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:26985}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:447},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:447})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:447})
}
> cl_chans.recv(0,{tx:4,bd:{vl:26985}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:26985}},0),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:447}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),447)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),447)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:447}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:58393},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:58393})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:58393})
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),22519)
  write(ref.txres(8),{vl:22519})
  write(ref.committed(8),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:3608},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:3608})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:3608})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:3608}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:39779}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:39779}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),447)
  write(response.bd(loc:res),{vl:447})
  write(response_body.vl(fml:out),447)
  write(ref.txres(5),{vl:447})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:447}},1),1)
}
> cl_chans.send(1,{tx:8,bd:{vl:22519}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:22519}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:3608}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:3608}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:2326},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:2326})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2326})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:2326}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:2326}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:2326}}}),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:22519}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:22519}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:42695},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:42695})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:42695})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:42695}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:42695}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:42695}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),447)
  write(response.bd(loc:res),{vl:447})
  write(response_body.vl(fml:out),447)
  write(ref.txres(11),{vl:447})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:447}},0),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:447}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:447}},0),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:447}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:447}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:19542},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:19542})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:19542})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:23729},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:23729})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:23729})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:23729}}}),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(4),10)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),10)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:2326}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),2326)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),2326)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:2326}}})
{
  write(mid_spec.acked(10),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:23729}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:23729}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),2326)
  write(response.bd(loc:res),{vl:2326})
  write(response_body.vl(fml:out),2326)
  write(ref.txres(13),{vl:2326})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:2326}},0),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(0,{tx:13,bd:{vl:2326}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:2326}},0),0)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:61250},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:61250})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61250})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:61250}}}),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:61250}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:61250}}}),0)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),2326)
  write(ref.txres(12),{vl:2326})
  write(ref.committed(12),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:144},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:144})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:144})
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),447)
  write(ref.txres(15),{vl:447})
  write(ref.committed(15),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:3608}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),3608)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),3608)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:3608}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:31283},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:31283})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31283})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:31283}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:57292},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:57292})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:57292})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:57292}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:61250}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),61250)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),61250)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:61250}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.send(0,{tx:15,bd:{vl:447}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:447}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:5215},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:5215})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:5215})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:5215}}}),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:447}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:447}},0),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:12,bd:{vl:2326}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:2326}},0),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:2326}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:2326}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:5215}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:5215}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),2326)
  write(response.bd(loc:res),{vl:2326})
  write(response_body.vl(fml:out),2326)
  write(ref.txres(18),{vl:2326})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:2326}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:46318},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:46318})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46318})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:46318}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:34658},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:34658})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34658})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:34658}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(7),20)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),20)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:34658}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),34658)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),34658)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:34658}}})
{
  write(mid_spec.acked(20),1)
}
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(8),19)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),19)
  write(mid_spec.queue.head,9)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:15098},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:15098})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:15098})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:15098}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:57292}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:57292}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),61250)
  write(response.bd(loc:res),{vl:61250})
  write(response_body.vl(fml:out),61250)
  write(ref.txres(17),{vl:61250})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:61250}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:45542},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:45542})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45542})
}
> cl_chans.recv(1,{tx:18,bd:{vl:2326}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:2326}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:46318}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),46318)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),46318)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:46318}}})
{
  write(mid_spec.acked(19),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:31283}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:31283}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),46318)
  write(response.bd(loc:res),{vl:46318})
  write(response_body.vl(fml:out),46318)
  write(ref.txres(16),{vl:46318})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:46318}},0),1)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:17,bd:{vl:61250}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:61250}},0),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(9),22)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),22)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:34658}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:34658}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:15098}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:15098}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),46318)
  write(response.bd(loc:res),{vl:46318})
  write(response_body.vl(fml:out),46318)
  write(ref.txres(21),{vl:46318})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:46318}},1),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:46318}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:46318}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:45542}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),45542)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),45542)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:45542}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:26054},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:26054})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:26054})
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:46318}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:46318}}}),0)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),45542)
  write(ref.txres(23),{vl:45542})
  write(ref.committed(23),1)
}
> cl_chans.send(1,{tx:23,bd:{vl:45542}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:45542}},1),1)
}
> cl_chans.recv(1,{tx:21,bd:{vl:46318}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:46318}},1),0)
}
> cl_chans.recv(1,{tx:23,bd:{vl:45542}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:45542}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:5889},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:5889})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:5889})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:5889}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:5889}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:5889}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),45542)
  write(response.bd(loc:res),{vl:45542})
  write(response_body.vl(fml:out),45542)
  write(ref.txres(24),{vl:45542})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:45542}},0),1)
}
> cl_chans.recv(0,{tx:24,bd:{vl:45542}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:45542}},0),0)
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:50554},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:50554})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50554})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:50554}}}),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:50554}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:50554}}}),0)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(10),25)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),25)
  write(mid_spec.queue.head,11)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:40214},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:40214})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40214})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:40214}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:40214}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:40214}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:16247},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:16247})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:16247})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:50409},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:50409})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50409})
}
> cl.client_request(1,{knd:write,ky:"m",vl:38272},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"m",vl:38272})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38272})
}
> cl.client_request(0,{knd:read,ky:"m",vl:46303},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:46303})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46303})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:46303}}}),1)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:40214}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),40214)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),40214)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:40214}}})
{
  write(mid_spec.acked(0),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:46303}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:46303}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:15860},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:15860})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15860})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:15860}}}),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(1),5)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),5)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:15860}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:15860}}}),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(3),2)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),2)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:7336},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:7336})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7336})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:15860}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),15860)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),15860)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:15860}}})
{
  write(mid_spec.acked(5),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:38272}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),38272)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),38272)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:38272}}})
{
  write(mid_spec.acked(3),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:50409}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),50409)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),50409)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:50409}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:50817},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:50817})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50817})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:50817}}}),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:24109},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:24109})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24109})
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),38272)
  write(ref.txres(8),{vl:38272})
  write(ref.committed(8),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:50817}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:50817}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:50817}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),50817)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),50817)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:50817}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.send(0,{tx:8,bd:{vl:38272}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:38272}},0),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:38272}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:38272}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:35860},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:35860})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:35860})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:35860}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:35860}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:35860}}}),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:write,ky:"m",vl:38603},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"m",vl:38603})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38603})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:38603}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:27310},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:27310})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27310})
}
> cl.client_request(1,{knd:write,ky:"m",vl:60652},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:60652})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60652})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:60652}}}),1)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),50409)
  write(ref.txres(6),{vl:50409})
  write(ref.committed(6),1)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),50817)
  write(ref.txres(11),{vl:50817})
  write(ref.committed(11),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:35860}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),35860)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),35860)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:35860}}})
{
  write(mid_spec.acked(9),1)
}
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(6),12)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),12)
  write(mid_spec.queue.head,7)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(7),10)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),10)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:38603}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:38603}}}),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:60652}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),60652)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),60652)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:60652}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:19576},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:19576})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:19576})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:19576}}}),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:38603}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),38603)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),38603)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:38603}}})
{
  write(mid_spec.acked(10),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:19576}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:19576}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),50409)
  write(response.bd(loc:res),{vl:50409})
  write(response_body.vl(fml:out),50409)
  write(ref.txres(13),{vl:50409})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:50409}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:32700},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:32700})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32700})
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:60652}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:60652}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:24618},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:24618})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24618})
}
> cl_chans.send(1,{tx:6,bd:{vl:50409}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:50409}},1),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:64155},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:64155})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64155})
}
> cl_chans.recv(1,{tx:6,bd:{vl:50409}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:50409}},1),0)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),38603)
  write(ref.txres(14),{vl:38603})
  write(ref.committed(14),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:6114},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:6114})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6114})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(8),16)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),16)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:64155}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),64155)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),64155)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:64155}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:46262},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:46262})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:46262})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:46262}}}),1)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),38603)
  write(ref.txres(15),{vl:38603})
  write(ref.committed(15),1)
}
> cl_chans.send(1,{tx:11,bd:{vl:50817}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:50817}},1),1)
}
> cl_chans.send(0,{tx:14,bd:{vl:38603}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:38603}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:10781},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:10781})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:10781})
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(9),19)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),19)
  write(mid_spec.queue.head,10)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),38603)
  write(ref.txres(17),{vl:38603})
  write(ref.committed(17),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:10781}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),10781)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),10781)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:10781}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:59130},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:59130})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:59130})
}
> cl_chans.recv(0,{tx:14,bd:{vl:38603}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:38603}},0),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(10),20)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),20)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:59130}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),59130)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),59130)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:59130}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:62571},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:62571})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62571})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:62571}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:11057},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:11057})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11057})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:11057}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:11057}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:11057}}}),0)
}
> cl_chans.recv(1,{tx:11,bd:{vl:50817}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:50817}},1),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(11),22)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),22)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:read,ky:"m",vl:8459},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:8459})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8459})
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:46262}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:46262}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),59130)
  write(response.bd(loc:res),{vl:59130})
  write(response_body.vl(fml:out),59130)
  write(ref.txres(18),{vl:59130})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:59130}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:11057}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),11057)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),11057)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:11057}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl_chans.send(1,{tx:15,bd:{vl:38603}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:38603}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:62571}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:62571}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),11057)
  write(response.bd(loc:res),{vl:11057})
  write(response_body.vl(fml:out),11057)
  write(ref.txres(21),{vl:11057})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:11057}},1),1)
}
> cl_chans.send(0,{tx:17,bd:{vl:38603}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:38603}},0),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),10781)
  write(ref.txres(23),{vl:10781})
  write(ref.committed(23),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:31635},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:31635})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31635})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:31635}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:31635}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:31635}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),10781)
  write(response.bd(loc:res),{vl:10781})
  write(response_body.vl(fml:out),10781)
  write(ref.txres(24),{vl:10781})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:10781}},1),1)
}
> cl_chans.send(0,{tx:23,bd:{vl:10781}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:10781}},0),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:10781}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:10781}},0),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:59130}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:59130}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:9220},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:9220})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9220})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:9220}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:9220}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:9220}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),11057)
  write(response.bd(loc:res),{vl:11057})
  write(response_body.vl(fml:out),11057)
  write(ref.txres(25),{vl:11057})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:11057}},1),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:50409}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:50409}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:45913},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:45913})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45913})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:45913}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:48895},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:48895})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48895})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:48895}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:45913}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:45913}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),10781)
  write(response.bd(loc:res),{vl:10781})
  write(response_body.vl(fml:out),10781)
  write(ref.txres(26),{vl:10781})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:10781}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:38603}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:38603}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:56192},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"m",vl:56192})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:56192})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:56192}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:11028},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:11028})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11028})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:11028}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:11028}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:11028}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:17780},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:17780})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17780})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:17780}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:17780}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:17780}}}),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:514},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:514})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:514})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:514}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:514}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:514}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:54171},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:54171})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54171})
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:17780}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),17780)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),17780)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:17780}}})
{
  write(mid_spec.acked(1),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:54171}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),54171)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),54171)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:54171}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:57158},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:57158})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:57158})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:49348},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:49348})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49348})
}
> cl.client_request(1,{knd:write,ky:"m",vl:48188},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:48188})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48188})
}
> cl.client_request(0,{knd:write,ky:"m",vl:54571},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:54571})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54571})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:54571}}}),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(2),7)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),7)
  write(mid_spec.queue.head,3)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:write,ky:"m",vl:54395},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"m",vl:54395})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54395})
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:54571}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),54571)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),54571)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:54571}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:57867},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:57867})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:57867})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:18172},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:18172})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18172})
}
> cl.client_request(1,{knd:write,ky:"m",vl:42089},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:42089})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42089})
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:54571}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:54571}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:48188}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),48188)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),48188)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:48188}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:24590},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:24590})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24590})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:16172},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:16172})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16172})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:16172}}}),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(4),12)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),12)
  write(mid_spec.queue.head,5)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:24590}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),24590)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),24590)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:24590}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.send(1,{tx:10,bd:{vl:0}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:16172}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:16172}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:42089}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),42089)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),42089)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:42089}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:23137},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:23137})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:23137})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(6),9)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),9)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(7),8)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),8)
  write(mid_spec.queue.head,8)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(8),4)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),4)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:57867}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),57867)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),57867)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:57867}}})
{
  write(mid_spec.acked(9),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:54395}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),54395)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),54395)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:54395}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:22961},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:22961})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22961})
}
> cl_chans.send(0,{tx:14,bd:{vl:0}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:18149},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:18149})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18149})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(9),15)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),15)
  write(mid_spec.queue.head,10)
}
> cl.client_request(1,{knd:read,ky:"m",vl:53387},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:53387})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53387})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),54395)
  write(ref.txres(17),{vl:54395})
  write(ref.committed(17),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:57158}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),57158)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),57158)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:57158}}})
{
  write(mid_spec.acked(4),1)
}
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:22961}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),22961)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),22961)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:22961}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:16,bd:{vl:0}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(10),2)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),2)
  write(mid_spec.queue.head,11)
}
> cl_chans.send(1,{tx:17,bd:{vl:54395}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:54395}},1),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:514}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),514)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),514)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:514}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:56431},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:56431})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:56431})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:56431}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:3674},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:3674})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:3674})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:45427},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:45427})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45427})
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:56431}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:56431}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(11),20)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),20)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:48192},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:48192})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:48192})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:48192}}}),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(12),21)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),21)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(1,{tx:17,bd:{vl:54395}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:54395}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:52117},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:52117})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52117})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:52117}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:61331},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:61331})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61331})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:61331}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:36135},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:36135})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36135})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:36135}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:48192}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:48192}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:45427}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),45427)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),45427)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:45427}}})
{
  write(mid_spec.acked(20),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:36135}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:36135}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),45427)
  write(response.bd(loc:res),{vl:45427})
  write(response_body.vl(fml:out),45427)
  write(ref.txres(24),{vl:45427})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:45427}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:48192}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),48192)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),48192)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:48192}}})
{
  write(mid_spec.acked(21),1)
}
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(13),23)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),23)
  write(mid_spec.queue.head,14)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:52117}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:52117}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),48192)
  write(response.bd(loc:res),{vl:48192})
  write(response_body.vl(fml:out),48192)
  write(ref.txres(22),{vl:48192})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:48192}},1),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(14),19)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),19)
  write(mid_spec.queue.head,15)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:17775},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:17775})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17775})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:17775}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:3137},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:3137})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3137})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:61331}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),61331)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("m"),61331)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:61331}}})
{
  write(mid_spec.acked(23),1)
}
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(15),26)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),26)
  write(mid_spec.queue.head,16)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:61331}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:61331}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:3674}}})
{
  write(mid_spec.queue.tail,15)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),3674)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,15)
  write(ref.rep.store("m"),3674)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:3674}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(0,{tx:24,bd:{vl:45427}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:45427}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:17775}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:17775}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),48192)
  write(response.bd(loc:res),{vl:48192})
  write(response_body.vl(fml:out),48192)
  write(ref.txres(25),{vl:48192})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:48192}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:40995},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:40995})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40995})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:40995}}}),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:3137}}})
{
  write(mid_spec.queue.tail,16)
  write(response.tx(loc:res),26)
  write(sec.rep.store("wrsylb"),3137)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,16)
  write(ref.rep.store("wrsylb"),3137)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:3137}}})
{
  write(mid_spec.acked(26),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:61410},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:61410})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61410})
}
> ref.commit(28,prim)
{
  write(response_body.vl(fml:out),3137)
  write(ref.txres(28),{vl:3137})
  write(ref.committed(28),1)
}
> cl_chans.recv(0,{tx:25,bd:{vl:48192}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:48192}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:40995}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:40995}}}),0)
  write(response.tx(loc:res),27)
  write(response_body.vl(fml:out),3137)
  write(response.bd(loc:res),{vl:3137})
  write(response_body.vl(fml:out),3137)
  write(ref.txres(27),{vl:3137})
  write(ref.committed(27),1)
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:3137}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:21747},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:write,ky:"wrsylb",vl:21747})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21747})
}
> cl.client_request(1,{knd:write,ky:"m",vl:49517},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(30),{knd:write,ky:"m",vl:49517})
  write(ref.next,31)
  write(mid_spec.req_dest(30),sec)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:49517})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:30,bd:{knd:write,ky:"m",vl:49517}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:16204},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:16204})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:16204})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:5794},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:5794})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:5794})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:5794}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:15795},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:15795})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15795})
}
> cl.client_request(1,{knd:read,ky:"m",vl:13490},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:13490})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13490})
}
> cl.client_request(1,{knd:read,ky:"m",vl:30472},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"m",vl:30472})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30472})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:29200},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:29200})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:29200})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:29200}}}),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(1),5)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),5)
  write(mid_spec.queue.head,2)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:29200}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:29200}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:2957},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:2957})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2957})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:2957}}}),1)
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:15795}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),15795)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),15795)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:15795}}})
{
  write(mid_spec.acked(2),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:29200}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),29200)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),29200)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:29200}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:30737},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:30737})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30737})
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:5794}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:5794}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),29200)
  write(response.bd(loc:res),{vl:29200})
  write(response_body.vl(fml:out),29200)
  write(ref.txres(1),{vl:29200})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:29200}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:58710},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:58710})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58710})
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(2),8)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),8)
  write(mid_spec.queue.head,3)
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),29200)
  write(ref.txres(4),{vl:29200})
  write(ref.committed(4),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:29205},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:29205})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29205})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:29205}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:29205}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:29205}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:58710}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),58710)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),58710)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:58710}}})
{
  write(mid_spec.acked(8),1)
}
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(3),9)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),9)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(1,{tx:1,bd:{vl:29200}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:29200}},1),0)
}
> cl_chans.send(1,{tx:4,bd:{vl:29200}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:29200}},1),1)
}
> cl_chans.send(0,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:2957}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:2957}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),58710)
  write(response.bd(loc:res),{vl:58710})
  write(response_body.vl(fml:out),58710)
  write(ref.txres(6),{vl:58710})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:58710}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:29205}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),29205)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),29205)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:29205}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:4312},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:4312})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4312})
}
> cl_chans.send(0,{tx:7,bd:{vl:0}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:43470},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:43470})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:43470})
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:12519},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:12519})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:12519})
}
> cl_chans.recv(1,{tx:4,bd:{vl:29200}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:29200}},1),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(4),12)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),12)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:12519}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),12519)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),12519)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:12519}}})
{
  write(mid_spec.acked(12),1)
}
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),29205)
  write(ref.txres(11),{vl:29205})
  write(ref.committed(11),1)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),12519)
  write(ref.txres(10),{vl:12519})
  write(ref.committed(10),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:60705},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:60705})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60705})
}
> cl_chans.send(1,{tx:11,bd:{vl:29205}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:29205}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:29205}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:29205}},1),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),12519)
  write(ref.txres(13),{vl:12519})
  write(ref.committed(13),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:14622},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:14622})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14622})
}
> cl_chans.send(1,{tx:10,bd:{vl:12519}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:12519}},1),1)
}
> cl_chans.send(0,{tx:13,bd:{vl:12519}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:12519}},0),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:12519}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:12519}},0),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(5),14)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),14)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:14622}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),14622)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),14622)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:14622}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(1,{tx:6,bd:{vl:58710}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:58710}},1),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:28919},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:28919})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28919})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:28919}}}),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:12519}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:12519}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:28919}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:28919}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),14622)
  write(response.bd(loc:res),{vl:14622})
  write(response_body.vl(fml:out),14622)
  write(ref.txres(15),{vl:14622})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:14622}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:49162},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:49162})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:49162})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:49162}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:49162}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:49162}}}),0)
}
> cl_chans.recv(1,{tx:15,bd:{vl:14622}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:14622}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:60255},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:60255})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:60255})
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:4313},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:4313})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4313})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:4313}}}),1)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),29205)
  write(ref.txres(17),{vl:29205})
  write(ref.committed(17),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:30067},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:30067})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30067})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:30067}}}),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:29205}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:29205}},1),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(6),18)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),18)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(1,{tx:17,bd:{vl:29205}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:29205}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:4313}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),4313)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),4313)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:4313}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:48923},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:48923})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48923})
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),29205)
  write(ref.txres(20),{vl:29205})
  write(ref.committed(20),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:5335},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:5335})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:5335})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:5335}}}),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:50577},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:50577})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50577})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:51134},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:51134})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51134})
}
> cl.client_request(0,{knd:write,ky:"m",vl:39348},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:39348})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:39348})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:39348}}}),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(7),24)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),24)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:write,ky:"m",vl:49168},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:49168})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:49168})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:49168}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:5335}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:5335}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),29205)
  write(response.bd(loc:res),{vl:29205})
  write(response_body.vl(fml:out),29205)
  write(ref.txres(21),{vl:29205})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:29205}},0),1)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),29205)
  write(ref.txres(22),{vl:29205})
  write(ref.committed(22),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:29205}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:29205}},0),0)
}
> cl_chans.send(1,{tx:20,bd:{vl:29205}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:29205}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:39348}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),39348)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),39348)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:39348}}})
{
  write(mid_spec.acked(24),1)
}
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(8),25)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),25)
  write(mid_spec.queue.head,9)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(9),23)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),23)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:49168}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:49168}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:4313}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:4313}}}),0)
}
> cl_chans.recv(1,{tx:20,bd:{vl:29205}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:29205}},1),0)
}
> cl_chans.recv(0,{tx:24,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:49168}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),49168)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),49168)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:49168}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl_chans.send(0,{tx:22,bd:{vl:29205}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:29205}},0),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:29205}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:29205}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:51134}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),51134)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),51134)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:51134}}})
{
  write(mid_spec.acked(23),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:30067}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:30067}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),49168)
  write(response.bd(loc:res),{vl:49168})
  write(response_body.vl(fml:out),49168)
  write(ref.txres(19),{vl:49168})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:49168}},1),1)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(10),16)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),16)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:read,ky:"m",vl:16380},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"m",vl:16380})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:16380})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"m",vl:16380}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:35537},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:35537})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35537})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:4503},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:4503})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:4503})
}
> cl.client_request(0,{knd:write,ky:"m",vl:6700},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:6700})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6700})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:6700}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),6700)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),6700)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:6700}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:20397},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:20397})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20397})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:20397}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:20397}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:20397}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:24006},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:24006})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24006})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:11084},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:11084})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11084})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:39036},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:39036})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39036})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:39036}}}),1)
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> cl_chans.send(1,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:39036}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:39036}}}),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(1),6)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),6)
  write(mid_spec.queue.head,2)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:7687},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:7687})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7687})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:7687}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:39036}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),39036)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),39036)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:39036}}})
{
  write(mid_spec.acked(6),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:24006}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),24006)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),24006)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:24006}}})
{
  write(mid_spec.acked(4),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:7687}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:7687}}}),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:37652},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:37652})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37652})
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:17479},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:17479})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17479})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:17479}}}),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(4),9)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),9)
  write(mid_spec.queue.head,5)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:17479}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:17479}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:7687}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),7687)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),7687)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:7687}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:63136},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:63136})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:63136})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:17479}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),17479)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),17479)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:17479}}})
{
  write(mid_spec.acked(9),1)
}
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),7687)
  write(ref.txres(8),{vl:7687})
  write(ref.committed(8),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:883},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:883})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:883})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:883}}}),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:883}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:883}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:883}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),883)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),883)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:883}}})
{
  write(mid_spec.acked(11),1)
}
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),883)
  write(ref.txres(10),{vl:883})
  write(ref.committed(10),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:51088},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"m",vl:51088})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51088})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:3181},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:3181})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3181})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:3181}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:3181}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:3181}}}),0)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:3181}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),3181)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),3181)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:3181}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:286},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:286})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:286})
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),3181)
  write(ref.txres(14),{vl:3181})
  write(ref.committed(14),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:62855},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:62855})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:62855})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(7),15)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),15)
  write(mid_spec.queue.head,8)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(8),12)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),12)
  write(mid_spec.queue.head,9)
}
> cl_chans.send(0,{tx:14,bd:{vl:3181}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:3181}},0),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:3181}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:3181}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:62855}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),62855)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),62855)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:62855}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.send(0,{tx:10,bd:{vl:883}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:883}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:40654},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:40654})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:40654})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:16438},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:16438})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16438})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:16438}}}),1)
}
> cl_chans.send(0,{tx:8,bd:{vl:7687}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:7687}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:51088}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),51088)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),51088)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:51088}}})
{
  write(mid_spec.acked(12),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:16438}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:16438}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),62855)
  write(response.bd(loc:res),{vl:62855})
  write(response_body.vl(fml:out),62855)
  write(ref.txres(17),{vl:62855})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:62855}},0),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),51088)
  write(ref.txres(16),{vl:51088})
  write(ref.committed(16),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:59389},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:59389})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:59389})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:59389}}}),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:883}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:883}},0),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(9),18)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),18)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:17,bd:{vl:62855}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:62855}},0),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:7687}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:7687}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:59389}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),59389)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),59389)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:59389}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:59389}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:59389}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:19671},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:19671})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:19671})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:19671}}}),1)
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:42304},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:42304})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:42304})
}
> cl_chans.send(1,{tx:16,bd:{vl:51088}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:51088}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:63658},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:63658})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:63658})
}
> cl_chans.recv(1,{tx:16,bd:{vl:51088}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:51088}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:15319},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:15319})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:15319})
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:19671}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:19671}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),51088)
  write(response.bd(loc:res),{vl:51088})
  write(response_body.vl(fml:out),51088)
  write(ref.txres(19),{vl:51088})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:51088}},1),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:51088}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:51088}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:23708},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:23708})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:23708})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:23708}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:23708}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:23708}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:57152},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:57152})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57152})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:62762},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:62762})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62762})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:62762}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:6731},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:6731})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6731})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:6731}}}),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(10),23)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),23)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:6731}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:6731}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),51088)
  write(response.bd(loc:res),{vl:51088})
  write(response_body.vl(fml:out),51088)
  write(ref.txres(26),{vl:51088})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:51088}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:23708}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),23708)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),23708)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:23708}}})
{
  write(mid_spec.acked(23),1)
}
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(11),22)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),22)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:37781},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:37781})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37781})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:7679},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:write,ky:"wrsylb",vl:7679})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7679})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:15319}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),15319)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),15319)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:15319}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:61385},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:read,ky:"m",vl:61385})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61385})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:read,ky:"m",vl:61385}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:29,bd:{knd:read,ky:"m",vl:61385}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:read,ky:"m",vl:61385}}}),0)
  write(response.tx(loc:res),29)
  write(response_body.vl(fml:out),51088)
  write(response.bd(loc:res),{vl:51088})
  write(response_body.vl(fml:out),51088)
  write(ref.txres(29),{vl:51088})
  write(ref.committed(29),1)
  write(service_spec.responded(29),1)
  write(cl_chans.spec.sent({tx:29,bd:{vl:51088}},0),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:54704},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:54704})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54704})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:54704}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:54704}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:54704}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:33792},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:33792})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:33792})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:33792}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:33792}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:33792}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:1865},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:1865})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:1865})
}
> cl.client_request(0,{knd:read,ky:"m",vl:60967},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:60967})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60967})
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:13592},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:13592})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:13592})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:13592}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:13592}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:13592}}}),0)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(0),4)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),4)
  write(mid_spec.queue.head,1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:35336},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:35336})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35336})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:35336}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:13592}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),13592)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),13592)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:13592}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:35336}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:35336}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
}
> cl_chans.send(0,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:36453},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:36453})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36453})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:36453}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:11634},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:11634})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11634})
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:36453}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:36453}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),13592)
  write(response.bd(loc:res),{vl:13592})
  write(response_body.vl(fml:out),13592)
  write(ref.txres(6),{vl:13592})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:13592}},0),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(1),7)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),7)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:25603},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:25603})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25603})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:11634}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),11634)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),11634)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:11634}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:41593},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:41593})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41593})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:41593}}}),1)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),11634)
  write(ref.txres(8),{vl:11634})
  write(ref.committed(8),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(2),9)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),9)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:write,ky:"m",vl:33355},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"m",vl:33355})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33355})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:33355}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:41593}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),41593)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),41593)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:41593}}})
{
  write(mid_spec.acked(9),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:41593}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:41593}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:33355}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:33355}}}),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(3),10)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),10)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:33355}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),33355)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),33355)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:33355}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.send(0,{tx:8,bd:{vl:11634}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:11634}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:56849},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:56849})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:56849})
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),11634)
  write(ref.txres(11),{vl:11634})
  write(ref.committed(11),1)
}
> cl_chans.send(1,{tx:11,bd:{vl:11634}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:11634}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:24781},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:24781})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24781})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:47363},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:47363})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:47363})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:47363}}}),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:13592}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:13592}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:54539},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:54539})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54539})
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),33355)
  write(ref.txres(12),{vl:33355})
  write(ref.committed(12),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:61327},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:61327})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61327})
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(4),14)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),14)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:54539}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),54539)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),54539)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:54539}}})
{
  write(mid_spec.acked(14),1)
}
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),11634)
  write(ref.txres(15),{vl:11634})
  write(ref.committed(15),1)
}
> cl_chans.send(0,{tx:15,bd:{vl:11634}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:11634}},0),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:11634}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:11634}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:47363}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:47363}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),11634)
  write(response.bd(loc:res),{vl:11634})
  write(response_body.vl(fml:out),11634)
  write(ref.txres(13),{vl:11634})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:11634}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:64966},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:64966})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64966})
}
> cl_chans.recv(1,{tx:13,bd:{vl:11634}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:11634}},1),0)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),11634)
  write(ref.txres(16),{vl:11634})
  write(ref.committed(16),1)
}
> cl_chans.send(1,{tx:16,bd:{vl:11634}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:11634}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:8198},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:8198})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:8198})
}
> cl_chans.recv(1,{tx:16,bd:{vl:11634}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:11634}},1),0)
}
> cl_chans.send(1,{tx:12,bd:{vl:33355}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:33355}},1),1)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),11634)
  write(ref.txres(17),{vl:11634})
  write(ref.committed(17),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:33355}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:33355}},1),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:52312},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:52312})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52312})
}
> cl_chans.send(1,{tx:17,bd:{vl:11634}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:11634}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:49334},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:49334})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:49334})
}
> cl_chans.recv(1,{tx:17,bd:{vl:11634}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:11634}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:24304},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:24304})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24304})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:24304}}}),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:11634}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:11634}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:24304}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:24304}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:45103},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:45103})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45103})
}
> cl.client_request(0,{knd:read,ky:"m",vl:35640},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:35640})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35640})
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(5),20)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),20)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:24304}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),24304)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),24304)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:24304}}})
{
  write(mid_spec.acked(20),1)
}
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(6),19)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),19)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:11634}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:11634}},0),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(7),18)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),18)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:49334}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),49334)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),49334)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:49334}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:52312}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),52312)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),52312)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:52312}}})
{
  write(mid_spec.acked(18),1)
}
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),49334)
  write(ref.txres(22),{vl:49334})
  write(ref.committed(22),1)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),49334)
  write(ref.txres(21),{vl:49334})
  write(ref.committed(21),1)
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:7826},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:7826})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:7826})
}
> cl.client_request(1,{knd:read,ky:"m",vl:57086},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:57086})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:57086})
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),49334)
  write(ref.txres(23),{vl:49334})
  write(ref.committed(23),1)
}
> cl_chans.send(0,{tx:23,bd:{vl:49334}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:49334}},0),1)
}
> cl_chans.send(0,{tx:22,bd:{vl:49334}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:49334}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:40162},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:40162})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40162})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:7225},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:7225})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7225})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:7225}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:7225}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:7225}}}),0)
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),52312)
  write(ref.txres(25),{vl:52312})
  write(ref.committed(25),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:49334}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:49334}},0),0)
}
> cl_chans.recv(0,{tx:23,bd:{vl:49334}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:49334}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:61459},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:61459})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61459})
}
> cl_chans.send(0,{tx:25,bd:{vl:52312}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:52312}},0),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:63257},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:63257})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:63257})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:64393},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:64393})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64393})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:63257}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),63257)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),63257)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:63257}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:23453},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:23453})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:23453})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:23453}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:23453}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:23453}}}),0)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:23453}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),23453)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),23453)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:23453}}})
{
  write(mid_spec.acked(2),1)
}
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:32983},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:32983})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32983})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:32983}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:32983}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:32983}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),23453)
  write(response.bd(loc:res),{vl:23453})
  write(response_body.vl(fml:out),23453)
  write(ref.txres(3),{vl:23453})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:23453}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:54217},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:54217})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54217})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:64393}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),64393)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),64393)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:64393}}})
{
  write(mid_spec.acked(1),1)
}
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(3),4)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),4)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55479},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:55479})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55479})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:55479}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:54217}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),54217)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),54217)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:54217}}})
{
  write(mid_spec.acked(4),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:55479}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:55479}}}),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:23453}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:23453}},1),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(4),5)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),5)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"m",vl:56109},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:56109})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:56109})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:56109}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:38924},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:38924})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:38924})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:38924}}}),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:56109}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:56109}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:55479}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),55479)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),55479)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:55479}}})
{
  write(mid_spec.acked(5),1)
}
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(5),7)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),7)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:write,ky:"m",vl:62484},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"m",vl:62484})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:62484})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:62484}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:49748},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:49748})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:49748})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:49748}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:14915},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:14915})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14915})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:14915}}}),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(6),9)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),9)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:38924}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),38924)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),38924)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:38924}}})
{
  write(mid_spec.acked(7),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:38924}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:38924}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:49748}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),49748)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),49748)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:49748}}})
{
  write(mid_spec.acked(9),1)
}
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(7),8)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),8)
  write(mid_spec.queue.head,8)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(8),6)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),6)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:62484}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),62484)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),62484)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:62484}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:56109}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),56109)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),56109)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:56109}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:18206},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:18206})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18206})
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:14915}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:14915}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),56109)
  write(response.bd(loc:res),{vl:56109})
  write(response_body.vl(fml:out),56109)
  write(ref.txres(10),{vl:56109})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:56109}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:62484}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:62484}}}),0)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),38924)
  write(ref.txres(11),{vl:38924})
  write(ref.committed(11),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:56109}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:56109}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:50545},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:50545})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50545})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:50545}}}),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:53517},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:53517})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53517})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:53517}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:53517}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:53517}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),56109)
  write(response.bd(loc:res),{vl:56109})
  write(response_body.vl(fml:out),56109)
  write(ref.txres(13),{vl:56109})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:56109}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:50545}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:50545}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),38924)
  write(response.bd(loc:res),{vl:38924})
  write(response_body.vl(fml:out),38924)
  write(ref.txres(12),{vl:38924})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:38924}},0),1)
}
> cl_chans.send(1,{tx:11,bd:{vl:38924}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:38924}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:49748}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:49748}}}),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:56109}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:56109}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:2515},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"m",vl:2515})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2515})
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),56109)
  write(ref.txres(14),{vl:56109})
  write(ref.committed(14),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:19673},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:19673})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19673})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:19673}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:65454},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"m",vl:65454})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:65454})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(9),16)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),16)
  write(mid_spec.queue.head,10)
}
> cl_chans.send(0,{tx:14,bd:{vl:56109}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:56109}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:65454}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),65454)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),65454)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:65454}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:58729},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:58729})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:58729})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:18737},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:18737})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18737})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:18737}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:19673}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:19673}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:18737}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:18737}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),38924)
  write(response.bd(loc:res),{vl:38924})
  write(response_body.vl(fml:out),38924)
  write(ref.txres(18),{vl:38924})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:38924}},1),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:38924}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:38924}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:36482},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:36482})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36482})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:36482}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(10),17)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),17)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:58729}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),58729)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),58729)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:58729}}})
{
  write(mid_spec.acked(17),1)
}
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(11),15)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),15)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:19673}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),19673)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),19673)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:19673}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(1,{tx:18,bd:{vl:38924}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:38924}},1),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:36482}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:36482}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),58729)
  write(response.bd(loc:res),{vl:58729})
  write(response_body.vl(fml:out),58729)
  write(ref.txres(19),{vl:58729})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:58729}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:9413},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"m",vl:9413})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9413})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:9413}}}),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:56109}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:56109}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:18564},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:18564})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18564})
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:9413}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:9413}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:25136},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:25136})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25136})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:25136}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:25136}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:25136}}}),0)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),19673)
  write(ref.txres(21),{vl:19673})
  write(ref.committed(21),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:61600},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:61600})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61600})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:61600}}}),1)
}
> cl_chans.send(0,{tx:21,bd:{vl:19673}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:19673}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:44601},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:44601})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44601})
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:61600}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:61600}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:35972},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:35972})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:35972})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:35972}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:35972}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:35972}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:49430},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:49430})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49430})
}
> cl.client_request(1,{knd:read,ky:"m",vl:55289},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"m",vl:55289})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55289})
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(12),25)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),25)
  write(mid_spec.queue.head,13)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:35972}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),35972)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),35972)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:35972}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl_chans.recv(0,{tx:19,bd:{vl:58729}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:58729}},0),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:19673}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:19673}},0),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(13),23)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),23)
  write(mid_spec.queue.head,14)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(14),22)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),22)
  write(mid_spec.queue.head,15)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:61600}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),61600)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),61600)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:61600}}})
{
  write(mid_spec.acked(23),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:25136}}})
{
  write(mid_spec.queue.tail,15)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),25136)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,15)
  write(ref.rep.store("wrsylb"),25136)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:25136}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:2837},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:2837})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2837})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:read,ky:"wrsylb",vl:2837}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:28,bd:{knd:read,ky:"wrsylb",vl:2837}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:read,ky:"wrsylb",vl:2837}}}),0)
  write(response.tx(loc:res),28)
  write(response_body.vl(fml:out),25136)
  write(response.bd(loc:res),{vl:25136})
  write(response_body.vl(fml:out),25136)
  write(ref.txres(28),{vl:25136})
  write(ref.committed(28),1)
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:25136}},0),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(15),20)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),20)
  write(mid_spec.queue.head,16)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:6332},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:6332})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:6332})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:10218},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:10218})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10218})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:10218}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:43259},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:43259})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:43259})
}
> cl.client_request(0,{knd:write,ky:"m",vl:61376},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:61376})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61376})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:61376}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:6332}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),6332)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),6332)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:6332}}})
{
  write(mid_spec.acked(0),1)
}
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:write,ky:"m",vl:6102},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:6102})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6102})
}
> cl.client_request(1,{knd:read,ky:"m",vl:4032},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:4032})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4032})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:4032}}}),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:write,ky:"m",vl:18816},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:18816})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18816})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:18816}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:20105},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:20105})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20105})
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(4),2)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),2)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:61376}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),61376)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),61376)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:61376}}})
{
  write(mid_spec.acked(3),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:6102}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),6102)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),6102)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:6102}}})
{
  write(mid_spec.acked(4),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:10218}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:10218}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),6102)
  write(response.bd(loc:res),{vl:6102})
  write(response_body.vl(fml:out),6102)
  write(ref.txres(1),{vl:6102})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:6102}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:18816}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),18816)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),18816)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:18816}}})
{
  write(mid_spec.acked(6),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:43259}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),43259)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),43259)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:43259}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:10712},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:10712})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10712})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:10712}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:23675},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:23675})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:23675})
}
> cl.client_request(1,{knd:read,ky:"m",vl:21758},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:21758})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21758})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:21758}}}),1)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),6332)
  write(ref.txres(7),{vl:6332})
  write(ref.committed(7),1)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),6332)
  write(ref.txres(9),{vl:6332})
  write(ref.committed(9),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:6102}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:6102}},1),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:18816}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:18816}}}),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:40895},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:40895})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:40895})
}
> cl_chans.send(0,{tx:7,bd:{vl:6332}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:6332}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:7133},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:7133})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7133})
}
> cl_chans.send(1,{tx:9,bd:{vl:6332}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:6332}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:36362},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:36362})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:36362})
}
> cl_chans.recv(1,{tx:9,bd:{vl:6332}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:6332}},1),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:6332}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:6332}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:62892},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:62892})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:62892})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:62892}}}),1)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),43259)
  write(ref.txres(11),{vl:43259})
  write(ref.committed(11),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:41409},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:41409})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41409})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:41409}}}),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(5),14)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),14)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:read,ky:"m",vl:64642},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:64642})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64642})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:64642}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:53783},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:53783})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53783})
}
> cl_chans.send(1,{tx:11,bd:{vl:43259}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:43259}},1),1)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),43259)
  write(ref.txres(17),{vl:43259})
  write(ref.committed(17),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:41409}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:41409}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),6332)
  write(response.bd(loc:res),{vl:6332})
  write(response_body.vl(fml:out),6332)
  write(ref.txres(15),{vl:6332})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:6332}},1),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(1,{tx:11,bd:{vl:43259}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:43259}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:62892}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),62892)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),62892)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:62892}}})
{
  write(mid_spec.acked(14),1)
}
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(7),12)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),12)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:36362}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),36362)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),36362)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:36362}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.send(0,{tx:17,bd:{vl:43259}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:43259}},0),1)
}
> cl_chans.recv(0,{tx:17,bd:{vl:43259}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:43259}},0),0)
}
> cl_chans.recv(1,{tx:15,bd:{vl:6332}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:6332}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:61068},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:61068})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61068})
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(8),18)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),18)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7133}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),7133)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),7133)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7133}}})
{
  write(mid_spec.acked(12),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:62892}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:62892}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:2895},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:2895})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2895})
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:10712}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:10712}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),43259)
  write(response.bd(loc:res),{vl:43259})
  write(response_body.vl(fml:out),43259)
  write(ref.txres(8),{vl:43259})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:43259}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:61068}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),61068)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),61068)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:61068}}})
{
  write(mid_spec.acked(18),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:61376}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:61376}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:47198},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:47198})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:47198})
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:4032}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:4032}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),43259)
  write(response.bd(loc:res),{vl:43259})
  write(response_body.vl(fml:out),43259)
  write(ref.txres(5),{vl:43259})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:43259}},1),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:4571},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:4571})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:4571})
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),61068)
  write(ref.txres(20),{vl:61068})
  write(ref.committed(20),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:52524},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:52524})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52524})
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),61068)
  write(ref.txres(21),{vl:61068})
  write(ref.committed(21),1)
}
> cl_chans.send(1,{tx:20,bd:{vl:61068}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:61068}},1),1)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),43259)
  write(ref.txres(19),{vl:43259})
  write(ref.committed(19),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(9),22)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),22)
  write(mid_spec.queue.head,10)
}
> cl_chans.send(1,{tx:21,bd:{vl:61068}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:61068}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:36054},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:36054})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36054})
}
> cl.client_request(1,{knd:write,ky:"m",vl:37518},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:37518})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:37518})
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(10),24)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),24)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:52524}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),52524)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),52524)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:52524}}})
{
  write(mid_spec.acked(22),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:21758}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:21758}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),43259)
  write(response.bd(loc:res),{vl:43259})
  write(response_body.vl(fml:out),43259)
  write(ref.txres(10),{vl:43259})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:43259}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:51037},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:51037})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51037})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"m",vl:51037}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:64642}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:64642}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),43259)
  write(response.bd(loc:res),{vl:43259})
  write(response_body.vl(fml:out),43259)
  write(ref.txres(16),{vl:43259})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:43259}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:64510},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:64510})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64510})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:64510}}}),1)
}
> cl_chans.send(1,{tx:19,bd:{vl:43259}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:43259}},1),1)
}
> cl_chans.recv(1,{tx:21,bd:{vl:61068}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:61068}},1),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:43259}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:43259}},0),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:43259}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:43259}},1),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:43259}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:43259}},0),0)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(11),26)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),26)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(0,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(12),23)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),23)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(1,{tx:20,bd:{vl:61068}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:61068}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:37518}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),37518)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),37518)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:37518}}})
{
  write(mid_spec.acked(24),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:64510}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),26)
  write(sec.rep.store("m"),64510)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),64510)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:64510}}})
{
  write(mid_spec.acked(26),1)
}
}
> cl_chans.recv(1,{tx:10,bd:{vl:43259}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:43259}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:36054}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),36054)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),36054)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:36054}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl_chans.recv(1,{tx:5,bd:{vl:43259}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:43259}},1),0)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:17694},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:17694})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17694})
}
> cl.client_request(1,{knd:write,ky:"m",vl:16642},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:16642})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16642})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:23892},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:23892})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:23892})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:59556},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:59556})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59556})
}
> cl.client_request(0,{knd:read,ky:"m",vl:39532},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:39532})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39532})
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:17694}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),17694)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),17694)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:17694}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:16642}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),16642)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),16642)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:16642}}})
{
  write(mid_spec.acked(1),1)
}
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> cl_chans.send(1,{tx:4,bd:{vl:0}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:21979},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:21979})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21979})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:21979}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:6132},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"m",vl:6132})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6132})
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:62185},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:62185})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62185})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:62185}}}),1)
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),16642)
  write(ref.txres(6),{vl:16642})
  write(ref.committed(6),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:18963},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:18963})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18963})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:18963}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(2),8)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),8)
  write(mid_spec.queue.head,3)
}
> cl_chans.send(0,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:21979}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:21979}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),16642)
  write(response.bd(loc:res),{vl:16642})
  write(response_body.vl(fml:out),16642)
  write(ref.txres(5),{vl:16642})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:16642}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:1350},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:1350})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:1350})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:64658},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:64658})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64658})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:64658}}}),1)
}
> cl_chans.send(1,{tx:6,bd:{vl:16642}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:16642}},1),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:16642}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:16642}},0),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(3),9)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),9)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:3697},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:3697})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3697})
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:60183},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:60183})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60183})
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),16642)
  write(ref.txres(12),{vl:16642})
  write(ref.committed(12),1)
}
> cl_chans.send(1,{tx:12,bd:{vl:16642}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:16642}},1),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:16642}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:16642}},1),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:15819},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:15819})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:15819})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:15819}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:18963}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),18963)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),18963)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:18963}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:47786},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"m",vl:47786})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47786})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:60500},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:60500})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:60500})
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:18963}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:18963}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:1350}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),1350)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),1350)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:1350}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),18963)
  write(ref.txres(14),{vl:18963})
  write(ref.committed(14),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(4),15)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),15)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:60500}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),60500)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),60500)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:60500}}})
{
  write(mid_spec.acked(15),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:15819}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:15819}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:64658}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:64658}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),60500)
  write(response.bd(loc:res),{vl:60500})
  write(response_body.vl(fml:out),60500)
  write(ref.txres(10),{vl:60500})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:60500}},0),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(5),13)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),13)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:62185}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:62185}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),60500)
  write(response.bd(loc:res),{vl:60500})
  write(response_body.vl(fml:out),60500)
  write(ref.txres(7),{vl:60500})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:60500}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:65502},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:65502})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65502})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:65502}}}),1)
}
> cl_chans.send(1,{tx:14,bd:{vl:18963}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:18963}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:65502}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:65502}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),60500)
  write(response.bd(loc:res),{vl:60500})
  write(response_body.vl(fml:out),60500)
  write(ref.txres(16),{vl:60500})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:60500}},0),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(6),11)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),11)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:write,ky:"m",vl:38194},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:38194})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38194})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:38194}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(7),17)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),17)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:38194}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:38194}}}),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:60500}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:60500}},0),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:15819}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),15819)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),15819)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:15819}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.recv(1,{tx:14,bd:{vl:18963}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:18963}},1),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:60500}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:60500}},1),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:16642}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:16642}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:3697}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),3697)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),3697)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:3697}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:10,bd:{vl:60500}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:60500}},0),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:28729},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:28729})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28729})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:28729}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:25944},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:25944})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25944})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:25944}}}),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(8),19)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),19)
  write(mid_spec.queue.head,9)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(9),18)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),18)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:25944}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:25944}}}),0)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:38194}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),38194)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),38194)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:38194}}})
{
  write(mid_spec.acked(17),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:25944}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),25944)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),25944)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:25944}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:10222},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:10222})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10222})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:10222}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:41988},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:41988})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:41988})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:41988}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:48264},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:48264})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48264})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:48264}}}),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(10),21)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),21)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:28729}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),28729)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),28729)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:28729}}})
{
  write(mid_spec.acked(18),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:41988}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),41988)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),41988)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:41988}}})
{
  write(mid_spec.acked(21),1)
}
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(11),20)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),20)
  write(mid_spec.queue.head,12)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:48264}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:48264}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),41988)
  write(response.bd(loc:res),{vl:41988})
  write(response_body.vl(fml:out),41988)
  write(ref.txres(22),{vl:41988})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:41988}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:10222}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:10222}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:10222}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),10222)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),10222)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:10222}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:56758},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:56758})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:56758})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:56758}}}),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:41988}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:41988}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:1805},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:1805})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:1805})
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(12),24)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),24)
  write(mid_spec.queue.head,13)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(13),23)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),23)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:1805}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),24)
  write(sec.rep.store("wrsylb"),1805)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),1805)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:1805}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl_chans.recv(1,{tx:24,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:28729}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:28729}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:56758}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),56758)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),56758)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:56758}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:582},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:582})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:582})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:582}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:582}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:582}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:57468},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:57468})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:57468})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:57468}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:40076},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"m",vl:40076})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:40076})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:41300},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:41300})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:41300})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:41300}}}),1)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> cl_chans.send(0,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:582}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),582)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),582)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:582}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:64989},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:64989})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64989})
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:41300}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:41300}}}),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(3),4)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),4)
  write(mid_spec.queue.head,4)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:57468}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:57468}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:41300}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),41300)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),41300)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:41300}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:43845},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:43845})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:43845})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:57468}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),57468)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),57468)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:57468}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:64989}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),64989)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),64989)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:64989}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(4),5)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),5)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:9041},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:9041})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9041})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:9041}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:9041}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:9041}}}),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:13943},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:13943})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:13943})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:13943}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:13943}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:13943}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:43845}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),43845)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),43845)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:43845}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(5),7)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),7)
  write(mid_spec.queue.head,6)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(6),6)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),6)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:read,ky:"m",vl:48914},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:48914})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48914})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:48914}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:13943}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),13943)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),13943)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:13943}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:13830},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:13830})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:13830})
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:48914}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:48914}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),43845)
  write(response.bd(loc:res),{vl:43845})
  write(response_body.vl(fml:out),43845)
  write(ref.txres(8),{vl:43845})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:43845}},0),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(7),9)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),9)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(0,{tx:8,bd:{vl:43845}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:43845}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:9041}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),9041)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),9041)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:9041}}})
{
  write(mid_spec.acked(6),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:13830}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),13830)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),13830)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:13830}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:15046},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:15046})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15046})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:15046}}}),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:43021},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:43021})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:43021})
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:15046}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:15046}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),13830)
  write(response.bd(loc:res),{vl:13830})
  write(response_body.vl(fml:out),13830)
  write(ref.txres(10),{vl:13830})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:13830}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:60776},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:60776})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:60776})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:60776}}}),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(8),12)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),12)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:10,bd:{vl:13830}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:13830}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:29136},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:29136})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29136})
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(9),13)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),13)
  write(mid_spec.queue.head,10)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:34830},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:34830})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34830})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:60776}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),60776)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),60776)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:60776}}})
{
  write(mid_spec.acked(12),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:29136}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),29136)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),29136)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:29136}}})
{
  write(mid_spec.acked(13),1)
}
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(10),14)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),14)
  write(mid_spec.queue.head,11)
}
> cl.client_request(1,{knd:write,ky:"m",vl:9253},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:9253})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9253})
}
> cl.client_request(0,{knd:write,ky:"m",vl:12307},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:12307})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:12307})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:34830}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),34830)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),34830)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:34830}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:57198},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:57198})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:57198})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(11),16)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),16)
  write(mid_spec.queue.head,12)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),13830)
  write(ref.txres(17),{vl:13830})
  write(ref.committed(17),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:12307}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),12307)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),12307)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:12307}}})
{
  write(mid_spec.acked(16),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:60776}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:60776}}}),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(12),15)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),15)
  write(mid_spec.queue.head,13)
}
> cl.client_request(1,{knd:write,ky:"m",vl:55153},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"m",vl:55153})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:55153})
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(13),18)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),18)
  write(mid_spec.queue.head,14)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(14),11)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),11)
  write(mid_spec.queue.head,15)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:11237},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:11237})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11237})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:11237}}}),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:17,bd:{vl:13830}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:13830}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:11237}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:11237}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:26262},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:26262})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:26262})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:26262}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54326},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"m",vl:54326})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54326})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:9253}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),9253)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),9253)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:9253}}})
{
  write(mid_spec.acked(15),1)
}
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(15),21)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),21)
  write(mid_spec.queue.head,16)
}
> cl.client_request(0,{knd:write,ky:"m",vl:47678},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"m",vl:47678})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47678})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:47678}}}),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(16),22)
  write(ser.queue.head,17)
  write(mid_spec.queue.contents(16),22)
  write(mid_spec.queue.head,17)
}
> cl.client_request(0,{knd:write,ky:"m",vl:24443},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"m",vl:24443})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24443})
}
> cl_chans.recv(1,{tx:17,bd:{vl:13830}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:13830}},1),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(17),23)
  write(ser.queue.head,18)
  write(mid_spec.queue.contents(17),23)
  write(mid_spec.queue.head,18)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:26262}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:26262}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),34830)
  write(response.bd(loc:res),{vl:34830})
  write(response_body.vl(fml:out),34830)
  write(ref.txres(20),{vl:34830})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:34830}},0),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(18),19)
  write(ser.queue.head,19)
  write(mid_spec.queue.contents(18),19)
  write(mid_spec.queue.head,19)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:47707},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:47707})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:47707})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:47707}}}),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(19),24)
  write(ser.queue.head,20)
  write(mid_spec.queue.contents(19),24)
  write(mid_spec.queue.head,20)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:50322},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:50322})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50322})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:50322}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:15560},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:15560})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:15560})
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(20),25)
  write(ser.queue.head,21)
  write(mid_spec.queue.contents(20),25)
  write(mid_spec.queue.head,21)
}
> cl.client_request(0,{knd:read,ky:"m",vl:48214},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"m",vl:48214})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48214})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"m",vl:48214}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:55153}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),55153)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("m"),55153)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:55153}}})
{
  write(mid_spec.acked(18),1)
}
}
> ref.commit(26,prim)
{
  write(response_body.vl(fml:out),34830)
  write(ref.txres(26),{vl:34830})
  write(ref.committed(26),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:43021}}})
{
  write(mid_spec.queue.tail,15)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),43021)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,15)
  write(ref.rep.store("wrsylb"),43021)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:43021}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:20,bd:{vl:34830}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:34830}},0),0)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:27,bd:{knd:read,ky:"m",vl:48214}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"m",vl:48214}}}),0)
  write(response.tx(loc:res),27)
  write(response_body.vl(fml:out),55153)
  write(response.bd(loc:res),{vl:55153})
  write(response_body.vl(fml:out),55153)
  write(ref.txres(27),{vl:55153})
  write(ref.committed(27),1)
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:55153}},0),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:23052},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:23052})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:23052})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:31440},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:31440})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31440})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:31440}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:23052}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),23052)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),23052)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:23052}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:36247},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:36247})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36247})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:36247}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:54833},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:54833})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54833})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:54833}}}),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:36247}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),36247)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),36247)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:36247}}})
{
  write(mid_spec.acked(2),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:54833}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:54833}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),23052)
  write(response.bd(loc:res),{vl:23052})
  write(response_body.vl(fml:out),23052)
  write(ref.txres(3),{vl:23052})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:23052}},0),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:23052}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:23052}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:46002},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:46002})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46002})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:46002}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:63808},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:63808})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:63808})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:63808}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:45949},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:45949})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:45949})
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),23052)
  write(ref.txres(6),{vl:23052})
  write(ref.committed(6),1)
}
> cl_chans.send(0,{tx:6,bd:{vl:23052}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:23052}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:36247}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:36247}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:63808}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:63808}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),23052)
  write(response.bd(loc:res),{vl:23052})
  write(response_body.vl(fml:out),23052)
  write(ref.txres(5),{vl:23052})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:23052}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:35722},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:35722})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:35722})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:35722}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:31440}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:31440}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),36247)
  write(response.bd(loc:res),{vl:36247})
  write(response_body.vl(fml:out),36247)
  write(ref.txres(1),{vl:36247})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:36247}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:20930},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:20930})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20930})
}
> cl_chans.recv(0,{tx:1,bd:{vl:36247}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:36247}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:46002}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:46002}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),36247)
  write(response.bd(loc:res),{vl:36247})
  write(response_body.vl(fml:out),36247)
  write(ref.txres(4),{vl:36247})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:36247}},0),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(2),8)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),8)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(1,{tx:5,bd:{vl:23052}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:23052}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:27784},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:27784})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:27784})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:4369},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:4369})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:4369})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:4369}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:20930}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),20930)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),20930)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:20930}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),20930)
  write(ref.txres(9),{vl:20930})
  write(ref.committed(9),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:35722}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),35722)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),35722)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:35722}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:49181},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:49181})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49181})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:49181}}}),1)
}
> cl_chans.send(1,{tx:9,bd:{vl:20930}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:20930}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:49181}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:49181}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),36247)
  write(response.bd(loc:res),{vl:36247})
  write(response_body.vl(fml:out),36247)
  write(ref.txres(11),{vl:36247})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:36247}},0),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:36247}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:36247}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:6072},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"m",vl:6072})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6072})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:6072}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:4369}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:4369}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),35722)
  write(response.bd(loc:res),{vl:35722})
  write(response_body.vl(fml:out),35722)
  write(ref.txres(10),{vl:35722})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:35722}},1),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:20930}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:20930}},1),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:23052}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:23052}},0),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(4),12)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),12)
  write(mid_spec.queue.head,5)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:6072}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:6072}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:35722}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:35722}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:18459},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:18459})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18459})
}
> cl_chans.recv(1,{tx:10,bd:{vl:35722}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:35722}},1),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:6072}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),6072)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),6072)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:6072}}})
{
  write(mid_spec.acked(12),1)
}
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),6072)
  write(ref.txres(13),{vl:6072})
  write(ref.committed(13),1)
}
> cl_chans.send(0,{tx:13,bd:{vl:6072}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:6072}},0),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:14030},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:14030})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14030})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:14030}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:38569},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:38569})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38569})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:38569}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:45213},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:45213})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45213})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:45213}}}),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:6072}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:6072}},0),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:36247}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:36247}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:55361},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:55361})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55361})
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(5),17)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),17)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:55361}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),55361)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),55361)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:55361}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:37418},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:37418})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:37418})
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:14030}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:14030}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),55361)
  write(response.bd(loc:res),{vl:55361})
  write(response_body.vl(fml:out),55361)
  write(ref.txres(14),{vl:55361})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:55361}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:16425},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:16425})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16425})
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:38569}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:38569}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:7279},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"m",vl:7279})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:7279})
}
> cl_chans.recv(1,{tx:14,bd:{vl:55361}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:55361}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:45213}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:45213}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:50997},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"m",vl:50997})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50997})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:50997}}}),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(6),21)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),21)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:50997}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:50997}}}),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:50997}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),50997)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),50997)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:50997}}})
{
  write(mid_spec.acked(21),1)
}
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(7),20)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),20)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:7279}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),7279)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),7279)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:7279}}})
{
  write(mid_spec.acked(20),1)
}
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(8),19)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),19)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(1,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:35757},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:35757})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:35757})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:35757}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:35757}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:35757}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),55361)
  write(response.bd(loc:res),{vl:55361})
  write(response_body.vl(fml:out),55361)
  write(ref.txres(22),{vl:55361})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:55361}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:16425}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),16425)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),16425)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:16425}}})
{
  write(mid_spec.acked(19),1)
}
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(9),18)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),18)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(10),16)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),16)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:479},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:479})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:479})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:479}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:13273},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:13273})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13273})
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),16425)
  write(ref.txres(24),{vl:16425})
  write(ref.committed(24),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:27542},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:27542})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27542})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:27542}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:24657},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"m",vl:24657})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24657})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:24657}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:37418}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),37418)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),37418)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:37418}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.recv(0,{tx:22,bd:{vl:55361}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:55361}},0),0)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(11),26)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),26)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:45213}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),45213)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),45213)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:45213}}})
{
  write(mid_spec.acked(16),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:24657}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:24657}}}),0)
}
> cl_chans.send(0,{tx:24,bd:{vl:16425}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:16425}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:27542}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:27542}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),37418)
  write(response.bd(loc:res),{vl:37418})
  write(response_body.vl(fml:out),37418)
  write(ref.txres(25),{vl:37418})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:37418}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:31267},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"m",vl:31267})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31267})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"m",vl:31267}}}),1)
}
> cl_chans.recv(0,{tx:24,bd:{vl:16425}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:16425}},0),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(12),23)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),23)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:25,bd:{vl:37418}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:37418}},0),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:43920},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:43920})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43920})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:40305},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:40305})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40305})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:40305}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:50471},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:50471})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50471})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:50471}}}),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:40305}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),40305)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),40305)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:40305}}})
{
  write(mid_spec.acked(1),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:40305}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:40305}}}),0)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:50471}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:50471}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),40305)
  write(response.bd(loc:res),{vl:40305})
  write(response_body.vl(fml:out),40305)
  write(ref.txres(2),{vl:40305})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:40305}},0),1)
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:21776},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:21776})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21776})
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:46507},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:46507})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46507})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:16029},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:16029})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16029})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:16029}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:18928},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:18928})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18928})
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:16029}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:16029}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),40305)
  write(response.bd(loc:res),{vl:40305})
  write(response_body.vl(fml:out),40305)
  write(ref.txres(5),{vl:40305})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:40305}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:21776}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),21776)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),21776)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:21776}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:52532},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:52532})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:52532})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:52532}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:40305}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:40305}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:42032},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:42032})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:42032})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:42032}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:46507}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),46507)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),46507)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:46507}}})
{
  write(mid_spec.acked(4),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:42032}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:42032}}}),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:write,ky:"m",vl:51360},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:51360})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51360})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(4),9)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),9)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:42032}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),42032)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),42032)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:42032}}})
{
  write(mid_spec.acked(8),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:52532}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:52532}}}),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:40305}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:40305}},1),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:51360}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),51360)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),51360)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:51360}}})
{
  write(mid_spec.acked(9),1)
}
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(5),7)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),7)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:52532}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),52532)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),52532)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:52532}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:3338},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"m",vl:3338})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:3338})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:3338}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:12926},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:12926})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:12926})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:12926}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(6),11)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),11)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:3338}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:3338}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:12926}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:12926}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:38478},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:38478})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:38478})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:38478}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:38478}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:38478}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:49123},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:49123})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49123})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:49123}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:49123}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:49123}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:12926}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),12926)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),12926)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:12926}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:58037},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:58037})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:58037})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:58037}}}),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:1840},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:1840})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:1840})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:1840}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:7203},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:7203})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7203})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:7203}}}),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:1840}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:1840}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:5189},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:5189})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:5189})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:5189}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:58037}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:58037}}}),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(7),17)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),17)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:read,ky:"m",vl:29476},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:29476})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29476})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(8),15)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),15)
  write(mid_spec.queue.head,9)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(9),14)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),14)
  write(mid_spec.queue.head,10)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(10),13)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),13)
  write(mid_spec.queue.head,11)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:40239},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:40239})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40239})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:4902},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:4902})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:4902})
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:7203}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:7203}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),42032)
  write(response.bd(loc:res),{vl:42032})
  write(response_body.vl(fml:out),42032)
  write(ref.txres(16),{vl:42032})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:42032}},0),1)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),12926)
  write(ref.txres(18),{vl:12926})
  write(ref.committed(18),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:42032}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:42032}},0),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(11),12)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),12)
  write(mid_spec.queue.head,12)
}
> cl_chans.send(1,{tx:18,bd:{vl:12926}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:12926}},1),1)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),42032)
  write(ref.txres(19),{vl:42032})
  write(ref.committed(19),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:5189}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),5189)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),5189)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:5189}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:5189}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:5189}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:4877},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:4877})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:4877})
}
> cl_chans.recv(1,{tx:18,bd:{vl:12926}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:12926}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:1840}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),1840)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),1840)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:1840}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.send(0,{tx:19,bd:{vl:42032}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:42032}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:58037}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),58037)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),58037)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:58037}}})
{
  write(mid_spec.acked(14),1)
}
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),58037)
  write(ref.txres(20),{vl:58037})
  write(ref.committed(20),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:19,bd:{vl:42032}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:42032}},0),0)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(12),21)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),21)
  write(mid_spec.queue.head,13)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(13),10)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),10)
  write(mid_spec.queue.head,14)
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(14),6)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),6)
  write(mid_spec.queue.head,15)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:49123}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),49123)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),49123)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:49123}}})
{
  write(mid_spec.acked(13),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:38478}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),38478)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),38478)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:38478}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:22093},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:22093})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22093})
}
> cl_chans.send(1,{tx:20,bd:{vl:58037}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:58037}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:50947},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:50947})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50947})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:50947}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:50947}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:50947}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),38478)
  write(response.bd(loc:res),{vl:38478})
  write(response_body.vl(fml:out),38478)
  write(ref.txres(23),{vl:38478})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:38478}},1),1)
}
> cl_chans.recv(1,{tx:23,bd:{vl:38478}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:38478}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:54159},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:54159})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54159})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:54159}}}),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(15),22)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),22)
  write(mid_spec.queue.head,16)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:4877}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),4877)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),4877)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:4877}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:34502},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:34502})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:34502})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"m",vl:34502}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:3338}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),3338)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("m"),3338)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:3338}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:17386},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:17386})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17386})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:17386}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:28332},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:28332})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:28332})
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(16),27)
  write(ser.queue.head,17)
  write(mid_spec.queue.contents(16),27)
  write(mid_spec.queue.head,17)
}
> cl.client_request(0,{knd:write,ky:"m",vl:26218},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"m",vl:26218})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:26218})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:6067},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:read,ky:"wrsylb",vl:6067})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6067})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:read,ky:"wrsylb",vl:6067}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:35305},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:35305})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35305})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:35305}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:35305}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:35305}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:60960},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:60960})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60960})
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl_chans.send(1,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:11324},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:11324})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11324})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:11324}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:31051},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:31051})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31051})
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:11324}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:11324}}}),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> cl_chans.send(1,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:16568},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:16568})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16568})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:16568}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:34755},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:34755})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34755})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:30133},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:30133})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30133})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30133}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:16568}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:16568}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30133}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30133}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:11324}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),11324)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),11324)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:11324}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.send(1,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(1),6)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),6)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30133}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),30133)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),30133)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30133}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:46757},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:46757})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46757})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:46757}}}),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(2),7)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),7)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:46757}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:46757}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:46757}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),46757)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),46757)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:46757}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:54337},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:54337})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54337})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:54337}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:read,ky:"m",vl:43481},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:43481})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43481})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:43481}}}),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:54337}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),54337)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),54337)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:54337}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:56646},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:56646})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:56646})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:56646}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:43481}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:43481}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:43208},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:43208})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:43208})
}
> cl.client_request(0,{knd:read,ky:"m",vl:4579},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:4579})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4579})
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:29587},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"m",vl:29587})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:29587})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:29587}}}),1)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:64418},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:64418})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64418})
}
> cl.client_request(0,{knd:read,ky:"m",vl:22785},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:22785})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22785})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:22785}}}),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(4),14)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),14)
  write(mid_spec.queue.head,5)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:22785}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:22785}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(5),13)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),13)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:56646}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:56646}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:46861},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:46861})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46861})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:46861}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:29587}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:29587}}}),0)
}
> cl_chans.send(0,{tx:12,bd:{vl:0}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(6),16)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),16)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:64418}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),64418)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),64418)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:64418}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:29587}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),29587)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),29587)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:29587}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:30819},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:30819})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30819})
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(7),11)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),11)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:46861}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:46861}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:46861}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),46861)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),46861)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:46861}}})
{
  write(mid_spec.acked(16),1)
}
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(8),10)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),10)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:12905},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:12905})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12905})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),29587)
  write(ref.txres(17),{vl:29587})
  write(ref.committed(17),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:54337}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:54337}}}),0)
}
> cl_chans.send(1,{tx:17,bd:{vl:29587}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:29587}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:43208}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),43208)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),43208)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:43208}}})
{
  write(mid_spec.acked(11),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:56646}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),56646)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),56646)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:56646}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(9),18)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),18)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:29587}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:29587}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:6291},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:6291})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6291})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:6291}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:12905}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),12905)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),12905)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:12905}}})
{
  write(mid_spec.acked(18),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:6291}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:6291}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:37854},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:37854})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37854})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:37854}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:37854}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:37854}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),12905)
  write(response.bd(loc:res),{vl:12905})
  write(response_body.vl(fml:out),12905)
  write(ref.txres(20),{vl:12905})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:12905}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9854},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:9854})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9854})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:9854}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:9854}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:9854}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),12905)
  write(response.bd(loc:res),{vl:12905})
  write(response_body.vl(fml:out),12905)
  write(ref.txres(21),{vl:12905})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:12905}},0),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:12905}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:12905}},0),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(10),19)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),19)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:6291}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),6291)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),6291)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:6291}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:20,bd:{vl:12905}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:12905}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:63075},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:63075})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:63075})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:63075}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:63075}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:63075}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),6291)
  write(response.bd(loc:res),{vl:6291})
  write(response_body.vl(fml:out),6291)
  write(ref.txres(22),{vl:6291})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:6291}},0),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:6291}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:6291}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:33694},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:33694})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33694})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:33694}}}),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(11),23)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),23)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:write,ky:"m",vl:9239},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:9239})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9239})
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:33694}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:33694}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:10092},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:10092})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:10092})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:10092}}}),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(12),25)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),25)
  write(mid_spec.queue.head,13)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:33694}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),33694)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),33694)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:33694}}})
{
  write(mid_spec.acked(23),1)
}
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(13),24)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),24)
  write(mid_spec.queue.head,14)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:14812},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:14812})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14812})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:14812}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:14812}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:14812}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:23068},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:23068})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23068})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:23068}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:44771},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:44771})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:44771})
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:23068}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:23068}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:5226},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:5226})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:5226})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:5226}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:61341},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:61341})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61341})
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:5226}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:5226}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:38256},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:38256})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38256})
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> cl_chans.send(0,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:46064},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:46064})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:46064})
}
> cl.client_request(1,{knd:write,ky:"m",vl:54626},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:54626})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54626})
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(0),7)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),7)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:55618},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:55618})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55618})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:55618}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:54626}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),54626)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),54626)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:54626}}})
{
  write(mid_spec.acked(7),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:55618}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:55618}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(1),6)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),6)
  write(mid_spec.queue.head,2)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:46064}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),46064)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),46064)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:46064}}})
{
  write(mid_spec.acked(6),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:61341}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),61341)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),61341)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:61341}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(3),2)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),2)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:44771}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),44771)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),44771)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:44771}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:54631},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"m",vl:54631})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54631})
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),44771)
  write(ref.txres(9),{vl:44771})
  write(ref.committed(9),1)
}
> cl_chans.send(1,{tx:9,bd:{vl:44771}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:44771}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:22961},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:22961})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22961})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:22961}}}),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:44771}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:44771}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:59704},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:59704})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59704})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:59704}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:22961}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:22961}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),44771)
  write(response.bd(loc:res),{vl:44771})
  write(response_body.vl(fml:out),44771)
  write(ref.txres(10),{vl:44771})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:44771}},0),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:20169},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:20169})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:20169})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:20169}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:20169}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:20169}}}),0)
}
> cl_chans.recv(0,{tx:10,bd:{vl:44771}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:44771}},0),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:59704}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:59704}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),44771)
  write(response.bd(loc:res),{vl:44771})
  write(response_body.vl(fml:out),44771)
  write(ref.txres(11),{vl:44771})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:44771}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:44771}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:44771}},1),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(4),12)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),12)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:write,ky:"m",vl:5597},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:5597})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5597})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:5597}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:30212},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:30212})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30212})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:20169}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),20169)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),20169)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:20169}}})
{
  write(mid_spec.acked(12),1)
}
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(5),13)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),13)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:write,ky:"m",vl:48261},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:48261})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48261})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:5597}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),5597)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),5597)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:5597}}})
{
  write(mid_spec.acked(13),1)
}
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),61341)
  write(ref.txres(14),{vl:61341})
  write(ref.committed(14),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:51048},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"m",vl:51048})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51048})
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:30554},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:30554})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:30554})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:30554}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(6),17)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),17)
  write(mid_spec.queue.head,7)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(7),16)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),16)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:5597}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:5597}}}),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:30554}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:30554}}}),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(8),15)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),15)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:30554}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),30554)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),30554)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:30554}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:51048}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),51048)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),51048)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:51048}}})
{
  write(mid_spec.acked(16),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:48261}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),48261)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),48261)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:48261}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:14,bd:{vl:61341}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:61341}},0),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:61341}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:61341}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:53016},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"m",vl:53016})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:53016})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:53016}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:53016}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:53016}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:45799},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:45799})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:45799})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:45799}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:14879},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:14879})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14879})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:14879}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:14879}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:14879}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),61341)
  write(response.bd(loc:res),{vl:61341})
  write(response_body.vl(fml:out),61341)
  write(ref.txres(20),{vl:61341})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:61341}},0),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(9),19)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),19)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:45799}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),45799)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),45799)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:45799}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:45799}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:45799}}}),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(10),18)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),18)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(0,{tx:20,bd:{vl:61341}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:61341}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:55391},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:55391})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55391})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:55391}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:53016}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),53016)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),53016)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:53016}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:45376},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:45376})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45376})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:45376}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:7727},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:7727})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7727})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:7727}}}),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(11),23)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),23)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:54997},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:54997})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54997})
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),61341)
  write(ref.txres(24),{vl:61341})
  write(ref.committed(24),1)
}
> cl_chans.send(0,{tx:24,bd:{vl:61341}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:61341}},0),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(12),22)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),22)
  write(mid_spec.queue.head,13)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:7727}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:7727}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:7727}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),7727)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),7727)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:7727}}})
{
  write(mid_spec.acked(23),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:55391}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:55391}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),53016)
  write(response.bd(loc:res),{vl:53016})
  write(response_body.vl(fml:out),53016)
  write(ref.txres(21),{vl:53016})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:53016}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:45376}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),45376)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),45376)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:45376}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl_chans.recv(1,{tx:21,bd:{vl:53016}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:53016}},1),0)
}
> cl_chans.recv(0,{tx:24,bd:{vl:61341}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:61341}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:5687},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"m",vl:5687})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5687})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:5687}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:45376}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:45376}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:4716},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:4716})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:4716})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:4716}}}),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:4716}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:4716}}}),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:55046},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:55046})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55046})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:55046}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:55046}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:55046}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:59860},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:59860})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59860})
}
> cl.client_request(0,{knd:write,ky:"m",vl:47361},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:47361})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47361})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:47361}}}),1)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:22103},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:22103})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22103})
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:47361}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),47361)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),47361)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:47361}}})
{
  write(mid_spec.acked(2),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:22103}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),22103)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),22103)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:22103}}})
{
  write(mid_spec.acked(3),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:47361}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:47361}}}),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:62731},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"m",vl:62731})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62731})
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),47361)
  write(ref.txres(4),{vl:47361})
  write(ref.committed(4),1)
}
> cl_chans.send(1,{tx:4,bd:{vl:47361}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:47361}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:41360},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:41360})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41360})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:41360}}}),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:47361}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:47361}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:13267},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:13267})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:13267})
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:41360}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:41360}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),22103)
  write(response.bd(loc:res),{vl:22103})
  write(response_body.vl(fml:out),22103)
  write(ref.txres(5),{vl:22103})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:22103}},1),1)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),22103)
  write(ref.txres(6),{vl:22103})
  write(ref.committed(6),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:11368},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:11368})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11368})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:11368}}}),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(2),7)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),7)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:11368}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:11368}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:33751},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"m",vl:33751})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33751})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:33751}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:33751}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:33751}}}),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:22103}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:22103}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:41361},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:41361})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41361})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:11368}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),11368)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),11368)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:11368}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl_chans.send(0,{tx:6,bd:{vl:22103}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:22103}},0),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:61887},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:61887})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61887})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:33751}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),33751)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),33751)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:33751}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(0,{tx:6,bd:{vl:22103}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:22103}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:37546},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:37546})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:37546})
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(4),10)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),10)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:61887}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),61887)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),61887)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:61887}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),33751)
  write(ref.txres(11),{vl:33751})
  write(ref.committed(11),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:58761},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:58761})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58761})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:58761}}}),1)
}
> cl_chans.send(0,{tx:11,bd:{vl:33751}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:33751}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:58761}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:58761}}}),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(5),12)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),12)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:58761}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),58761)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),58761)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:58761}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(0,{tx:11,bd:{vl:33751}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:33751}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),61887)
  write(ref.txres(9),{vl:61887})
  write(ref.committed(9),1)
}
> cl_chans.send(1,{tx:9,bd:{vl:61887}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:61887}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:59643},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:59643})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59643})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:59643}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:6097},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:6097})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:6097})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:6097}}}),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:61887}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:61887}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:51518},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:51518})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51518})
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:59643}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:59643}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),58761)
  write(response.bd(loc:res),{vl:58761})
  write(response_body.vl(fml:out),58761)
  write(ref.txres(13),{vl:58761})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:58761}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:6097}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:6097}}}),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:58761}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:58761}},1),0)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),61887)
  write(ref.txres(15),{vl:61887})
  write(ref.committed(15),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:55953},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:55953})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55953})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:55953}}}),1)
}
> cl_chans.send(0,{tx:15,bd:{vl:61887}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:61887}},0),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:55953}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:55953}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),61887)
  write(response.bd(loc:res),{vl:61887})
  write(response_body.vl(fml:out),61887)
  write(ref.txres(16),{vl:61887})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:61887}},0),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:61887}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:61887}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:6097}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),6097)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),6097)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:6097}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:60150},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:60150})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60150})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),58761)
  write(ref.txres(17),{vl:58761})
  write(ref.committed(17),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:58761}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:58761}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:46166},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:46166})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46166})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:46166}}}),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:61887}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:61887}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:46166}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:46166}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),58761)
  write(response.bd(loc:res),{vl:58761})
  write(response_body.vl(fml:out),58761)
  write(ref.txres(18),{vl:58761})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:58761}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:42225},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:42225})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42225})
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(7),19)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),19)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(1,{tx:17,bd:{vl:58761}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:58761}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:42225}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),42225)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),42225)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:42225}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:62948},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:62948})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62948})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:22946},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:22946})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22946})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:22946}}}),1)
}
> cl_chans.recv(0,{tx:18,bd:{vl:58761}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:58761}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:49551},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:49551})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49551})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:49551}}}),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:22946}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:22946}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:2902},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:2902})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2902})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:2902}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:47177},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:47177})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47177})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:47177}}}),1)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),42225)
  write(ref.txres(20),{vl:42225})
  write(ref.committed(20),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:46284},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:46284})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46284})
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(8),23)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),23)
  write(mid_spec.queue.head,9)
}
> cl_chans.send(1,{tx:20,bd:{vl:42225}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:42225}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:10210},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:10210})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:10210})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:10210}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:2902}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),2902)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),2902)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:2902}}})
{
  write(mid_spec.acked(23),1)
}
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),42225)
  write(ref.txres(25),{vl:42225})
  write(ref.committed(25),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:23380},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:23380})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:23380})
}
> cl_chans.recv(1,{tx:20,bd:{vl:42225}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:42225}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:2902}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:2902}}}),0)
}
> cl_chans.recv(0,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:49551}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:49551}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),42225)
  write(response.bd(loc:res),{vl:42225})
  write(response_body.vl(fml:out),42225)
  write(ref.txres(22),{vl:42225})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:42225}},1),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(9),21)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),21)
  write(mid_spec.queue.head,10)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:48074},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:48074})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48074})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:64935},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:64935})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64935})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:3612},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:3612})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3612})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:3612}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:30456},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:30456})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:30456})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:30456}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:5296},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:5296})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:5296})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:5296}}}),1)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:11138},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:11138})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11138})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:11138}}}),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:3612}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:3612}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:30456}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:30456}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:5296}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:5296}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:6119},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:6119})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6119})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(0),4)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),4)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:11138}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),11138)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),11138)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:11138}}})
{
  write(mid_spec.acked(4),1)
}
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:28622},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:28622})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:28622})
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(2),6)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),6)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:30456}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),30456)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),30456)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:30456}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:11138}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:11138}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:28622}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),28622)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),28622)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:28622}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:38839},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:38839})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:38839})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:38839}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:38839}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:38839}}}),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:59824},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:59824})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:59824})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:59824}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:59824}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),59824)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),59824)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:59824}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:32523},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:32523})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:32523})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:32523}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:41133},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:41133})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:41133})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:62841},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:62841})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62841})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:62841}}}),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:32523}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:32523}}}),0)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),30456)
  write(ref.txres(10),{vl:30456})
  write(ref.committed(10),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:38839}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),38839)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),38839)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:38839}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:46730},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:46730})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46730})
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:62841}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:62841}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),38839)
  write(response.bd(loc:res),{vl:38839})
  write(response_body.vl(fml:out),38839)
  write(ref.txres(11),{vl:38839})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:38839}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:38839}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:38839}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:59824}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:59824}}}),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(6),12)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),12)
  write(mid_spec.queue.head,7)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:2706},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:2706})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2706})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:2706}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:2706}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:2706}}}),0)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(7),13)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),13)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:32523}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),32523)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),32523)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:32523}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:27288},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"m",vl:27288})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27288})
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),30456)
  write(ref.txres(14),{vl:30456})
  write(ref.committed(14),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:44752},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:44752})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:44752})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:44752}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:46730}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),46730)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),46730)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:46730}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:44030},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:44030})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:44030})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:37764},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:37764})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37764})
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> cl.client_request(0,{knd:read,ky:"m",vl:24342},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:24342})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24342})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(9),16)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),16)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(10),15)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),15)
  write(mid_spec.queue.head,11)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),30456)
  write(ref.txres(18),{vl:30456})
  write(ref.committed(18),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:2706}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),2706)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),2706)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:2706}}})
{
  write(mid_spec.acked(13),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:37764}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),37764)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),37764)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:37764}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:10888},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:10888})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10888})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:10888}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:10888}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:10888}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),30456)
  write(response.bd(loc:res),{vl:30456})
  write(response_body.vl(fml:out),30456)
  write(ref.txres(19),{vl:30456})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:30456}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:44752}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:44752}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:44030}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),44030)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),44030)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:44030}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:1997},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:1997})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:1997})
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),30456)
  write(ref.txres(20),{vl:30456})
  write(ref.committed(20),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:55157},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:55157})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55157})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:55157}}}),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:58297},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:58297})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:58297})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:58297}}}),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:30456}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:30456}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:8608},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:8608})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:8608})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:8608}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:58297}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:58297}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),30456)
  write(response.bd(loc:res),{vl:30456})
  write(response_body.vl(fml:out),30456)
  write(ref.txres(22),{vl:30456})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:30456}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:44752}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),44752)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),44752)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:44752}}})
{
  write(mid_spec.acked(15),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:8608}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:8608}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:55157}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:55157}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),44752)
  write(response.bd(loc:res),{vl:44752})
  write(response_body.vl(fml:out),44752)
  write(ref.txres(21),{vl:44752})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:44752}},0),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:44752}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:44752}},0),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(11),23)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),23)
  write(mid_spec.queue.head,12)
}
> cl_chans.send(0,{tx:10,bd:{vl:30456}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:30456}},0),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:30456}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:30456}},0),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:20,bd:{vl:30456}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:30456}},1),1)
}
> cl_chans.send(0,{tx:14,bd:{vl:30456}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:30456}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:8608}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),8608)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),8608)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:8608}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:30456}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:30456}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:54856},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:54856})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54856})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:54856}}}),1)
}
> cl_chans.send(0,{tx:18,bd:{vl:30456}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:30456}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:48563},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:48563})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48563})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:48563}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:54856}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:54856}}}),0)
}
> cl_chans.recv(1,{tx:20,bd:{vl:30456}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:30456}},1),0)
}
> cl_chans.recv(0,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:30456}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:30456}},0),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:45664},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:45664})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45664})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:2581},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:2581})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2581})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:45664}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),45664)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),45664)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:45664}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.send(1,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:16015},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:16015})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16015})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:16015}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:13981},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:13981})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:13981})
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:16015}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:16015}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),45664)
  write(response.bd(loc:res),{vl:45664})
  write(response_body.vl(fml:out),45664)
  write(ref.txres(2),{vl:45664})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:45664}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:28321},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:28321})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28321})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:28321}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),28321)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),28321)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:28321}}})
{
  write(mid_spec.acked(4),1)
}
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),45664)
  write(ref.txres(3),{vl:45664})
  write(ref.committed(3),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:51143},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:51143})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51143})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30039},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:30039})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30039})
}
> cl_chans.send(0,{tx:3,bd:{vl:45664}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:45664}},0),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:45664}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:45664}},0),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:45664}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:45664}},0),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(2),6)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),6)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:read,ky:"m",vl:3346},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:3346})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3346})
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),45664)
  write(ref.txres(5),{vl:45664})
  write(ref.committed(5),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30039}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),30039)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),30039)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30039}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl_chans.send(0,{tx:5,bd:{vl:45664}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:45664}},0),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),28321)
  write(ref.txres(7),{vl:28321})
  write(ref.committed(7),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:45664}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:45664}},0),0)
}
> cl_chans.send(1,{tx:7,bd:{vl:28321}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:28321}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:2263},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"m",vl:2263})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:2263})
}
> cl_chans.recv(1,{tx:7,bd:{vl:28321}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:28321}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:34970},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:34970})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:34970})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:34970}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:34970}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:34970}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),28321)
  write(response.bd(loc:res),{vl:28321})
  write(response_body.vl(fml:out),28321)
  write(ref.txres(9),{vl:28321})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:28321}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:27083},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:27083})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27083})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:27083}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:27083}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:27083}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),28321)
  write(response.bd(loc:res),{vl:28321})
  write(response_body.vl(fml:out),28321)
  write(ref.txres(10),{vl:28321})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:28321}},1),1)
}
> cl_chans.recv(1,{tx:10,bd:{vl:28321}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:28321}},1),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(1,{tx:9,bd:{vl:28321}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:28321}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:2263}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),2263)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),2263)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:2263}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:23452},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:23452})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23452})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:57252},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:57252})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57252})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:57252}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:57252}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:57252}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),30039)
  write(response.bd(loc:res),{vl:30039})
  write(response_body.vl(fml:out),30039)
  write(ref.txres(12),{vl:30039})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:30039}},1),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:30039}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:30039}},1),0)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(4),11)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),11)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:23452}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),23452)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),23452)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:23452}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:3438},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:3438})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:3438})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:3438}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:3438}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:3438}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:48973},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:48973})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48973})
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(5),14)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),14)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:48973}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),48973)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),48973)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:48973}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:58029},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:58029})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:58029})
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),48973)
  write(ref.txres(15),{vl:48973})
  write(ref.committed(15),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> cl_chans.send(1,{tx:15,bd:{vl:48973}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:48973}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:48973}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:48973}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:3438}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),3438)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),3438)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:3438}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:62670},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:62670})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62670})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:62670}}}),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:62670}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:62670}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),30039)
  write(response.bd(loc:res),{vl:30039})
  write(response_body.vl(fml:out),30039)
  write(ref.txres(16),{vl:30039})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:30039}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:41835},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:41835})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41835})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:41835}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(7),17)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),17)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:42224},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:42224})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:42224})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:42224}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:62814},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:62814})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62814})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:62814}}}),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:30039}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:30039}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:41835}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:41835}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:42224}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:42224}}}),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(8),18)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),18)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:62814}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:62814}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),30039)
  write(response.bd(loc:res),{vl:30039})
  write(response_body.vl(fml:out),30039)
  write(ref.txres(19),{vl:30039})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:30039}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:43779},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:43779})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:43779})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:43779}}}),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:30039}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:30039}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:41835}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),41835)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),41835)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:41835}}})
{
  write(mid_spec.acked(17),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:43779}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:43779}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:45263},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:45263})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45263})
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(9),21)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),21)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:42224}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),42224)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),42224)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:42224}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:49785},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:49785})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49785})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:49785}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:45263}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),45263)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),45263)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:45263}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:46434},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:46434})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:46434})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:46434}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:46434}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:46434}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),45263)
  write(response.bd(loc:res),{vl:45263})
  write(response_body.vl(fml:out),45263)
  write(ref.txres(23),{vl:45263})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:45263}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:49785}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:49785}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),45263)
  write(response.bd(loc:res),{vl:45263})
  write(response_body.vl(fml:out),45263)
  write(ref.txres(22),{vl:45263})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:45263}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:33380},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:33380})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:33380})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:33380}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:52943},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:52943})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52943})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:52943}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:28159},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:28159})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:28159})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:28159}}}),1)
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(10),20)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),20)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(1,{tx:22,bd:{vl:45263}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:45263}},1),0)
}
> cl_chans.recv(1,{tx:23,bd:{vl:45263}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:45263}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:28159}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:28159}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),45263)
  write(response.bd(loc:res),{vl:45263})
  write(response_body.vl(fml:out),45263)
  write(ref.txres(26),{vl:45263})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:45263}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:43779}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),43779)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),43779)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:43779}}})
{
  write(mid_spec.acked(20),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:33380}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:33380}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),43779)
  write(response.bd(loc:res),{vl:43779})
  write(response_body.vl(fml:out),43779)
  write(ref.txres(24),{vl:43779})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:43779}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:2366},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:2366})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2366})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:2366}}}),1)
}
> cl_chans.recv(0,{tx:26,bd:{vl:45263}})
{
  write(cl_chans.spec.sent({tx:26,bd:{vl:45263}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:33393},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:write,ky:"wrsylb",vl:33393})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33393})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:28,bd:{knd:write,ky:"wrsylb",vl:33393}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:32544},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:write,ky:"m",vl:32544})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32544})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:write,ky:"m",vl:32544}}}),1)
}
> ser.serialize(29)
{
  write(ser.serialized(29),1)
  write(ser.queue.contents(11),29)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),29)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:29,bd:{knd:write,ky:"m",vl:32544}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),29)
  write(sec.rep.store("m"),32544)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),32544)
  write(ref.txres(29),{vl:0})
  write(ref.committed(29),1)
  write(service_spec.responded(29),1)
  write(cl_chans.spec.sent({tx:29,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:29,bd:{knd:write,ky:"m",vl:32544}}})
{
  write(mid_spec.acked(29),1)
}
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:284},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:284})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:284})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:284}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:284}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:284}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:32155},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:32155})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:32155})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:284}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),284)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),284)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:284}}})
{
  write(mid_spec.acked(0),1)
}
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:32155}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),32155)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),32155)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:32155}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:24951},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:24951})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24951})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:24951}}}),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(2),2)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),2)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:write,ky:"m",vl:22110},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:22110})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22110})
}
> cl.client_request(1,{knd:write,ky:"m",vl:48218},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:48218})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48218})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:48218}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:24951}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),24951)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),24951)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:24951}}})
{
  write(mid_spec.acked(2),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:24951}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:24951}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:61518},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:61518})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61518})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:61518}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:61518}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:61518}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),24951)
  write(response.bd(loc:res),{vl:24951})
  write(response_body.vl(fml:out),24951)
  write(ref.txres(5),{vl:24951})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:24951}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:9371},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:9371})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9371})
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:48218}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:48218}}}),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(4),4)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),4)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:6125},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:6125})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:6125})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:6125}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:45131},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:45131})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45131})
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:6125}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:6125}}}),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(5),8)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),8)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:9371}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),9371)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),9371)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:9371}}})
{
  write(mid_spec.acked(6),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:48218}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),48218)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),48218)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:48218}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(1,{tx:5,bd:{vl:24951}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:24951}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:16266},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:16266})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:16266})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:16266}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:16266}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:16266}}}),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(6),9)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),9)
  write(mid_spec.queue.head,7)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(7),7)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),7)
  write(mid_spec.queue.head,8)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:10098},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:10098})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10098})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:45131}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),45131)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),45131)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:45131}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:64350},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:64350})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64350})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:64350}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(8),11)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),11)
  write(mid_spec.queue.head,9)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:13812},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:13812})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:13812})
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:64350}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:64350}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:45746},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:45746})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45746})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:45746}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:45746}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:45746}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),48218)
  write(response.bd(loc:res),{vl:48218})
  write(response_body.vl(fml:out),48218)
  write(ref.txres(13),{vl:48218})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:48218}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:16266}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),16266)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),16266)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:16266}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:6125}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),6125)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),6125)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:6125}}})
{
  write(mid_spec.acked(7),1)
}
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(9),12)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),12)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:13,bd:{vl:48218}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:48218}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:622},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:622})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:622})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:622}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:64350}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),64350)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),64350)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:64350}}})
{
  write(mid_spec.acked(11),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:622}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:622}}}),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:28734},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:28734})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28734})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:28734}}}),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(10),15)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),15)
  write(mid_spec.queue.head,11)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:30813},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:30813})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30813})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:6512},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:6512})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6512})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:6512}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:6512}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:6512}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),64350)
  write(response.bd(loc:res),{vl:64350})
  write(response_body.vl(fml:out),64350)
  write(ref.txres(17),{vl:64350})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:64350}},1),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:64350}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:64350}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:28734}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:28734}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:13812}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),13812)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),13812)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:13812}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:53285},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"m",vl:53285})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53285})
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(11),14)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),14)
  write(mid_spec.queue.head,12)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),48218)
  write(ref.txres(18),{vl:48218})
  write(ref.committed(18),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(12),10)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),10)
  write(mid_spec.queue.head,13)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:28734}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),28734)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),28734)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:28734}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.send(0,{tx:18,bd:{vl:48218}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:48218}},0),1)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),13812)
  write(ref.txres(16),{vl:13812})
  write(ref.committed(16),1)
}
> cl_chans.send(0,{tx:16,bd:{vl:13812}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:13812}},0),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:622}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),622)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),622)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:622}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:665},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:665})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:665})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:665}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:32569},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:32569})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:32569})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:32569}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(13),20)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),20)
  write(mid_spec.queue.head,14)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:32569}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:32569}}}),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:48218}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:48218}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:665}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:665}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:21661},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:21661})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21661})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:21661}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:32519},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:32519})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32519})
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(14),22)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),22)
  write(mid_spec.queue.head,15)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:26901},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:26901})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:26901})
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:10098}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),10098)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),10098)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:10098}}})
{
  write(mid_spec.acked(10),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:21661}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:21661}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9492},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:9492})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9492})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:9492}}}),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),10098)
  write(ref.txres(23),{vl:10098})
  write(ref.committed(23),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:32569}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),32569)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),32569)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:32569}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl_chans.recv(0,{tx:16,bd:{vl:13812}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:13812}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:32519}}})
{
  write(mid_spec.queue.tail,15)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),32519)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,15)
  write(ref.rep.store("m"),32519)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:32519}}})
{
  write(mid_spec.acked(22),1)
}
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(15),21)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),21)
  write(mid_spec.queue.head,16)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:23,bd:{vl:10098}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:10098}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:21661}}})
{
  write(mid_spec.queue.tail,16)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),21661)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,16)
  write(ref.rep.store("wrsylb"),21661)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:21661}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl_chans.recv(1,{tx:23,bd:{vl:10098}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:10098}},1),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(16),19)
  write(ser.queue.head,17)
  write(mid_spec.queue.contents(16),19)
  write(mid_spec.queue.head,17)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(17),3)
  write(ser.queue.head,18)
  write(mid_spec.queue.contents(17),3)
  write(mid_spec.queue.head,18)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:39644},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:39644})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39644})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:39644}}}),1)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:1880},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:1880})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:1880})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:1880}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:1880}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:1880}}}),0)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:1880}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),1880)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),1880)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:1880}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:3926},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:3926})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3926})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:3926}}}),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:27405},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:27405})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27405})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:write,ky:"m",vl:51065},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:51065})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51065})
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:3926}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:3926}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),1880)
  write(response.bd(loc:res),{vl:1880})
  write(response_body.vl(fml:out),1880)
  write(ref.txres(1),{vl:1880})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:1880}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:27405}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),27405)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),27405)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:27405}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(1,{tx:1,bd:{vl:1880}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:1880}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:51474},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:51474})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51474})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:51474}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:393},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:393})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:393})
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:51474}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:51474}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),27405)
  write(response.bd(loc:res),{vl:27405})
  write(response_body.vl(fml:out),27405)
  write(ref.txres(4),{vl:27405})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:27405}},0),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(3),3)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),3)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:393}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),393)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),393)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:393}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:61373},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:61373})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61373})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:61373}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:51065}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),51065)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),51065)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:51065}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:18176},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:18176})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18176})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:18176}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:61373}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:61373}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),51065)
  write(response.bd(loc:res),{vl:51065})
  write(response_body.vl(fml:out),51065)
  write(ref.txres(6),{vl:51065})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:51065}},1),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:27405}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:27405}},0),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:51065}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:51065}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:18176}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:18176}}}),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:write,ky:"m",vl:47206},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"m",vl:47206})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47206})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:47073},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:47073})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:47073})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:47073}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(5),8)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),8)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:36531},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:36531})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36531})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:36531}}}),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:47073}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:47073}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),393)
  write(response.bd(loc:res),{vl:393})
  write(response_body.vl(fml:out),393)
  write(ref.txres(9),{vl:393})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:393}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:56561},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:56561})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:56561})
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(6),11)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),11)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:18176}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),18176)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),18176)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:18176}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:22338},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:22338})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22338})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:22338}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:47206}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),47206)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),47206)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:47206}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:56561}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),56561)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),56561)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:56561}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:65353},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:65353})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65353})
}
> cl.client_request(0,{knd:write,ky:"m",vl:47724},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:47724})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47724})
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),56561)
  write(ref.txres(13),{vl:56561})
  write(ref.committed(13),1)
}
> cl_chans.send(0,{tx:13,bd:{vl:56561}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:56561}},0),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(7),14)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),14)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(0,{tx:13,bd:{vl:56561}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:56561}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:47724}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),47724)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),47724)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:47724}}})
{
  write(mid_spec.acked(14),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:22338}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:22338}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),47724)
  write(response.bd(loc:res),{vl:47724})
  write(response_body.vl(fml:out),47724)
  write(ref.txres(12),{vl:47724})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:47724}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:36531}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:36531}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),56561)
  write(response.bd(loc:res),{vl:56561})
  write(response_body.vl(fml:out),56561)
  write(ref.txres(10),{vl:56561})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:56561}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:16469},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:16469})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16469})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:16469}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:16469}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:16469}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),56561)
  write(response.bd(loc:res),{vl:56561})
  write(response_body.vl(fml:out),56561)
  write(ref.txres(15),{vl:56561})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:56561}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:44720},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:44720})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:44720})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(8),16)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),16)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:44720}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),44720)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),44720)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:44720}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.recv(1,{tx:15,bd:{vl:56561}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:56561}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:51143},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"m",vl:51143})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51143})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:52815},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:52815})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52815})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:52815}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:52815}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:52815}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),56561)
  write(response.bd(loc:res),{vl:56561})
  write(response_body.vl(fml:out),56561)
  write(ref.txres(18),{vl:56561})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:56561}},0),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:393}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:393}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:4124},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:4124})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4124})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:4124}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:63115},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"m",vl:63115})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:63115})
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(9),20)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),20)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:63115}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),63115)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),63115)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:63115}}})
{
  write(mid_spec.acked(20),1)
}
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(10),17)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),17)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:4124}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:4124}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),63115)
  write(response.bd(loc:res),{vl:63115})
  write(response_body.vl(fml:out),63115)
  write(ref.txres(19),{vl:63115})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:63115}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:51143}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),51143)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),51143)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:51143}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:50589},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:50589})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50589})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:50589}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:12},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:12})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:12}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:32510},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:32510})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32510})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:32510}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:57956},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:57956})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:57956})
}
> cl_chans.recv(0,{tx:12,bd:{vl:47724}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:47724}},0),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(11),23)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),23)
  write(mid_spec.queue.head,12)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54440},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"m",vl:54440})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54440})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:54440}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:32510}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:32510}}}),0)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),51143)
  write(ref.txres(24),{vl:51143})
  write(ref.committed(24),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(12),25)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),25)
  write(mid_spec.queue.head,13)
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:54440}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:54440}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:20361},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:20361})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20361})
}
> cl_chans.send(0,{tx:24,bd:{vl:51143}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:51143}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:12}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:12}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:50589}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:50589}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),56561)
  write(response.bd(loc:res),{vl:56561})
  write(response_body.vl(fml:out),56561)
  write(ref.txres(21),{vl:56561})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:56561}},0),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:56561}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:56561}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:5057},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:5057})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:5057})
}
> cl.client_request(0,{knd:write,ky:"m",vl:52739},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"m",vl:52739})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:52739})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:52739}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:19014},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:write,ky:"wrsylb",vl:19014})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:19014})
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),56561)
  write(ref.txres(27),{vl:56561})
  write(ref.committed(27),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:32510}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),32510)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),32510)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:32510}}})
{
  write(mid_spec.acked(23),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:54440}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),54440)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),54440)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:54440}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl_chans.recv(0,{tx:10,bd:{vl:56561}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:56561}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:46571},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(30),{knd:read,ky:"wrsylb",vl:46571})
  write(ref.next,31)
  write(mid_spec.req_dest(30),prim)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:46571})
}
> sec.req_chan.recv({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:52739}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:52739}}}),0)
}
> cl_chans.send(0,{tx:27,bd:{vl:56561}})
{
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:56561}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:65121},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(31),{knd:read,ky:"wrsylb",vl:65121})
  write(ref.next,32)
  write(mid_spec.req_dest(31),sec)
  write(request.tx(req(loc:m)),31)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65121})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:31,bd:{knd:read,ky:"wrsylb",vl:65121}}}),1)
}
> cl_chans.recv(0,{tx:27,bd:{vl:56561}})
{
  write(cl_chans.spec.sent({tx:27,bd:{vl:56561}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:31,bd:{knd:read,ky:"wrsylb",vl:65121}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:31,bd:{knd:read,ky:"wrsylb",vl:65121}}}),0)
  write(response.tx(loc:res),31)
  write(response_body.vl(fml:out),56561)
  write(response.bd(loc:res),{vl:56561})
  write(response_body.vl(fml:out),56561)
  write(ref.txres(31),{vl:56561})
  write(ref.committed(31),1)
  write(service_spec.responded(31),1)
  write(cl_chans.spec.sent({tx:31,bd:{vl:56561}},0),1)
}
> ref.commit(30,prim)
{
  write(response_body.vl(fml:out),56561)
  write(ref.txres(30),{vl:56561})
  write(ref.committed(30),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:46287},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(32),{knd:read,ky:"m",vl:46287})
  write(ref.next,33)
  write(mid_spec.req_dest(32),sec)
  write(request.tx(req(loc:m)),32)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46287})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:32,bd:{knd:read,ky:"m",vl:46287}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:30593},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:30593})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30593})
}
> cl.client_request(0,{knd:write,ky:"m",vl:62813},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:62813})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:62813})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:62813}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:62813}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:62813}}}),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:39212},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:39212})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39212})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:39212}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:62381},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:62381})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62381})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:39212}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:39212}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:33106},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:33106})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33106})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:33106}}}),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:write,ky:"m",vl:20018},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:20018})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:20018})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:20018}}}),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:20018}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:20018}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:62813}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),62813)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),62813)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:62813}}})
{
  write(mid_spec.acked(1),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:39212}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),39212)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),39212)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:39212}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:8974},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:8974})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:8974})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:8974}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:33106}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),33106)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),33106)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:33106}}})
{
  write(mid_spec.acked(4),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:20018}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),20018)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),20018)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:20018}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:8974}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:8974}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:58420},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"m",vl:58420})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:58420})
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:33106}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:33106}}}),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(4),6)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),6)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:8974}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),8974)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),8974)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:8974}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:30870},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:30870})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30870})
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),20018)
  write(ref.txres(7),{vl:20018})
  write(ref.committed(7),1)
}
> cl_chans.send(1,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:56709},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:56709})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:56709})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:56709}}}),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:7,bd:{vl:20018}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:20018}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30626},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:30626})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30626})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:30626}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:30626}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:30626}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:44255},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:44255})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:44255})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:44255}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:9738},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"m",vl:9738})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9738})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:9738}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:56709}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:56709}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:44255}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:44255}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),8974)
  write(response.bd(loc:res),{vl:8974})
  write(response_body.vl(fml:out),8974)
  write(ref.txres(11),{vl:8974})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:8974}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:10465},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:10465})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10465})
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:9738}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:9738}}}),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:20018}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:20018}},1),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:8974}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:8974}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:21712},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:21712})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21712})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:21712}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:21712}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:21712}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),8974)
  write(response.bd(loc:res),{vl:8974})
  write(response_body.vl(fml:out),8974)
  write(ref.txres(14),{vl:8974})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:8974}},0),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(5),12)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),12)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:9738}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),9738)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),9738)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:9738}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:8974}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:8974}},0),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(6),10)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),10)
  write(mid_spec.queue.head,7)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(7),9)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),9)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:30626}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),30626)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),30626)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:30626}}})
{
  write(mid_spec.acked(10),1)
}
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),9738)
  write(ref.txres(13),{vl:9738})
  write(ref.committed(13),1)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),30626)
  write(ref.txres(8),{vl:30626})
  write(ref.committed(8),1)
}
> cl_chans.send(0,{tx:13,bd:{vl:9738}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:9738}},0),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:9738}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:9738}},0),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.send(0,{tx:8,bd:{vl:30626}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:30626}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55785},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:55785})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55785})
}
> cl.client_request(0,{knd:read,ky:"m",vl:7997},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:7997})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:7997})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(8),15)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),15)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:8,bd:{vl:30626}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:30626}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:57228},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:57228})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57228})
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),9738)
  write(ref.txres(16),{vl:9738})
  write(ref.committed(16),1)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),30626)
  write(ref.txres(17),{vl:30626})
  write(ref.committed(17),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:10043},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:10043})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10043})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:10043}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:10043}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:10043}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),9738)
  write(response.bd(loc:res),{vl:9738})
  write(response_body.vl(fml:out),9738)
  write(ref.txres(18),{vl:9738})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:9738}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:56709}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),56709)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),56709)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:56709}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:25834},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:25834})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:25834})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:25834}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:15734},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"m",vl:15734})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15734})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:15734}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:55785}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),55785)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),55785)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:55785}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.send(1,{tx:16,bd:{vl:9738}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:9738}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:30437},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:30437})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30437})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:30437}}}),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:9738}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:9738}},1),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(9),20)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),20)
  write(mid_spec.queue.head,10)
}
> cl.client_request(1,{knd:write,ky:"m",vl:33908},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:33908})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33908})
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(10),22)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),22)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(0,{tx:18,bd:{vl:9738}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:9738}},0),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(11),19)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),19)
  write(mid_spec.queue.head,12)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:30437}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:30437}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),55785)
  write(response.bd(loc:res),{vl:55785})
  write(response_body.vl(fml:out),55785)
  write(ref.txres(21),{vl:55785})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:55785}},1),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:15734}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),15734)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),15734)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:15734}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:57326},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:57326})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:57326})
}
> cl_chans.send(0,{tx:17,bd:{vl:30626}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:30626}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:33908}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),33908)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),33908)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:33908}}})
{
  write(mid_spec.acked(22),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:25834}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),25834)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),25834)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:25834}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:21,bd:{vl:55785}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:55785}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9125},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:9125})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9125})
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),55785)
  write(ref.txres(24),{vl:55785})
  write(ref.committed(24),1)
}
> cl_chans.send(0,{tx:24,bd:{vl:55785}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:55785}},0),1)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(12),23)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),23)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:38178},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:38178})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:38178})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:38178}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:25834}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:25834}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:57326}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),57326)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),57326)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:57326}}})
{
  write(mid_spec.acked(23),1)
}
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(13),25)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),25)
  write(mid_spec.queue.head,14)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:20904},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:20904})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20904})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:20904}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:20904}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:20904}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:62391},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:62391})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62391})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:62391}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:62391}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:62391}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:41037},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:41037})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41037})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:64475},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:64475})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64475})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:33516},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:33516})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:33516})
}
> cl.client_request(0,{knd:write,ky:"m",vl:23892},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:23892})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23892})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:26580},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:26580})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:26580})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:26580}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:20904}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),20904)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),20904)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:20904}}})
{
  write(mid_spec.acked(0),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:26580}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:26580}}}),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(1),6)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),6)
  write(mid_spec.queue.head,2)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(3),3)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),3)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:4179},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:4179})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:4179})
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),20904)
  write(ref.txres(4),{vl:20904})
  write(ref.committed(4),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:26580}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),26580)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),26580)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:26580}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:39484},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:39484})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39484})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:39484}}}),1)
}
> cl_chans.send(0,{tx:4,bd:{vl:20904}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:20904}},0),1)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),26580)
  write(ref.txres(2),{vl:26580})
  write(ref.committed(2),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:23892}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),23892)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),23892)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:23892}}})
{
  write(mid_spec.acked(5),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:64475}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),64475)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),64475)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:64475}}})
{
  write(mid_spec.acked(3),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:4179}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),4179)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),4179)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:4179}}})
{
  write(mid_spec.acked(7),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:39484}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:39484}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),23892)
  write(response.bd(loc:res),{vl:23892})
  write(response_body.vl(fml:out),23892)
  write(ref.txres(8),{vl:23892})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:23892}},1),1)
}
> cl_chans.send(1,{tx:2,bd:{vl:26580}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:26580}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:36651},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:36651})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36651})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:36651}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:24878},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:24878})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24878})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:24878}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:51631},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:51631})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51631})
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(1,{tx:2,bd:{vl:26580}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:26580}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:24878}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:24878}}}),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:20904}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:20904}},0),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(6),10)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),10)
  write(mid_spec.queue.head,7)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(7),9)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),9)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:51631}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),51631)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),51631)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:51631}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:39005},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:39005})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39005})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:24878}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),24878)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),24878)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:24878}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:45383},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:45383})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45383})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:45383}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:45383}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:45383}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),23892)
  write(response.bd(loc:res),{vl:23892})
  write(response_body.vl(fml:out),23892)
  write(ref.txres(13),{vl:23892})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:23892}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:36651}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),36651)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),36651)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:36651}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:23892}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:23892}},1),0)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),36651)
  write(ref.txres(12),{vl:36651})
  write(ref.committed(12),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:36651}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:36651}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:18747},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:18747})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18747})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:36980},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:36980})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:36980})
}
> cl_chans.send(0,{tx:12,bd:{vl:36651}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:36651}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:25123},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:25123})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:25123})
}
> cl_chans.recv(0,{tx:12,bd:{vl:36651}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:36651}},0),0)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),36651)
  write(ref.txres(16),{vl:36651})
  write(ref.committed(16),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(8),15)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),15)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:36980}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),36980)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),36980)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:36980}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:4185},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:4185})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:4185})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:4185}}}),1)
}
> cl_chans.send(0,{tx:16,bd:{vl:36651}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:36651}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:18284},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:18284})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18284})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:18492},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:18492})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18492})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:29978},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:29978})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29978})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:29978}}}),1)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),36980)
  write(ref.txres(19),{vl:36980})
  write(ref.committed(19),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:29978}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:29978}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:4185}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:4185}}}),0)
}
> cl_chans.send(1,{tx:19,bd:{vl:36980}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:36980}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:24833},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:24833})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:24833})
}
> cl.client_request(1,{knd:read,ky:"m",vl:23749},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:23749})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23749})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:33223},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:33223})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33223})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:33223}}}),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(9),23)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),23)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:33223}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),33223)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),33223)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:33223}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:3670},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:3670})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3670})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:3670}}}),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(10),24)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),24)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:33223}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:33223}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:7134},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:7134})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7134})
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:3670}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),24)
  write(sec.rep.store("wrsylb"),3670)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),3670)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:3670}}})
{
  write(mid_spec.acked(24),1)
}
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(11),25)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),25)
  write(mid_spec.queue.head,12)
}
> cl.client_request(1,{knd:read,ky:"m",vl:24724},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:24724})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24724})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:24724}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:47490},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"m",vl:47490})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47490})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:write,ky:"m",vl:47490}}}),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:36980}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:36980}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:7134}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),25)
  write(sec.rep.store("wrsylb"),7134)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),7134)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:7134}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),7134)
  write(ref.txres(21),{vl:7134})
  write(ref.committed(21),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:2093},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:2093})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2093})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:51498},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:read,ky:"wrsylb",vl:51498})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51498})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:29,bd:{knd:read,ky:"wrsylb",vl:51498}}}),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:36651}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:36651}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:39440},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(30),{knd:read,ky:"wrsylb",vl:39440})
  write(ref.next,31)
  write(mid_spec.req_dest(30),prim)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:39440})
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:21,bd:{vl:7134}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:7134}},1),1)
}
> ref.commit(28,prim)
{
  write(response_body.vl(fml:out),7134)
  write(ref.txres(28),{vl:7134})
  write(ref.committed(28),1)
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(12),27)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),27)
  write(mid_spec.queue.head,13)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:24724}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:24724}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),36651)
  write(response.bd(loc:res),{vl:36651})
  write(response_body.vl(fml:out),36651)
  write(ref.txres(26),{vl:36651})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:36651}},1),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(13),20)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),20)
  write(mid_spec.queue.head,14)
}
> cl_chans.send(1,{tx:28,bd:{vl:7134}})
{
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:7134}},1),1)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),36651)
  write(ref.txres(22),{vl:36651})
  write(ref.committed(22),1)
}
> cl_chans.recv(1,{tx:28,bd:{vl:7134}})
{
  write(cl_chans.spec.sent({tx:28,bd:{vl:7134}},1),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(14),18)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),18)
  write(mid_spec.queue.head,15)
}
> cl_chans.recv(1,{tx:21,bd:{vl:7134}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:7134}},1),0)
}
> ref.commit(30,prim)
{
  write(response_body.vl(fml:out),7134)
  write(ref.txres(30),{vl:7134})
  write(ref.committed(30),1)
}
> cl_chans.send(0,{tx:22,bd:{vl:36651}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:36651}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:6278},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(31),{knd:write,ky:"m",vl:6278})
  write(ref.next,32)
  write(mid_spec.req_dest(31),sec)
  write(request.tx(req(loc:m)),31)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6278})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:31,bd:{knd:write,ky:"m",vl:6278}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:41767},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:41767})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:41767})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:41767}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:23660},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:23660})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23660})
}
> cl.client_request(1,{knd:write,ky:"m",vl:35928},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:35928})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:35928})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:35928}}}),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:35928}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:35928}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:4393},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:4393})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4393})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:4393}}}),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:25375},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:25375})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25375})
}
> cl.client_request(1,{knd:write,ky:"m",vl:45877},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:45877})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:45877})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:45877}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:35928}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),35928)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),35928)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:35928}}})
{
  write(mid_spec.acked(2),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:41767}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:41767}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),35928)
  write(response.bd(loc:res),{vl:35928})
  write(response_body.vl(fml:out),35928)
  write(ref.txres(0),{vl:35928})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:35928}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:45877}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:45877}}}),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(1,{tx:0,bd:{vl:35928}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:35928}},1),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:4393}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:4393}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),35928)
  write(response.bd(loc:res),{vl:35928})
  write(response_body.vl(fml:out),35928)
  write(ref.txres(3),{vl:35928})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:35928}},1),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(3),4)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),4)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(1,{tx:3,bd:{vl:35928}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:35928}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:18093},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:18093})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18093})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:62631},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:62631})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:62631})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:23660}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),23660)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),23660)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:23660}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(5),6)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),6)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:45877}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),45877)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),45877)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:45877}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:18273},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:18273})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18273})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:25375}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),25375)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),25375)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:25375}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:8284},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:8284})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:8284})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(6),9)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),9)
  write(mid_spec.queue.head,7)
}
> cl.client_request(1,{knd:read,ky:"m",vl:23319},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:23319})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23319})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:23319}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:62631}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),62631)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),62631)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:62631}}})
{
  write(mid_spec.acked(7),1)
}
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),45877)
  write(ref.txres(8),{vl:45877})
  write(ref.committed(8),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:46427},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:46427})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46427})
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),45877)
  write(ref.txres(11),{vl:45877})
  write(ref.committed(11),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:23319}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:23319}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),45877)
  write(response.bd(loc:res),{vl:45877})
  write(response_body.vl(fml:out),45877)
  write(ref.txres(10),{vl:45877})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:45877}},1),1)
}
> cl_chans.send(0,{tx:8,bd:{vl:45877}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:45877}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:18093}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),18093)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),18093)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:18093}}})
{
  write(mid_spec.acked(6),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:8284}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),8284)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),8284)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:8284}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.send(1,{tx:11,bd:{vl:45877}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:45877}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:45877}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:45877}},1),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:45877}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:45877}},1),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:62518},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:62518})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62518})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:62518}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:49322},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:49322})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49322})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:49322}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:62518}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:62518}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),8284)
  write(response.bd(loc:res),{vl:8284})
  write(response_body.vl(fml:out),8284)
  write(ref.txres(12),{vl:8284})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:8284}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:49322}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:49322}}}),0)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(7),13)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),13)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:49322}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),49322)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),49322)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:49322}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:47101},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:47101})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:47101})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:47101}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:36737},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:36737})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:36737})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(8),15)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),15)
  write(mid_spec.queue.head,9)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:52950},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:52950})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52950})
}
> cl_chans.recv(0,{tx:12,bd:{vl:8284}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:8284}},0),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(9),14)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),14)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),49322)
  write(ref.txres(16),{vl:49322})
  write(ref.committed(16),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:47101}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:47101}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:32589},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:32589})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32589})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:36737}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),36737)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),36737)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:36737}}})
{
  write(mid_spec.acked(15),1)
}
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),36737)
  write(ref.txres(17),{vl:36737})
  write(ref.committed(17),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:41781},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"m",vl:41781})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41781})
}
> cl.client_request(1,{knd:read,ky:"m",vl:4708},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:4708})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4708})
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:45877}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:45877}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:62824},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:62824})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62824})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:62824}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:47101}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),47101)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),47101)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:47101}}})
{
  write(mid_spec.acked(14),1)
}
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),8284)
  write(ref.txres(19),{vl:8284})
  write(ref.committed(19),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(10),18)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),18)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:62824}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:62824}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),8284)
  write(response.bd(loc:res),{vl:8284})
  write(response_body.vl(fml:out),8284)
  write(ref.txres(20),{vl:8284})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:8284}},0),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:51848},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:51848})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51848})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:51848}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:41781}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),41781)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),41781)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:41781}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.recv(0,{tx:20,bd:{vl:8284}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:8284}},0),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:17,bd:{vl:36737}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:36737}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:4983},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:4983})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4983})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:4983}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:28102},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:28102})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28102})
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:51848}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:51848}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),47101)
  write(response.bd(loc:res),{vl:47101})
  write(response_body.vl(fml:out),47101)
  write(ref.txres(21),{vl:47101})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:47101}},0),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(11),22)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),22)
  write(mid_spec.queue.head,12)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:4983}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:4983}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:33412},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:33412})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33412})
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),41781)
  write(ref.txres(23),{vl:41781})
  write(ref.committed(23),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(12),24)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),24)
  write(mid_spec.queue.head,13)
}
> cl_chans.send(1,{tx:16,bd:{vl:49322}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:49322}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:4983}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),4983)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),4983)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:4983}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:37915},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:37915})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37915})
}
> cl.client_request(0,{knd:read,ky:"m",vl:56576},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"m",vl:56576})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:56576})
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),47101)
  write(ref.txres(25),{vl:47101})
  write(ref.committed(25),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:46066},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"m",vl:46066})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46066})
}
> cl_chans.recv(0,{tx:21,bd:{vl:47101}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:47101}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:15430},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:write,ky:"m",vl:15430})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15430})
}
> cl_chans.recv(0,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:50675},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:read,ky:"m",vl:50675})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50675})
}
> cl.client_request(1,{knd:write,ky:"m",vl:29980},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(30),{knd:write,ky:"m",vl:29980})
  write(ref.next,31)
  write(mid_spec.req_dest(30),prim)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:29980})
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),4983)
  write(ref.txres(27),{vl:4983})
  write(ref.committed(27),1)
}
> cl_chans.send(1,{tx:23,bd:{vl:41781}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:41781}},1),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:53833},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:53833})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:53833})
}
> cl.client_request(0,{knd:read,ky:"m",vl:25604},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:25604})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:25604})
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:38706},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:38706})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:38706})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:38706}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:38706}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:38706}}}),0)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:53833}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),53833)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),53833)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:53833}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:3720},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:3720})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3720})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:3720}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:3720}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:3720}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:34564},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"m",vl:34564})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:34564})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"m",vl:34564}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:read,ky:"m",vl:34564}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"m",vl:34564}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:38706}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),38706)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),38706)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:38706}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:18007},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:18007})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18007})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:18007}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:18007}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:18007}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),38706)
  write(response.bd(loc:res),{vl:38706})
  write(response_body.vl(fml:out),38706)
  write(ref.txres(5),{vl:38706})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:38706}},0),1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:38706}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:38706}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:59468},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:59468})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59468})
}
> cl.client_request(1,{knd:read,ky:"m",vl:38891},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"m",vl:38891})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38891})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:38891}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:4835},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:4835})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4835})
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:38891}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:38891}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),38706)
  write(ref.txres(6),{vl:38706})
  write(ref.committed(6),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:17699},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:17699})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17699})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:17699}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:13476},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:13476})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13476})
}
> cl_chans.send(0,{tx:6,bd:{vl:38706}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:38706}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:6052},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:6052})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6052})
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:17699}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:17699}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),38706)
  write(response.bd(loc:res),{vl:38706})
  write(response_body.vl(fml:out),38706)
  write(ref.txres(9),{vl:38706})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:38706}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:54267},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:54267})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54267})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:54267}}}),1)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),38706)
  write(ref.txres(11),{vl:38706})
  write(ref.committed(11),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:61138},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:61138})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61138})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:61138}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:54267}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:54267}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),38706)
  write(response.bd(loc:res),{vl:38706})
  write(response_body.vl(fml:out),38706)
  write(ref.txres(12),{vl:38706})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:38706}},0),1)
}
> cl_chans.send(1,{tx:11,bd:{vl:38706}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:38706}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:34726},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:34726})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:34726})
}
> cl_chans.recv(1,{tx:11,bd:{vl:38706}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:38706}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:61138}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:61138}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
}
> cl_chans.send(0,{tx:8,bd:{vl:0}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:42167},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:42167})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42167})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(2),15)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),15)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:12,bd:{vl:38706}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:38706}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:59532},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:59532})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:59532})
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:38706}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:38706}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:42167}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),42167)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),42167)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:42167}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:22590},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:22590})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22590})
}
> cl_chans.recv(0,{tx:6,bd:{vl:38706}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:38706}},0),0)
}
> cl_chans.send(1,{tx:10,bd:{vl:0}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),42167)
  write(ref.txres(17),{vl:42167})
  write(ref.committed(17),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:52742},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:52742})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52742})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:52742}}}),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:42167}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:42167}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:45943},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:45943})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:45943})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(3),16)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),16)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:59532}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),59532)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),59532)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:59532}}})
{
  write(mid_spec.acked(16),1)
}
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),38706)
  write(ref.txres(19),{vl:38706})
  write(ref.committed(19),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(4),14)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),14)
  write(mid_spec.queue.head,5)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:52742}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:52742}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),38706)
  write(response.bd(loc:res),{vl:38706})
  write(response_body.vl(fml:out),38706)
  write(ref.txres(18),{vl:38706})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:38706}},1),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:18,bd:{vl:38706}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:38706}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:30706},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:30706})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30706})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30706}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30706}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30706}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),38706)
  write(response.bd(loc:res),{vl:38706})
  write(response_body.vl(fml:out),38706)
  write(ref.txres(20),{vl:38706})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:38706}},1),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:42167}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:42167}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:34726}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),34726)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),34726)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:34726}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.send(1,{tx:19,bd:{vl:38706}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:38706}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:50546},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:50546})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50546})
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),34726)
  write(ref.txres(21),{vl:34726})
  write(ref.committed(21),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:755},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:755})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:755})
}
> cl_chans.recv(1,{tx:20,bd:{vl:38706}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:38706}},1),0)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),34726)
  write(ref.txres(22),{vl:34726})
  write(ref.committed(22),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:62219},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:62219})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62219})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"m",vl:62219}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"m",vl:62219}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"m",vl:62219}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),34726)
  write(response.bd(loc:res),{vl:34726})
  write(response_body.vl(fml:out),34726)
  write(ref.txres(23),{vl:34726})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:34726}},1),1)
}
> cl_chans.recv(1,{tx:23,bd:{vl:34726}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:34726}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:13637},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:13637})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13637})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:13637}}}),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl_chans.send(0,{tx:22,bd:{vl:34726}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:34726}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:39884},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:39884})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39884})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:490},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:490})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:490})
}
> ref.commit(26,prim)
{
  write(response_body.vl(fml:out),38706)
  write(ref.txres(26),{vl:38706})
  write(ref.committed(26),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:38706}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:38706}},1),0)
}
> cl_chans.send(0,{tx:21,bd:{vl:34726}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:34726}},0),1)
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),34726)
  write(ref.txres(25),{vl:34726})
  write(ref.committed(25),1)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:13637}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:13637}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),34726)
  write(response.bd(loc:res),{vl:34726})
  write(response_body.vl(fml:out),34726)
  write(ref.txres(24),{vl:34726})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:34726}},0),1)
}
> cl_chans.send(0,{tx:25,bd:{vl:34726}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:34726}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:49806},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"m",vl:49806})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49806})
}
> cl_chans.send(0,{tx:26,bd:{vl:38706}})
{
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:38706}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:55062},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:55062})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55062})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:28,bd:{knd:read,ky:"wrsylb",vl:55062}}}),1)
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),34726)
  write(ref.txres(27),{vl:34726})
  write(ref.committed(27),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:34726}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:34726}},0),0)
}
> cl_chans.send(0,{tx:27,bd:{vl:34726}})
{
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:34726}},0),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:34726}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:34726}},0),0)
}
> cl_chans.recv(0,{tx:24,bd:{vl:34726}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:34726}},0),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:13422},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:13422})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:13422})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:13422}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:13422}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:13422}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:12329},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:12329})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:12329})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:12329}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:49241},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:49241})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49241})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:49241}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:12329}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:12329}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:49241}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:49241}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:7798},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:7798})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7798})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:7798}}}),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:7798}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:7798}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:11018},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:11018})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11018})
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:26380},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:26380})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:26380})
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:45913},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:45913})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:45913})
}
> cl_chans.send(1,{tx:4,bd:{vl:0}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:13422}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),13422)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),13422)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:13422}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:54207},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:54207})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54207})
}
> cl.client_request(0,{knd:write,ky:"m",vl:16593},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"m",vl:16593})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16593})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:16593}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:15689},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:15689})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15689})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:15689}}}),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(1),9)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),9)
  write(mid_spec.queue.head,2)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(2),8)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),8)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:15689}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:15689}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:16593}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:16593}}}),0)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:15689}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),15689)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),15689)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:15689}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:16593}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),16593)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),16593)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:16593}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:46871},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:46871})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46871})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:54207}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),54207)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),54207)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:54207}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:52430},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:52430})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52430})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:52430}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:52430}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:52430}}}),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(4),11)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),11)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:52430}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),52430)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),52430)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:52430}}})
{
  write(mid_spec.acked(11),1)
}
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),16593)
  write(ref.txres(10),{vl:16593})
  write(ref.committed(10),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:28292},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:28292})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28292})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:28292}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:28292}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:28292}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),16593)
  write(response.bd(loc:res),{vl:16593})
  write(response_body.vl(fml:out),16593)
  write(ref.txres(12),{vl:16593})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:16593}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(5),6)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),6)
  write(mid_spec.queue.head,6)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(6),5)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),5)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(1,{tx:12,bd:{vl:16593}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:16593}},1),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(7),2)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),2)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:read,ky:"m",vl:52467},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:52467})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:52467})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:45913}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),45913)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),45913)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:45913}}})
{
  write(mid_spec.acked(6),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:26380}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),26380)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),26380)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:26380}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:49241}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),49241)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),49241)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:49241}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:61423},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:61423})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61423})
}
> cl.client_request(0,{knd:read,ky:"m",vl:65068},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:65068})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:65068})
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),26380)
  write(ref.txres(13),{vl:26380})
  write(ref.committed(13),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:3574},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:3574})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3574})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:3574}}}),1)
}
> cl_chans.send(1,{tx:10,bd:{vl:16593}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:16593}},1),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:16593}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:16593}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:17920},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:17920})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:17920})
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:3574}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:3574}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),49241)
  write(response.bd(loc:res),{vl:49241})
  write(response_body.vl(fml:out),49241)
  write(ref.txres(16),{vl:49241})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:49241}},1),1)
}
> cl_chans.send(1,{tx:13,bd:{vl:26380}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:26380}},1),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:26380}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:26380}},1),0)
}
> cl_chans.recv(1,{tx:16,bd:{vl:49241}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:49241}},1),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),26380)
  write(ref.txres(15),{vl:26380})
  write(ref.committed(15),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(9),14)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),14)
  write(mid_spec.queue.head,10)
}
> cl.client_request(0,{knd:read,ky:"m",vl:32550},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:32550})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32550})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:32550}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:32550}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:32550}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),26380)
  write(response.bd(loc:res),{vl:26380})
  write(response_body.vl(fml:out),26380)
  write(ref.txres(18),{vl:26380})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:26380}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:17920}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),17920)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),17920)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:17920}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:15,bd:{vl:26380}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:26380}},0),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:26380}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:26380}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:65079},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:65079})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:65079})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:65079}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:2192},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:2192})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2192})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:2192}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:65079}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:65079}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),26380)
  write(response.bd(loc:res),{vl:26380})
  write(response_body.vl(fml:out),26380)
  write(ref.txres(19),{vl:26380})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:26380}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:47668},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"m",vl:47668})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47668})
}
> cl_chans.recv(0,{tx:19,bd:{vl:26380}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:26380}},0),0)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(10),21)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),21)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:2192}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:2192}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),17920)
  write(response.bd(loc:res),{vl:17920})
  write(response_body.vl(fml:out),17920)
  write(ref.txres(20),{vl:17920})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:17920}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:13984},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:13984})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:13984})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:13984}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:13984}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:13984}}}),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:26380}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:26380}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:61423}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),61423)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),61423)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:61423}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:23062},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"m",vl:23062})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23062})
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(11),23)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),23)
  write(mid_spec.queue.head,12)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(12),22)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),22)
  write(mid_spec.queue.head,13)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:47668}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),47668)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),47668)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:47668}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl_chans.recv(0,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:62731},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:62731})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:62731})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:62731}}}),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:20,bd:{vl:17920}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:17920}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:23062}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),23062)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),23062)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:23062}}})
{
  write(mid_spec.acked(23),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:62731}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:62731}}}),0)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(13),24)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),24)
  write(mid_spec.queue.head,14)
}
> cl_chans.recv(1,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:13984}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),13984)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),13984)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:13984}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:10546},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:10546})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10546})
}
> cl_chans.recv(1,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:30405},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:30405})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30405})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:1374},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:1374})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:1374})
}
> cl.client_request(0,{knd:read,ky:"m",vl:58311},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:58311})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:58311})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:58311}}}),1)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:58311}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:58311}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:33512},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:33512})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33512})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:33512}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),33512)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),33512)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:33512}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:51183},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:51183})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51183})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:51183}}}),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:51183}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:51183}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:51183}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),51183)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),51183)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:51183}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:16796},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:16796})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:16796})
}
> cl.client_request(1,{knd:read,ky:"m",vl:60571},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:60571})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60571})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:60571}}}),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
}
> cl_chans.send(1,{tx:4,bd:{vl:0}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:60571}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:60571}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:38817},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:38817})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38817})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:38817}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:38817}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:38817}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),51183)
  write(response.bd(loc:res),{vl:51183})
  write(response_body.vl(fml:out),51183)
  write(ref.txres(6),{vl:51183})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:51183}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:42597},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:42597})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42597})
}
> cl_chans.recv(1,{tx:6,bd:{vl:51183}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:51183}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:25413},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:25413})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25413})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:55854},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:55854})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55854})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:55854}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:55854}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:55854}}}),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(2),9)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),9)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:read,ky:"m",vl:61284},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:61284})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61284})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:55854}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),55854)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),55854)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:55854}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:4639},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:4639})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4639})
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(3),11)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),11)
  write(mid_spec.queue.head,4)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),55854)
  write(ref.txres(8),{vl:55854})
  write(ref.committed(8),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:4639}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),4639)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),4639)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:4639}}})
{
  write(mid_spec.acked(11),1)
}
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),4639)
  write(ref.txres(10),{vl:4639})
  write(ref.committed(10),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:42597}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),42597)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),42597)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:42597}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:17993},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:17993})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:17993})
}
> cl_chans.send(0,{tx:10,bd:{vl:4639}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:4639}},0),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:4639}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:4639}},0),0)
}
> cl_chans.send(1,{tx:8,bd:{vl:55854}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:55854}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55554},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:55554})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55554})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:55554}}}),1)
}
> cl_chans.recv(1,{tx:8,bd:{vl:55854}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:55854}},1),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:26194},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:26194})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26194})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:26194}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(5),13)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),13)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:read,ky:"m",vl:43342},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:43342})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43342})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:43342}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:55554}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:55554}}}),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(6),12)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),12)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:55554}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),55554)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),55554)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:55554}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:13478},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:13478})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13478})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:13478}}}),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:167},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:167})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:167})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),55554)
  write(ref.txres(17),{vl:55554})
  write(ref.committed(17),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:55554}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:55554}},1),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:55554}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:55554}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:43342}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:43342}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),42597)
  write(response.bd(loc:res),{vl:42597})
  write(response_body.vl(fml:out),42597)
  write(ref.txres(15),{vl:42597})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:42597}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:17993}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),17993)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),17993)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:17993}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(0,{tx:15,bd:{vl:42597}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:42597}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:13478}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:13478}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),42597)
  write(response.bd(loc:res),{vl:42597})
  write(response_body.vl(fml:out),42597)
  write(ref.txres(16),{vl:42597})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:42597}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:26194}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:26194}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),42597)
  write(response.bd(loc:res),{vl:42597})
  write(response_body.vl(fml:out),42597)
  write(ref.txres(14),{vl:42597})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:42597}},0),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:42597}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:42597}},0),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:42597}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:42597}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:29836},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:29836})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29836})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:29836}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:26066},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:26066})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:26066})
}
> cl.client_request(1,{knd:read,ky:"m",vl:29852},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"m",vl:29852})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29852})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:29852}}}),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(7),18)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),18)
  write(mid_spec.queue.head,8)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),17993)
  write(ref.txres(19),{vl:17993})
  write(ref.committed(19),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:29836}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),29836)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),29836)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:29836}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:22442},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"m",vl:22442})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22442})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:22442}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:13617},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:13617})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:13617})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:13617}}}),1)
}
> cl_chans.send(1,{tx:19,bd:{vl:17993}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:17993}},1),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(8),22)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),22)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:13617}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),13617)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),13617)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:13617}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:55656},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:55656})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55656})
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:29852}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:29852}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),42597)
  write(response.bd(loc:res),{vl:42597})
  write(response_body.vl(fml:out),42597)
  write(ref.txres(20),{vl:42597})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:42597}},1),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(9),21)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),21)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:22442}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),22442)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),22442)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:22442}}})
{
  write(mid_spec.acked(21),1)
}
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),13617)
  write(ref.txres(23),{vl:13617})
  write(ref.committed(23),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:54984},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:54984})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54984})
}
> cl_chans.recv(0,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:44659},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:44659})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:44659})
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(10),25)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),25)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:22442}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:22442}}}),0)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),13617)
  write(ref.txres(24),{vl:13617})
  write(ref.committed(24),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:44659}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),25)
  write(sec.rep.store("wrsylb"),44659)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),44659)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:44659}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl_chans.recv(1,{tx:20,bd:{vl:42597}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:42597}},1),0)
}
> cl_chans.send(0,{tx:23,bd:{vl:13617}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:13617}},0),1)
}
> cl_chans.send(0,{tx:24,bd:{vl:13617}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:13617}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:13617}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:13617}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:29836}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:29836}}}),0)
}
> cl_chans.recv(0,{tx:23,bd:{vl:13617}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:13617}},0),0)
}
> cl_chans.recv(0,{tx:24,bd:{vl:13617}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:13617}},0),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:17993}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:17993}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:16816},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:16816})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16816})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:16816}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:16816}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:16816}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:30373},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:30373})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30373})
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:65004},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:65004})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:65004})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:65004}}}),1)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:26626},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:26626})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26626})
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:65004}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:65004}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:22170},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:22170})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22170})
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:34053},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:34053})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34053})
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:65004}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),65004)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),65004)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:65004}}})
{
  write(mid_spec.acked(2),1)
}
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:read,ky:"m",vl:44352},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:44352})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44352})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:44352}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9093},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:9093})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9093})
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),65004)
  write(ref.txres(7),{vl:65004})
  write(ref.committed(7),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:44352}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:44352}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:25011},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:25011})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:25011})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:25011}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:29454},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:29454})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29454})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:29454}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:25011}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:25011}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:29454}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:29454}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:22170}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),22170)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),22170)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:22170}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:7,bd:{vl:65004}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:65004}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:685},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:685})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:685})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:685}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:6401},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:6401})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6401})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:6401}}}),1)
}
> cl_chans.send(0,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:6401}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:6401}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:8128},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:8128})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:8128})
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:685}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:685}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:34830},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:34830})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34830})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:34830}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(2),13)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),13)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:read,ky:"m",vl:51067},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:51067})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51067})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:51067}}}),1)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),65004)
  write(ref.txres(12),{vl:65004})
  write(ref.committed(12),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:65004}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:65004}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:46516},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:46516})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:46516})
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:34830}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:34830}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:51067}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:51067}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),22170)
  write(response.bd(loc:res),{vl:22170})
  write(response_body.vl(fml:out),22170)
  write(ref.txres(14),{vl:22170})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:22170}},0),1)
}
> cl_chans.send(1,{tx:12,bd:{vl:65004}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:65004}},1),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(3),11)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),11)
  write(mid_spec.queue.head,4)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),65004)
  write(ref.txres(15),{vl:65004})
  write(ref.committed(15),1)
}
> cl_chans.send(0,{tx:15,bd:{vl:65004}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:65004}},0),1)
}
> cl_chans.send(0,{tx:5,bd:{vl:0}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:34830}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),34830)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),34830)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:34830}}})
{
  write(mid_spec.acked(13),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:6401}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),6401)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),6401)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:6401}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:15,bd:{vl:65004}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:65004}},0),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:65004}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:65004}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:47229},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:47229})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:47229})
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),34830)
  write(ref.txres(16),{vl:34830})
  write(ref.committed(16),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:19542},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:19542})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19542})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:19542}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(4),17)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),17)
  write(mid_spec.queue.head,5)
}
> cl_chans.send(1,{tx:16,bd:{vl:34830}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:34830}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:19542}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:19542}}}),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(5),10)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),10)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:19542}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),19542)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),19542)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:19542}}})
{
  write(mid_spec.acked(17),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:685}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),685)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),685)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:685}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(1,{tx:16,bd:{vl:34830}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:34830}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:12844},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:12844})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12844})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:12844}}}),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(6),18)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),18)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:12844}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),12844)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),12844)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:12844}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:22170}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:22170}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:54400},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:54400})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54400})
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),12844)
  write(ref.txres(19),{vl:12844})
  write(ref.committed(19),1)
}
> cl_chans.send(0,{tx:19,bd:{vl:12844}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:12844}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:12844}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:12844}}}),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:23662},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"m",vl:23662})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23662})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:23662}}}),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(7),20)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),20)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:23662}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:23662}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:23662}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),23662)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),23662)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:23662}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:19,bd:{vl:12844}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:12844}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:36798},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:36798})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:36798})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:36798}}}),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(8),21)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),21)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:36798}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:36798}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:36798}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),36798)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),36798)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:36798}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:5689},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:5689})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5689})
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:62856},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:62856})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:62856})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:62856}}}),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:62856}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:62856}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:19540},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:19540})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19540})
}
> cl.client_request(0,{knd:read,ky:"m",vl:65309},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:65309})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:65309})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:65309}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:11155},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:11155})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11155})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:11155}}}),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:11155}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:11155}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:65309}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:65309}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),23662)
  write(response.bd(loc:res),{vl:23662})
  write(response_body.vl(fml:out),23662)
  write(ref.txres(25),{vl:23662})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:23662}},0),1)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(9),26)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),26)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:25,bd:{vl:23662}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:23662}},0),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:28910},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:28910})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28910})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:29562},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:29562})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29562})
}
> cl.client_request(1,{knd:read,ky:"m",vl:48347},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"m",vl:48347})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48347})
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> cl_chans.send(0,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:28910}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),28910)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),28910)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:28910}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:50867},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:50867})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50867})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:50867}}}),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:61879},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:61879})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61879})
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:50867}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:50867}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:61879}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),61879)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),61879)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:61879}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:36498},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:36498})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36498})
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),61879)
  write(ref.txres(5),{vl:61879})
  write(ref.committed(5),1)
}
> cl_chans.send(1,{tx:5,bd:{vl:61879}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:61879}},1),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:61879}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:61879}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:13831},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:13831})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:13831})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:13831}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:13831}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:13831}}}),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:read,ky:"m",vl:52077},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:52077})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:52077})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:52077}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:50741},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:50741})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50741})
}
> cl.client_request(1,{knd:write,ky:"m",vl:46864},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:46864})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:46864})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:46864}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:29562}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),29562)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),29562)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:29562}}})
{
  write(mid_spec.acked(1),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:13831}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),13831)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),13831)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:13831}}})
{
  write(mid_spec.acked(6),1)
}
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),61879)
  write(ref.txres(8),{vl:61879})
  write(ref.committed(8),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:55460},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:55460})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55460})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:55460}}}),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(4),10)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),10)
  write(mid_spec.queue.head,5)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:55460}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),55460)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),55460)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:55460}}})
{
  write(mid_spec.acked(10),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:52077}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:52077}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),61879)
  write(response.bd(loc:res),{vl:61879})
  write(response_body.vl(fml:out),61879)
  write(ref.txres(7),{vl:61879})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:61879}},0),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:61879}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:61879}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:18569},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:18569})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18569})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:18569}}}),1)
}
> cl_chans.send(0,{tx:8,bd:{vl:61879}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:61879}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:46864}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),46864)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),46864)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:46864}}})
{
  write(mid_spec.acked(9),1)
}
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(6),11)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),11)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:write,ky:"m",vl:22877},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"m",vl:22877})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22877})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:22877}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:18569}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),18569)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),18569)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:18569}}})
{
  write(mid_spec.acked(11),1)
}
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(7),12)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),12)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:22877}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),22877)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),22877)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:22877}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:60175},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:60175})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60175})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:54671},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:54671})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54671})
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:55460}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:55460}}}),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(8),13)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),13)
  write(mid_spec.queue.head,9)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),18569)
  write(ref.txres(14),{vl:18569})
  write(ref.committed(14),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:57567},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:57567})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:57567})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:57567}}}),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(9),15)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),15)
  write(mid_spec.queue.head,10)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:21253},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:21253})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21253})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:21253}}}),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(10),16)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),16)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(0,{tx:8,bd:{vl:61879}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:61879}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:60175}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),60175)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),60175)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:60175}}})
{
  write(mid_spec.acked(13),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:46864}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:46864}}}),0)
}
> cl_chans.send(0,{tx:14,bd:{vl:18569}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:18569}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:57567}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),57567)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),57567)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:57567}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:18569}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:18569}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:17792},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:17792})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:17792})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:17792}}}),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:57941},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:57941})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:57941})
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(11),18)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),18)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(12),17)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),17)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:38723},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:38723})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38723})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:38723}}}),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:30767},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:30767})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30767})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30767}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:21253}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),21253)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),21253)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:21253}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:7304},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:7304})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7304})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:57941}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),57941)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),57941)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:57941}}})
{
  write(mid_spec.acked(18),1)
}
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(13),21)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),21)
  write(mid_spec.queue.head,14)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:17792}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:17792}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:45255},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:45255})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:45255})
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:22877}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:22877}}}),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(14),22)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),22)
  write(mid_spec.queue.head,15)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:57567}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:57567}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:46221},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"m",vl:46221})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:46221})
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(15),23)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),23)
  write(mid_spec.queue.head,16)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:21253}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:21253}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:17792}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),17792)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),17792)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:17792}}})
{
  write(mid_spec.acked(17),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:7304}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),7304)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),7304)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:7304}}})
{
  write(mid_spec.acked(21),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:18569}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:18569}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:18123},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:18123})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18123})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:1818},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:1818})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:1818})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:1818}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:45255}}})
{
  write(mid_spec.queue.tail,15)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),45255)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,15)
  write(ref.rep.store("m"),45255)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:45255}}})
{
  write(mid_spec.acked(22),1)
}
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),7304)
  write(ref.txres(24),{vl:7304})
  write(ref.committed(24),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:46221}}})
{
  write(mid_spec.queue.tail,16)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),46221)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,16)
  write(ref.rep.store("m"),46221)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:46221}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl_chans.recv(1,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:38723}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:38723}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),7304)
  write(response.bd(loc:res),{vl:7304})
  write(response_body.vl(fml:out),7304)
  write(ref.txres(19),{vl:7304})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:7304}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:1818}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:1818}}}),0)
}
> cl_chans.send(0,{tx:24,bd:{vl:7304}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:7304}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30767}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30767}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),7304)
  write(response.bd(loc:res),{vl:7304})
  write(response_body.vl(fml:out),7304)
  write(ref.txres(20),{vl:7304})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:7304}},0),1)
}
> cl_chans.recv(1,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"m",vl:47390},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"m",vl:47390})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47390})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:47390}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),47390)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),47390)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:47390}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:32902},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:32902})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32902})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:11908},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:11908})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11908})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:11908}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),11908)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),11908)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:11908}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:32902}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),32902)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),32902)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:32902}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:59093},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:59093})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:59093})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:49272},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:49272})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49272})
}
> cl.client_request(0,{knd:write,ky:"m",vl:44369},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:44369})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:44369})
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(4),4)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),4)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:44369}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),44369)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),44369)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:44369}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:45256},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:45256})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45256})
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(5),3)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),3)
  write(mid_spec.queue.head,6)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),44369)
  write(ref.txres(6),{vl:44369})
  write(ref.committed(6),1)
}
> cl_chans.send(0,{tx:6,bd:{vl:44369}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:44369}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:11840},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:11840})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11840})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:11840}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:53800},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:53800})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:53800})
}
> cl.client_request(1,{knd:read,ky:"m",vl:15326},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:15326})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15326})
}
> cl.client_request(0,{knd:write,ky:"m",vl:13173},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"m",vl:13173})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:13173})
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(6),10)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),10)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(0,{tx:6,bd:{vl:44369}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:44369}},0),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),44369)
  write(ref.txres(9),{vl:44369})
  write(ref.committed(9),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:11840}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:11840}}}),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(7),7)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),7)
  write(mid_spec.queue.head,8)
}
> cl_chans.send(1,{tx:9,bd:{vl:44369}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:44369}},1),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:44369}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:44369}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:57507},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:57507})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:57507})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:57507}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:57507}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:57507}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:17936},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:17936})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:17936})
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(8),12)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),12)
  write(mid_spec.queue.head,9)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),11908)
  write(ref.txres(8),{vl:11908})
  write(ref.committed(8),1)
}
> cl_chans.send(1,{tx:8,bd:{vl:11908}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:11908}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:49272}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),49272)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),49272)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:49272}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:45889},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:45889})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45889})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:45889}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:45889}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:45889}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),44369)
  write(response.bd(loc:res),{vl:44369})
  write(response_body.vl(fml:out),44369)
  write(ref.txres(13),{vl:44369})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:44369}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:23871},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:23871})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23871})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:59093}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),59093)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),59093)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:59093}}})
{
  write(mid_spec.acked(3),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:13173}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),13173)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),13173)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:13173}}})
{
  write(mid_spec.acked(10),1)
}
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(9),14)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),14)
  write(mid_spec.queue.head,10)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(10),11)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),11)
  write(mid_spec.queue.head,11)
}
> cl.client_request(1,{knd:read,ky:"m",vl:64708},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:64708})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64708})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:64708}}}),1)
}
> cl_chans.recv(1,{tx:8,bd:{vl:11908}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:11908}},1),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:11840}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),11840)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),11840)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:11840}}})
{
  write(mid_spec.acked(7),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:17936}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),17936)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),17936)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:17936}}})
{
  write(mid_spec.acked(12),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:23871}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),23871)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),23871)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:23871}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:32614},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:32614})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32614})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:32614}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:57507}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),57507)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),57507)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:57507}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:34635},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:34635})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34635})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:34635}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:64637},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:64637})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64637})
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:34635}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:34635}}}),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:4660},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:4660})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:4660})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:4660}}}),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(11),18)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),18)
  write(mid_spec.queue.head,12)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(12),17)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),17)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:27206},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:27206})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:27206})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:27206}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:32614}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"m",vl:32614}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),23871)
  write(response.bd(loc:res),{vl:23871})
  write(response_body.vl(fml:out),23871)
  write(ref.txres(16),{vl:23871})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:23871}},1),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(13),20)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),20)
  write(mid_spec.queue.head,14)
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:16256},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"m",vl:16256})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16256})
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:64637}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),64637)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),64637)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:64637}}})
{
  write(mid_spec.acked(18),1)
}
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(14),21)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),21)
  write(mid_spec.queue.head,15)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:64708}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:64708}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),23871)
  write(response.bd(loc:res),{vl:23871})
  write(response_body.vl(fml:out),23871)
  write(ref.txres(15),{vl:23871})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:23871}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:4660}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:4660}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),64637)
  write(response.bd(loc:res),{vl:64637})
  write(response_body.vl(fml:out),64637)
  write(ref.txres(19),{vl:64637})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:64637}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:5931},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:5931})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:5931})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:5931}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:46028},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:46028})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46028})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:34635}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),34635)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),34635)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:34635}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:41302},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:41302})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:41302})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"m",vl:41302}}}),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),23871)
  write(ref.txres(23),{vl:23871})
  write(ref.committed(23),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:27206}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),27206)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),27206)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:27206}}})
{
  write(mid_spec.acked(20),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:5931}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:5931}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),23871)
  write(response.bd(loc:res),{vl:23871})
  write(response_body.vl(fml:out),23871)
  write(ref.txres(22),{vl:23871})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:23871}},0),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:23871}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:23871}},1),0)
}
> cl_chans.recv(0,{tx:22,bd:{vl:23871}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:23871}},0),0)
}
> cl_chans.send(0,{tx:23,bd:{vl:23871}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:23871}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:16256}}})
{
  write(mid_spec.queue.tail,15)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),16256)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,15)
  write(ref.rep.store("m"),16256)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:16256}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:23855},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:23855})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23855})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"m",vl:23855}}}),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:23871}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:23871}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:61529},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:61529})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61529})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:61529}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:6801},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:6801})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:6801})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:6801}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:23408},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"wrsylb",vl:23408})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:23408})
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:36006},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:read,ky:"m",vl:36006})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36006})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:12194},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(30),{knd:write,ky:"wrsylb",vl:12194})
  write(ref.next,31)
  write(mid_spec.req_dest(30),sec)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12194})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:30,bd:{knd:write,ky:"wrsylb",vl:12194}}}),1)
}
> ref.commit(29,prim)
{
  write(response_body.vl(fml:out),16256)
  write(ref.txres(29),{vl:16256})
  write(ref.committed(29),1)
}
> cl_chans.send(0,{tx:29,bd:{vl:16256}})
{
  write(service_spec.responded(29),1)
  write(cl_chans.spec.sent({tx:29,bd:{vl:16256}},0),1)
}
> cl_chans.recv(0,{tx:29,bd:{vl:16256}})
{
  write(cl_chans.spec.sent({tx:29,bd:{vl:16256}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:54026},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(31),{knd:write,ky:"m",vl:54026})
  write(ref.next,32)
  write(mid_spec.req_dest(31),prim)
  write(request.tx(req(loc:m)),31)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54026})
}
> cl_chans.recv(1,{tx:13,bd:{vl:44369}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:44369}},1),0)
}
> ser.serialize(31)
{
  write(ser.serialized(31),1)
  write(ser.queue.contents(15),31)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),31)
  write(mid_spec.queue.head,16)
}
> cl.client_request(1,{knd:write,ky:"m",vl:60221},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(32),{knd:write,ky:"m",vl:60221})
  write(ref.next,33)
  write(mid_spec.req_dest(32),prim)
  write(request.tx(req(loc:m)),32)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60221})
}
> sec.req_chan.recv({cid:0,req:{tx:30,bd:{knd:write,ky:"wrsylb",vl:12194}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:30,bd:{knd:write,ky:"wrsylb",vl:12194}}}),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:54347},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:54347})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54347})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:36382},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:36382})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36382})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:36382}}}),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:25140},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:25140})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:25140})
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:36382}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:36382}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:36382}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),36382)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),36382)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:36382}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:2917},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:2917})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2917})
}
> cl.client_request(0,{knd:write,ky:"m",vl:23134},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:23134})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23134})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:37819},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:37819})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37819})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:37819}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:30174},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:30174})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30174})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30174}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:37819}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:37819}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30174}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30174}}}),0)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),36382)
  write(ref.txres(3),{vl:36382})
  write(ref.committed(3),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(2),6)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),6)
  write(mid_spec.queue.head,3)
}
> cl_chans.send(1,{tx:3,bd:{vl:36382}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:36382}},1),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),36382)
  write(ref.txres(2),{vl:36382})
  write(ref.committed(2),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:23134}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),23134)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),23134)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:23134}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.send(1,{tx:2,bd:{vl:36382}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:36382}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:56026},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:56026})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:56026})
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),23134)
  write(ref.txres(7),{vl:23134})
  write(ref.committed(7),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30174}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),30174)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),30174)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30174}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:27708},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:27708})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:27708})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:27708}}}),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:36382}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:36382}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:10693},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:10693})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10693})
}
> cl_chans.send(0,{tx:7,bd:{vl:23134}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:23134}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:60890},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:60890})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:60890})
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(3),10)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),10)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),23134)
  write(ref.txres(9),{vl:23134})
  write(ref.committed(9),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:17644},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:17644})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:17644})
}
> cl_chans.send(1,{tx:9,bd:{vl:23134}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:23134}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:27708}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:27708}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),30174)
  write(response.bd(loc:res),{vl:30174})
  write(response_body.vl(fml:out),30174)
  write(ref.txres(8),{vl:30174})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:30174}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:60890}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),60890)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),60890)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:60890}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:30174}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:30174}},1),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:23134}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:23134}},0),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:36382}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:36382}},1),0)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),23134)
  write(ref.txres(11),{vl:23134})
  write(ref.committed(11),1)
}
> cl_chans.send(0,{tx:11,bd:{vl:23134}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:23134}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:42013},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:42013})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42013})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:42013}}}),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:23134}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:23134}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:42013}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:42013}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),60890)
  write(response.bd(loc:res),{vl:60890})
  write(response_body.vl(fml:out),60890)
  write(ref.txres(12),{vl:60890})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:60890}},1),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:23134}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:23134}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:46352},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:46352})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46352})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:46352}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:16941},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:16941})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16941})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:16941}}}),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:60890}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:60890}},1),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(4),13)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),13)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"m",vl:22210},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:22210})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22210})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(5),15)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),15)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:46352}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),46352)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),46352)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:46352}}})
{
  write(mid_spec.acked(13),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:22210}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),22210)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),22210)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:22210}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:31794},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:31794})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31794})
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:46352}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:46352}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:18966},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:18966})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18966})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:18966}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:18966}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:18966}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),22210)
  write(response.bd(loc:res),{vl:22210})
  write(response_body.vl(fml:out),22210)
  write(ref.txres(17),{vl:22210})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:22210}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:16941}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:16941}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),46352)
  write(response.bd(loc:res),{vl:46352})
  write(response_body.vl(fml:out),46352)
  write(ref.txres(14),{vl:46352})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:46352}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:65019},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:65019})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65019})
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),46352)
  write(ref.txres(18),{vl:46352})
  write(ref.committed(18),1)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),46352)
  write(ref.txres(16),{vl:46352})
  write(ref.committed(16),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:22210}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:22210}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:2782},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:2782})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2782})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:2782}}}),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(6),19)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),19)
  write(mid_spec.queue.head,7)
}
> cl_chans.send(0,{tx:16,bd:{vl:46352}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:46352}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:64088},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:64088})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64088})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:64088}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:48007},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"m",vl:48007})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48007})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:48007}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:2782}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:2782}}}),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:46352}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:46352}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:2782}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),2782)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),2782)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:2782}}})
{
  write(mid_spec.acked(19),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:48007}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:48007}}}),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:46352}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:46352}},1),0)
}
> cl_chans.send(1,{tx:18,bd:{vl:46352}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:46352}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:64088}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:64088}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),2782)
  write(response.bd(loc:res),{vl:2782})
  write(response_body.vl(fml:out),2782)
  write(ref.txres(20),{vl:2782})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:2782}},1),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(7),21)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),21)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:read,ky:"m",vl:20929},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:20929})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:20929})
}
> cl_chans.recv(1,{tx:20,bd:{vl:2782}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:2782}},1),0)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),22210)
  write(ref.txres(22),{vl:22210})
  write(ref.committed(22),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:33823},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"m",vl:33823})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33823})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:33823}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:48007}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),48007)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),48007)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:48007}}})
{
  write(mid_spec.acked(21),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:33823}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:33823}}}),0)
}
> cl_chans.recv(1,{tx:18,bd:{vl:46352}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:46352}},1),0)
}
> cl_chans.send(0,{tx:22,bd:{vl:22210}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:22210}},0),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:22210}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:22210}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54800},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:54800})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54800})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:54800}}}),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(8),24)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),24)
  write(mid_spec.queue.head,9)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:65041},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:65041})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65041})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:65041}}}),1)
}
> cl_chans.recv(1,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:54800}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),54800)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),54800)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:54800}}})
{
  write(mid_spec.acked(24),1)
}
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(9),23)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),23)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:54800}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:54800}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:44527},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:44527})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:44527})
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(10),26)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),26)
  write(mid_spec.queue.head,11)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:18911},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:18911})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18911})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:18911}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),18911)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),18911)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:18911}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:9121},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:9121})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9121})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:9121}}}),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:9121}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:9121}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:9121}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),9121)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),9121)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:9121}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:25910},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:25910})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:25910})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:25910}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:25910}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:25910}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),18911)
  write(response.bd(loc:res),{vl:18911})
  write(response_body.vl(fml:out),18911)
  write(ref.txres(2),{vl:18911})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:18911}},0),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:18911}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:18911}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:29333},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:29333})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29333})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:29333}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:29333}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:29333}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),18911)
  write(response.bd(loc:res),{vl:18911})
  write(response_body.vl(fml:out),18911)
  write(ref.txres(3),{vl:18911})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:18911}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:8056},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:8056})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:8056})
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),9121)
  write(ref.txres(4),{vl:9121})
  write(ref.committed(4),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:58599},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:58599})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58599})
}
> cl_chans.recv(0,{tx:3,bd:{vl:18911}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:18911}},0),0)
}
> cl_chans.send(0,{tx:4,bd:{vl:9121}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:9121}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:53225},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:53225})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:53225})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:53225}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:53225}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:53225}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),9121)
  write(response.bd(loc:res),{vl:9121})
  write(response_body.vl(fml:out),9121)
  write(ref.txres(6),{vl:9121})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:9121}},1),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:9121}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:9121}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:8299},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"m",vl:8299})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8299})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:8299}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:8299}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:8299}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),18911)
  write(response.bd(loc:res),{vl:18911})
  write(response_body.vl(fml:out),18911)
  write(ref.txres(7),{vl:18911})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:18911}},1),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:58599}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),58599)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),58599)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:58599}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(0,{tx:4,bd:{vl:9121}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:9121}},0),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:18911}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:18911}},1),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30629},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:30629})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30629})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:30629}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:18606},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:18606})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18606})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:18606}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:30629}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),30629)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),30629)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:30629}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:30629}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:30629}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:18606}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:18606}}}),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(4),9)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),9)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:37650},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:37650})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37650})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:37650}}}),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(5),10)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),10)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:read,ky:"m",vl:29641},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:29641})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29641})
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),58599)
  write(ref.txres(11),{vl:58599})
  write(ref.committed(11),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:9469},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:9469})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9469})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:18606}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),18606)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),18606)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:18606}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:37650}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:37650}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:44532},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:44532})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:44532})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:44532}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:37650}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),37650)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),37650)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:37650}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.send(0,{tx:11,bd:{vl:58599}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:58599}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:31357},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:31357})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31357})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:31357}}}),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:58599}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:58599}},0),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:44532}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:44532}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:44532}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),44532)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),44532)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:44532}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(7),12)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),12)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:31357}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:31357}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),44532)
  write(response.bd(loc:res),{vl:44532})
  write(response_body.vl(fml:out),44532)
  write(ref.txres(14),{vl:44532})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:44532}},0),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:44532}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:44532}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:44443},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:44443})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44443})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:44443}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:9469}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),9469)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),9469)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:9469}}})
{
  write(mid_spec.acked(12),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:44443}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:44443}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),9469)
  write(response.bd(loc:res),{vl:9469})
  write(response_body.vl(fml:out),9469)
  write(ref.txres(15),{vl:9469})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:9469}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:17853},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:17853})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:17853})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:17853}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:17853}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:17853}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),9469)
  write(response.bd(loc:res),{vl:9469})
  write(response_body.vl(fml:out),9469)
  write(ref.txres(16),{vl:9469})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:9469}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:20130},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:20130})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20130})
}
> cl_chans.recv(1,{tx:15,bd:{vl:9469}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:9469}},1),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:9469}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:9469}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:20745},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:20745})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20745})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:20745}}}),1)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),44532)
  write(ref.txres(17),{vl:44532})
  write(ref.committed(17),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:44532}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:44532}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:20745}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:20745}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),44532)
  write(response.bd(loc:res),{vl:44532})
  write(response_body.vl(fml:out),44532)
  write(ref.txres(18),{vl:44532})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:44532}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:6788},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:6788})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6788})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:48239},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:48239})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:48239})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:48239}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:34260},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:34260})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34260})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:34260}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:48239}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:48239}}}),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:44532}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:44532}},1),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:44532}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:44532}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(8),21)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),21)
  write(mid_spec.queue.head,9)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(9),20)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),20)
  write(mid_spec.queue.head,10)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),44532)
  write(ref.txres(19),{vl:44532})
  write(ref.committed(19),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:41368},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:41368})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:41368})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:41368}}}),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(10),22)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),22)
  write(mid_spec.queue.head,11)
}
> cl_chans.send(1,{tx:19,bd:{vl:44532}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:44532}},1),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:44532}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:44532}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:34260}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),34260)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),34260)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:34260}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl_chans.recv(1,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:41368}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:41368}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:48239}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),48239)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),48239)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:48239}}})
{
  write(mid_spec.acked(20),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:34260}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:34260}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:48535},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:48535})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:48535})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:48535}}}),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(11),23)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),23)
  write(mid_spec.queue.head,12)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:48535}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:48535}}}),0)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:41368}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),41368)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),41368)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:41368}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:45239},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:45239})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45239})
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),9469)
  write(ref.txres(24),{vl:9469})
  write(ref.committed(24),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:37903},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:37903})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37903})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:48535}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),48535)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),48535)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:48535}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:63339},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:63339})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:63339})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:63339}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:40345},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:40345})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40345})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:40345}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:40762},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:40762})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:40762})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:40762}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:241},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:241})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:241})
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:40345}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:40345}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:30591},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:30591})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30591})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:30591}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:40762}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:40762}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:52893},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:52893})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52893})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:52893}}}),1)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:52893}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:52893}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:30591}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:30591}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:21325},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:21325})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21325})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:21325}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:57022},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"m",vl:57022})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:57022})
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:21325}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:21325}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:64634},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:64634})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64634})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:64634}}}),1)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:52474},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:52474})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52474})
}
> cl_chans.send(0,{tx:6,bd:{vl:0}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:64634}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:64634}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(0),8)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),8)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:52474}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),52474)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),52474)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:52474}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:29057},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:29057})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29057})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:55473},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:55473})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55473})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(1),9)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),9)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),52474)
  write(ref.txres(10),{vl:52474})
  write(ref.committed(10),1)
}
> cl_chans.send(0,{tx:10,bd:{vl:52474}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:52474}},0),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:52474}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:52474}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:29057}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),29057)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),29057)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:29057}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:29077},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:29077})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29077})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:29077}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:64080},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:64080})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64080})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:64080}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:29077}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:29077}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),29057)
  write(response.bd(loc:res),{vl:29057})
  write(response_body.vl(fml:out),29057)
  write(ref.txres(11),{vl:29057})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:29057}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:64080}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:64080}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),29057)
  write(response.bd(loc:res),{vl:29057})
  write(response_body.vl(fml:out),29057)
  write(ref.txres(12),{vl:29057})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:29057}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:36760},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:36760})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36760})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:36760}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:17057},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:17057})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:17057})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:17057}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:29577},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:29577})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29577})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:29577}}}),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:29057}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:29057}},0),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:17057}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:17057}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:62949},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:62949})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62949})
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(2),14)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),14)
  write(mid_spec.queue.head,3)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:17057}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),17057)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),17057)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:17057}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:62078},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:62078})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:62078})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:62078}}}),1)
}
> cl_chans.send(0,{tx:16,bd:{vl:0}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:63016},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:63016})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:63016})
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:29577}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:29577}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),17057)
  write(response.bd(loc:res),{vl:17057})
  write(response_body.vl(fml:out),17057)
  write(ref.txres(15),{vl:17057})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:17057}},0),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(3),18)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),18)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(1,{tx:12,bd:{vl:29057}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:29057}},1),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(4),17)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),17)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(0,{tx:15,bd:{vl:17057}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:17057}},0),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:62078}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:62078}}}),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:63016}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),63016)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),63016)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:63016}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:47690},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:47690})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:47690})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:47690}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:17622},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:17622})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17622})
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),63016)
  write(ref.txres(20),{vl:63016})
  write(ref.committed(20),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:58330},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:58330})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:58330})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:62078}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),62078)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),62078)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:62078}}})
{
  write(mid_spec.acked(17),1)
}
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),63016)
  write(ref.txres(21),{vl:63016})
  write(ref.committed(21),1)
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:20445},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:20445})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20445})
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),63016)
  write(ref.txres(22),{vl:63016})
  write(ref.committed(22),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:13956},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:13956})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13956})
}
> cl_chans.send(0,{tx:22,bd:{vl:63016}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:63016}},0),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:63016}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:63016}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:47690}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:47690}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),63016)
  write(response.bd(loc:res),{vl:63016})
  write(response_body.vl(fml:out),63016)
  write(ref.txres(19),{vl:63016})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:63016}},0),1)
}
> cl_chans.send(1,{tx:20,bd:{vl:63016}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:63016}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:17949},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:17949})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:17949})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:17949}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:19299},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:19299})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:19299})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:54559},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:54559})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54559})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:54559}}}),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:63016}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:63016}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:36760}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:36760}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),63016)
  write(response.bd(loc:res),{vl:63016})
  write(response_body.vl(fml:out),63016)
  write(ref.txres(13),{vl:63016})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:63016}},0),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(5),25)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),25)
  write(mid_spec.queue.head,6)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),62078)
  write(ref.txres(23),{vl:62078})
  write(ref.committed(23),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:16704},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:16704})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16704})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:16704}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:19299}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),25)
  write(sec.rep.store("wrsylb"),19299)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),19299)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:19299}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl_chans.send(1,{tx:21,bd:{vl:63016}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:63016}},1),1)
}
> cl_chans.send(1,{tx:23,bd:{vl:62078}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:62078}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:19711},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"m",vl:19711})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:19711})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:read,ky:"m",vl:19711}}}),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:63016}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:63016}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:12877},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:write,ky:"m",vl:12877})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:12877})
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:54559}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"wrsylb",vl:54559}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),19299)
  write(response.bd(loc:res),{vl:19299})
  write(response_body.vl(fml:out),19299)
  write(ref.txres(26),{vl:19299})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:19299}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:28,bd:{knd:read,ky:"m",vl:19711}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:read,ky:"m",vl:19711}}}),0)
  write(response.tx(loc:res),28)
  write(response_body.vl(fml:out),62078)
  write(response.bd(loc:res),{vl:62078})
  write(response_body.vl(fml:out),62078)
  write(ref.txres(28),{vl:62078})
  write(ref.committed(28),1)
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:62078}},0),1)
}
> cl_chans.recv(1,{tx:21,bd:{vl:63016}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:63016}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:17949}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:17949}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),62078)
  write(response.bd(loc:res),{vl:62078})
  write(response_body.vl(fml:out),62078)
  write(ref.txres(24),{vl:62078})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:62078}},0),1)
}
> ser.serialize(29)
{
  write(ser.serialized(29),1)
  write(ser.queue.contents(6),29)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),29)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(1,{tx:23,bd:{vl:62078}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:62078}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:33359},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(30),{knd:read,ky:"wrsylb",vl:33359})
  write(ref.next,31)
  write(mid_spec.req_dest(30),sec)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:33359})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:30,bd:{knd:read,ky:"wrsylb",vl:33359}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:30,bd:{knd:read,ky:"wrsylb",vl:33359}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:30,bd:{knd:read,ky:"wrsylb",vl:33359}}}),0)
  write(response.tx(loc:res),30)
  write(response_body.vl(fml:out),19299)
  write(response.bd(loc:res),{vl:19299})
  write(response_body.vl(fml:out),19299)
  write(ref.txres(30),{vl:19299})
  write(ref.committed(30),1)
  write(service_spec.responded(30),1)
  write(cl_chans.spec.sent({tx:30,bd:{vl:19299}},0),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:4281},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:4281})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4281})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:57331},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:57331})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:57331})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:57331}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:57331}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:57331}}}),0)
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:30887},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"m",vl:30887})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30887})
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:57560},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"m",vl:57560})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:57560})
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(0),3)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),3)
  write(mid_spec.queue.head,1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:57560}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),57560)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),57560)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:57560}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:11960},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:11960})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11960})
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:21908},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:21908})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:21908})
}
> cl_chans.send(1,{tx:4,bd:{vl:0}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:57331}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),57331)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),57331)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:57331}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.send(0,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30618},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:30618})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30618})
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(2),6)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),6)
  write(mid_spec.queue.head,3)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30618}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),30618)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),30618)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:30618}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:21908}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),21908)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),21908)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:21908}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:31507},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:31507})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31507})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:31507}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:31507}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:31507}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),30618)
  write(response.bd(loc:res),{vl:30618})
  write(response_body.vl(fml:out),30618)
  write(ref.txres(7),{vl:30618})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:30618}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:6774},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:6774})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6774})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:6774}}}),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:30618}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:30618}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:6774}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:6774}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),30618)
  write(response.bd(loc:res),{vl:30618})
  write(response_body.vl(fml:out),30618)
  write(ref.txres(8),{vl:30618})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:30618}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:49466},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"m",vl:49466})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49466})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:49466}}}),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:30618}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:30618}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:62865},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:62865})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:62865})
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:49466}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:49466}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),21908)
  write(response.bd(loc:res),{vl:21908})
  write(response_body.vl(fml:out),21908)
  write(ref.txres(9),{vl:21908})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:21908}},0),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(4),10)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),10)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:62865}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),62865)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),62865)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:62865}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:20020},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:20020})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20020})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20020}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(0,{tx:9,bd:{vl:21908}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:21908}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20020}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),20020)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),20020)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20020}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:52041},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:52041})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:52041})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:52041}}}),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:52041}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:52041}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),21908)
  write(response.bd(loc:res),{vl:21908})
  write(response_body.vl(fml:out),21908)
  write(ref.txres(12),{vl:21908})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:21908}},1),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:21908}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:21908}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20020}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:20020}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:19853},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:19853})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:19853})
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),21908)
  write(ref.txres(13),{vl:21908})
  write(ref.committed(13),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:12130},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:12130})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12130})
}
> cl_chans.send(1,{tx:13,bd:{vl:21908}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:21908}},1),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:read,ky:"m",vl:63358},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:63358})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:63358})
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),21908)
  write(ref.txres(15),{vl:21908})
  write(ref.committed(15),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:21908}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:21908}},1),0)
}
> cl_chans.send(0,{tx:15,bd:{vl:21908}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:21908}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:12130}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),12130)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),12130)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:12130}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(0,{tx:15,bd:{vl:21908}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:21908}},0),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:28481},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:28481})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:28481})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:28481}}}),1)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(7),16)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),16)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:42645},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:42645})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:42645})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:42645}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> cl.client_request(0,{knd:write,ky:"m",vl:25030},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:25030})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:25030})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:25030}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:28481}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),28481)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),28481)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:28481}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:24327},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:24327})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24327})
}
> cl.client_request(1,{knd:write,ky:"m",vl:18892},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"m",vl:18892})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18892})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:18892}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:28481}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:28481}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:18892}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:18892}}}),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:42645}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:42645}}}),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(9),20)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),20)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:25030}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:25030}}}),0)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),21908)
  write(ref.txres(19),{vl:21908})
  write(ref.committed(19),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:53174},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"m",vl:53174})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:53174})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:53174}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:53174}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:53174}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:48694},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:48694})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48694})
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(10),22)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),22)
  write(mid_spec.queue.head,11)
}
> cl_chans.send(0,{tx:19,bd:{vl:21908}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:21908}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:42645}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),42645)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),42645)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:42645}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(0,{tx:19,bd:{vl:21908}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:21908}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:18892}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),18892)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),18892)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:18892}}})
{
  write(mid_spec.acked(20),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:48694}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),48694)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),48694)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:48694}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:20440},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:20440})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:20440})
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:49252},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:49252})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49252})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:49252}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:35497},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:35497})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35497})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:35497}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:49252}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:49252}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),48694)
  write(response.bd(loc:res),{vl:48694})
  write(response_body.vl(fml:out),48694)
  write(ref.txres(24),{vl:48694})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:48694}},0),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(11),23)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),23)
  write(mid_spec.queue.head,12)
}
> cl.client_request(1,{knd:read,ky:"m",vl:6992},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:6992})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6992})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:6992}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:6992}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:6992}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),48694)
  write(response.bd(loc:res),{vl:48694})
  write(response_body.vl(fml:out),48694)
  write(ref.txres(26),{vl:48694})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:48694}},1),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(12),21)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),21)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(1,{tx:26,bd:{vl:48694}})
{
  write(cl_chans.spec.sent({tx:26,bd:{vl:48694}},1),0)
}
> cl_chans.recv(0,{tx:24,bd:{vl:48694}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:48694}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:26513},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"m",vl:26513})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26513})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"m",vl:26513}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:46873},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:46873})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46873})
}
> cl.client_request(0,{knd:write,ky:"m",vl:13130},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:13130})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:13130})
}
> cl.client_request(0,{knd:write,ky:"m",vl:58787},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:58787})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58787})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:33411},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:33411})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33411})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:33411}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:46873}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),46873)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),46873)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:46873}}})
{
  write(mid_spec.acked(0),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:58787}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),58787)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),58787)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:58787}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:33411}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:33411}}}),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(3),1)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),1)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:33411}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),33411)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),33411)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:33411}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:45911},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:45911})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45911})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:45911}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:45911}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:45911}}}),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:13130}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),13130)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),13130)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:13130}}})
{
  write(mid_spec.acked(1),1)
}
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(4),4)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),4)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:45911}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),45911)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),45911)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:45911}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:22164},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:22164})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22164})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:22164}}}),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:22164}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:22164}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9302},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:9302})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9302})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:57225},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:57225})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57225})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:57225}}}),1)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),45911)
  write(ref.txres(6),{vl:45911})
  write(ref.committed(6),1)
}
> cl_chans.send(0,{tx:6,bd:{vl:45911}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:45911}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:57225}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:57225}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),45911)
  write(response.bd(loc:res),{vl:45911})
  write(response_body.vl(fml:out),45911)
  write(ref.txres(7),{vl:45911})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:45911}},1),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:45911}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:45911}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:24471},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:24471})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24471})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:24471}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:24471}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:24471}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),13130)
  write(response.bd(loc:res),{vl:13130})
  write(response_body.vl(fml:out),13130)
  write(ref.txres(8),{vl:13130})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:13130}},1),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(5),5)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),5)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(1,{tx:7,bd:{vl:45911}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:45911}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:24085},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:24085})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24085})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(6),9)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),9)
  write(mid_spec.queue.head,7)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54512},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:54512})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54512})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:54512}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:22164}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),22164)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),22164)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:22164}}})
{
  write(mid_spec.acked(5),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:24085}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),24085)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),24085)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:24085}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(7),10)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),10)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:31288},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:31288})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31288})
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),24085)
  write(ref.txres(11),{vl:24085})
  write(ref.committed(11),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:48952},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:48952})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48952})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:48952}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:14954},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:14954})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14954})
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:48952}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:48952}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),22164)
  write(response.bd(loc:res),{vl:22164})
  write(response_body.vl(fml:out),22164)
  write(ref.txres(12),{vl:22164})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:22164}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:54512}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),54512)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),54512)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:54512}}})
{
  write(mid_spec.acked(10),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:54512}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:54512}}}),0)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),54512)
  write(ref.txres(13),{vl:54512})
  write(ref.committed(13),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:65067},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:65067})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:65067})
}
> cl_chans.recv(1,{tx:8,bd:{vl:13130}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:13130}},1),0)
}
> cl_chans.send(0,{tx:13,bd:{vl:54512}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:54512}},0),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:22164}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:22164}},0),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:54512}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:54512}},0),0)
}
> cl_chans.send(1,{tx:11,bd:{vl:24085}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:24085}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:24085}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:24085}},1),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(8),14)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),14)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:65067}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),65067)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),65067)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:65067}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:50090},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:50090})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50090})
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),54512)
  write(ref.txres(15),{vl:54512})
  write(ref.committed(15),1)
}
> cl_chans.send(0,{tx:15,bd:{vl:54512}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:54512}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:58680},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:58680})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58680})
}
> cl_chans.recv(0,{tx:15,bd:{vl:54512}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:54512}},0),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(9),16)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),16)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:58680}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),58680)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),58680)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:58680}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:34939},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:34939})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:34939})
}
> cl.client_request(1,{knd:write,ky:"m",vl:21476},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"m",vl:21476})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:21476})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:21476}}}),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(10),18)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),18)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:21476}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),21476)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),21476)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:21476}}})
{
  write(mid_spec.acked(18),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:21476}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:21476}}}),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),21476)
  write(ref.txres(17),{vl:21476})
  write(ref.committed(17),1)
}
> cl_chans.send(0,{tx:17,bd:{vl:21476}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:21476}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:8814},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:8814})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:8814})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:58903},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:58903})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:58903})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:58903}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(11),20)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),20)
  write(mid_spec.queue.head,12)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(12),19)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),19)
  write(mid_spec.queue.head,13)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:58903}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:58903}}}),0)
}
> cl_chans.recv(0,{tx:17,bd:{vl:21476}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:21476}},0),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:60457},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:60457})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60457})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:58903}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),58903)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),58903)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:58903}}})
{
  write(mid_spec.acked(20),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:8814}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),8814)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),8814)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:8814}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:23840},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:23840})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23840})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:23840}}}),1)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),21476)
  write(ref.txres(21),{vl:21476})
  write(ref.committed(21),1)
}
> cl_chans.send(0,{tx:21,bd:{vl:21476}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:21476}},0),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:21476}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:21476}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:39350},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:39350})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39350})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:39350}}}),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(13),23)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),23)
  write(mid_spec.queue.head,14)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:39350}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:39350}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:23840}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:23840}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),21476)
  write(response.bd(loc:res),{vl:21476})
  write(response_body.vl(fml:out),21476)
  write(ref.txres(22),{vl:21476})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:21476}},0),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:21476}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:21476}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:52261},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:52261})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:52261})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:52261}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:39350}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),39350)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),39350)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:39350}}})
{
  write(mid_spec.acked(23),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:52261}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"m",vl:52261}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),21476)
  write(response.bd(loc:res),{vl:21476})
  write(response_body.vl(fml:out),21476)
  write(ref.txres(24),{vl:21476})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:21476}},0),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:49055},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:49055})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49055})
}
> cl.client_request(1,{knd:read,ky:"m",vl:21113},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:21113})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21113})
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:11139},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:11139})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11139})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:11139}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:11139}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:11139}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:44505},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:44505})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44505})
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:41387},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:41387})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41387})
}
> cl.client_request(1,{knd:write,ky:"m",vl:65091},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:65091})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:65091})
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(0),5)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),5)
  write(mid_spec.queue.head,1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:65091}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),65091)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),65091)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:65091}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:59541},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:59541})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59541})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:59541}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:59541}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:59541}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:52024},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:52024})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52024})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:52024}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:19759},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:19759})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19759})
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:52024}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:52024}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(2),8)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),8)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:41387}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),41387)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),41387)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:41387}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:31141},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:31141})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31141})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:19759}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),19759)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),19759)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:19759}}})
{
  write(mid_spec.acked(8),1)
}
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
}
> cl_chans.send(1,{tx:9,bd:{vl:0}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:60178},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:60178})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:60178})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:60178}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:30429},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:30429})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30429})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:10692},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:10692})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:10692})
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:60178}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:60178}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:37695},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:37695})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:37695})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9298},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:9298})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9298})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:9298}}}),1)
}
> cl_chans.send(0,{tx:12,bd:{vl:0}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:9298}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:9298}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:57673},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:57673})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:57673})
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),19759)
  write(ref.txres(13),{vl:19759})
  write(ref.committed(13),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(3),15)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),15)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:57673}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),57673)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),57673)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:57673}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:5002},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"m",vl:5002})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5002})
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:29967},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:29967})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29967})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:77},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:77})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:77})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:77}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:26972},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:26972})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:26972})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),57673)
  write(ref.txres(17),{vl:57673})
  write(ref.committed(17),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:77}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:77}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(4),19)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),19)
  write(mid_spec.queue.head,5)
}
> cl_chans.send(0,{tx:11,bd:{vl:0}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
}
> cl_chans.send(0,{tx:17,bd:{vl:57673}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:57673}},0),1)
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(5),16)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),16)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:read,ky:"m",vl:3587},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:3587})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3587})
}
> cl_chans.recv(0,{tx:17,bd:{vl:57673}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:57673}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:61095},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"m",vl:61095})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61095})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:61095}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:26972}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),26972)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),26972)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:26972}}})
{
  write(mid_spec.acked(19),1)
}
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(6),21)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),21)
  write(mid_spec.queue.head,7)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),26972)
  write(ref.txres(20),{vl:26972})
  write(ref.committed(20),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:15949},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"m",vl:15949})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15949})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:5002}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),5002)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),5002)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:5002}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.send(0,{tx:20,bd:{vl:26972}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:26972}},0),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(7),22)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),22)
  write(mid_spec.queue.head,8)
}
> cl.client_request(1,{knd:write,ky:"m",vl:30666},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:30666})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:30666})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:20336},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:20336})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20336})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:20336}}}),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(8),23)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),23)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:20,bd:{vl:26972}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:26972}},0),0)
}
> cl_chans.send(0,{tx:13,bd:{vl:19759}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:19759}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:61095}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),61095)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),61095)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:61095}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:6578},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:6578})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6578})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:6578}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:15949}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),15949)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),15949)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:15949}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:29120},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:29120})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29120})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:29120}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:30666}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),30666)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),30666)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"m",vl:30666}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:6806},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"m",vl:6806})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6806})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"m",vl:6806}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:21853},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"wrsylb",vl:21853})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21853})
}
> cl_chans.recv(0,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:8439},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:read,ky:"m",vl:8439})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8439})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:read,ky:"m",vl:8439}}}),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:19759}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:19759}},0),0)
}
> ser.serialize(28)
{
  write(ser.serialized(28),1)
  write(ser.queue.contents(9),28)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),28)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:61095}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:61095}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:28,bd:{knd:write,ky:"wrsylb",vl:21853}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),28)
  write(sec.rep.store("wrsylb"),21853)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),21853)
  write(ref.txres(28),{vl:0})
  write(ref.committed(28),1)
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:28,bd:{knd:write,ky:"wrsylb",vl:21853}}})
{
  write(mid_spec.acked(28),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:7197},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(30),{knd:read,ky:"wrsylb",vl:7197})
  write(ref.next,31)
  write(mid_spec.req_dest(30),prim)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7197})
}
> ref.commit(30,prim)
{
  write(response_body.vl(fml:out),21853)
  write(ref.txres(30),{vl:21853})
  write(ref.committed(30),1)
}
> cl_chans.send(1,{tx:30,bd:{vl:21853}})
{
  write(service_spec.responded(30),1)
  write(cl_chans.spec.sent({tx:30,bd:{vl:21853}},1),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:30,bd:{vl:21853}})
{
  write(cl_chans.spec.sent({tx:30,bd:{vl:21853}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:28770},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:28770})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28770})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:28770}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:28770}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:28770}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:16063},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:16063})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:16063})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:16063}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:8165},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:8165})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:8165})
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:16063}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:16063}}}),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:8165}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),8165)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),8165)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:8165}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:16063}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),16063)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),16063)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:16063}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:38993},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:38993})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:38993})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:38993}}}),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:38993}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:38993}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:38993}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),38993)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),38993)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:38993}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:51379},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:51379})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51379})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:51379}}}),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:39640},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:39640})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39640})
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:51379}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:51379}}}),0)
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),8165)
  write(ref.txres(5),{vl:8165})
  write(ref.committed(5),1)
}
> cl_chans.send(0,{tx:5,bd:{vl:8165}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:8165}},0),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:8165}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:8165}},0),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(3),4)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),4)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:51379}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),51379)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),51379)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:51379}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:23297},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:23297})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23297})
}
> cl.client_request(0,{knd:write,ky:"m",vl:41599},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:41599})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41599})
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(5),6)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),6)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:41599}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),41599)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),41599)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:41599}}})
{
  write(mid_spec.acked(7),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:23297}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),23297)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),23297)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:23297}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:4320},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:4320})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:4320})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:4320}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:31362},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:31362})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:31362})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(6),9)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),9)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:4320}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:4320}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:31362}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),31362)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),31362)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:31362}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(7),8)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),8)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:4320}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),4320)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),4320)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:4320}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:8565},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:8565})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:8565})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:8565}}}),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(8),10)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),10)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:8565}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),8565)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),8565)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:8565}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:62324},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:62324})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62324})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:62324}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:62324}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"m",vl:62324}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),8565)
  write(response.bd(loc:res),{vl:8565})
  write(response_body.vl(fml:out),8565)
  write(ref.txres(11),{vl:8565})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:8565}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:49537},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:49537})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49537})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:49537}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:64483},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:64483})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64483})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:44877},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:44877})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:44877})
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),8565)
  write(ref.txres(13),{vl:8565})
  write(ref.committed(13),1)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:49537}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:49537}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),4320)
  write(response.bd(loc:res),{vl:4320})
  write(response_body.vl(fml:out),4320)
  write(ref.txres(12),{vl:4320})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:4320}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:17124},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:17124})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17124})
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:8565}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:8565}}}),0)
}
> cl_chans.send(1,{tx:13,bd:{vl:8565}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:8565}},1),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:8565}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:8565}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:4320}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:4320}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:64378},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:64378})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64378})
}
> cl.client_request(1,{knd:write,ky:"m",vl:56474},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"m",vl:56474})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:56474})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:56474}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:56474}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:56474}}}),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:8565}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:8565}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:59047},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"m",vl:59047})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59047})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:59047}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:51964},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:51964})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51964})
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),8565)
  write(ref.txres(19),{vl:8565})
  write(ref.committed(19),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(9),17)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),17)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:59047}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:59047}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),8565)
  write(response.bd(loc:res),{vl:8565})
  write(response_body.vl(fml:out),8565)
  write(ref.txres(18),{vl:8565})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:8565}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:56474}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),56474)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),56474)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:56474}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.send(0,{tx:19,bd:{vl:8565}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:8565}},0),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:8565}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:8565}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:30219},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:30219})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30219})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30219}}}),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30219}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:30219}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),4320)
  write(response.bd(loc:res),{vl:4320})
  write(response_body.vl(fml:out),4320)
  write(ref.txres(20),{vl:4320})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:4320}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:27387},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"m",vl:27387})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27387})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:27387}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:27387}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:27387}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:39126},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:39126})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39126})
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),56474)
  write(ref.txres(22),{vl:56474})
  write(ref.committed(22),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:56388},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:56388})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:56388})
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(10),23)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),23)
  write(mid_spec.queue.head,11)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(11),21)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),21)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:56388}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),56388)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),56388)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:56388}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:8473},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:8473})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:8473})
}
> cl_chans.recv(1,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:27387}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),27387)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),27387)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:27387}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl_chans.send(0,{tx:22,bd:{vl:56474}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:56474}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:37792},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:37792})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37792})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:37792}}}),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(12),24)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),24)
  write(mid_spec.queue.head,13)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(13),16)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),16)
  write(mid_spec.queue.head,14)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(14),15)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),15)
  write(mid_spec.queue.head,15)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:8473}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),8473)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),8473)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:8473}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl_chans.recv(1,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(15),14)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),14)
  write(mid_spec.queue.head,16)
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:37792}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:37792}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),56388)
  write(response.bd(loc:res),{vl:56388})
  write(response_body.vl(fml:out),56388)
  write(ref.txres(25),{vl:56388})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:56388}},1),1)
}
> cl_chans.recv(1,{tx:25,bd:{vl:56388}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:56388}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:27735},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:27735})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27735})
}
> cl_chans.recv(0,{tx:22,bd:{vl:56474}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:56474}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:64378}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),64378)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),64378)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:64378}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:13757},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"m",vl:13757})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:13757})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:write,ky:"m",vl:13757}}}),1)
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(16),27)
  write(ser.queue.head,17)
  write(mid_spec.queue.contents(16),27)
  write(mid_spec.queue.head,17)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:5085},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:write,ky:"wrsylb",vl:5085})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:5085})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:14191},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:14191})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14191})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:19593},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:19593})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:19593})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:19593}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:19593}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:19593}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:58415},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:58415})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:58415})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:58415}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:36763},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:36763})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36763})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:36763}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:36763}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:36763}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:58415}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:58415}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:27901},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:27901})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:27901})
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(0),3)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),3)
  write(mid_spec.queue.head,1)
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
}
> cl_chans.send(0,{tx:4,bd:{vl:0}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:36763}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),36763)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),36763)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:36763}}})
{
  write(mid_spec.acked(3),1)
}
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:17246},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:17246})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:17246})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:58415}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),58415)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),58415)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:58415}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),36763)
  write(ref.txres(5),{vl:36763})
  write(ref.committed(5),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:65224},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:65224})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:65224})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:65224}}}),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(2),6)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),6)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:15905},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:15905})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:15905})
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),58415)
  write(ref.txres(7),{vl:58415})
  write(ref.committed(7),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:29087},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:29087})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29087})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:29087}}}),1)
}
> cl_chans.send(1,{tx:5,bd:{vl:36763}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:36763}},1),1)
}
> cl_chans.send(0,{tx:7,bd:{vl:58415}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:58415}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:65224}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:65224}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:39031},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:39031})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:39031})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:39031}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:29087}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:29087}}}),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:read,ky:"m",vl:48744},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:48744})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48744})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:65224}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),65224)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),65224)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:65224}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:45646},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:45646})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:45646})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:45646}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:27530},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:27530})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27530})
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:45646}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:45646}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),58415)
  write(response.bd(loc:res),{vl:58415})
  write(response_body.vl(fml:out),58415)
  write(ref.txres(11),{vl:58415})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:58415}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:29087}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),29087)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),29087)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:29087}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:290},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:290})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:290})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:290}}}),1)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),65224)
  write(ref.txres(12),{vl:65224})
  write(ref.committed(12),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:36763}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:36763}},1),0)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),65224)
  write(ref.txres(10),{vl:65224})
  write(ref.committed(10),1)
}
> cl_chans.send(0,{tx:10,bd:{vl:65224}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:65224}},0),1)
}
> cl_chans.send(1,{tx:12,bd:{vl:65224}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:65224}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:25180},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:25180})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:25180})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:25180}}}),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:65224}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:65224}},0),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:58415}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:58415}},0),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(4),14)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),14)
  write(mid_spec.queue.head,5)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:25180}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:25180}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:4246},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:4246})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4246})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:4246}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:6150},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:6150})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6150})
}
> cl_chans.recv(1,{tx:12,bd:{vl:65224}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:65224}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:4246}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:4246}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),65224)
  write(response.bd(loc:res),{vl:65224})
  write(response_body.vl(fml:out),65224)
  write(ref.txres(15),{vl:65224})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:65224}},0),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:290}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:290}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),29087)
  write(response.bd(loc:res),{vl:29087})
  write(response_body.vl(fml:out),29087)
  write(ref.txres(13),{vl:29087})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:29087}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:48255},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:48255})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48255})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:48255}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:25180}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),25180)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),25180)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:25180}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:64571},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:64571})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64571})
}
> cl.client_request(1,{knd:read,ky:"m",vl:22539},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:22539})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22539})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:22539}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:17243},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"m",vl:17243})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:17243})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:17243}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:48255}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:48255}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),29087)
  write(response.bd(loc:res),{vl:29087})
  write(response_body.vl(fml:out),29087)
  write(ref.txres(17),{vl:29087})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:29087}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:22539}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:22539}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),25180)
  write(response.bd(loc:res),{vl:25180})
  write(response_body.vl(fml:out),25180)
  write(ref.txres(19),{vl:25180})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:25180}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:39031}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:39031}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),29087)
  write(response.bd(loc:res),{vl:29087})
  write(response_body.vl(fml:out),29087)
  write(ref.txres(9),{vl:29087})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:29087}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:17243}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:17243}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),25180)
  write(response.bd(loc:res),{vl:25180})
  write(response_body.vl(fml:out),25180)
  write(ref.txres(20),{vl:25180})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:25180}},1),1)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),29087)
  write(ref.txres(18),{vl:29087})
  write(ref.committed(18),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:52483},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:52483})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52483})
}
> cl_chans.send(0,{tx:18,bd:{vl:29087}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:29087}},0),1)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),25180)
  write(ref.txres(16),{vl:25180})
  write(ref.committed(16),1)
}
> cl_chans.send(1,{tx:16,bd:{vl:25180}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:25180}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:30605},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:30605})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30605})
}
> cl_chans.recv(1,{tx:19,bd:{vl:25180}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:25180}},1),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:65224}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:65224}},0),0)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),29087)
  write(ref.txres(21),{vl:29087})
  write(ref.committed(21),1)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),29087)
  write(ref.txres(22),{vl:29087})
  write(ref.committed(22),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:47580},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:47580})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47580})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"m",vl:47580}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"m",vl:47580}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"m",vl:47580}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),25180)
  write(response.bd(loc:res),{vl:25180})
  write(response_body.vl(fml:out),25180)
  write(ref.txres(23),{vl:25180})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:25180}},1),1)
}
> cl_chans.recv(1,{tx:23,bd:{vl:25180}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:25180}},1),0)
}
> cl_chans.recv(0,{tx:18,bd:{vl:29087}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:29087}},0),0)
}
> cl_chans.send(1,{tx:22,bd:{vl:29087}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:29087}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:58415}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:58415}},1),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:29087}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:29087}},1),0)
}
> cl_chans.send(1,{tx:21,bd:{vl:29087}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:29087}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:36486},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:36486})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36486})
}
> cl_chans.recv(0,{tx:17,bd:{vl:29087}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:29087}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:2419},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:2419})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:2419})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:50155},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:50155})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50155})
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(5),26)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),26)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:50155}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),26)
  write(sec.rep.store("wrsylb"),50155)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),50155)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:50155}}})
{
  write(mid_spec.acked(26),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:64109},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:64109})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64109})
}
> cl_chans.recv(1,{tx:21,bd:{vl:29087}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:29087}},1),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:29087}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:29087}},1),0)
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(6),27)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),27)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:64109}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),27)
  write(sec.rep.store("wrsylb"),64109)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),64109)
  write(ref.txres(27),{vl:0})
  write(ref.committed(27),1)
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:64109}}})
{
  write(mid_spec.acked(27),1)
}
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),25180)
  write(ref.txres(24),{vl:25180})
  write(ref.committed(24),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(7),25)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),25)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:2419}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),2419)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),2419)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:2419}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl_chans.recv(1,{tx:25,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:5168},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:5168})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:5168})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:5168}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:5168}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"m",vl:5168}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:61990},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:61990})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61990})
}
> cl.client_request(0,{knd:write,ky:"m",vl:4578},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:4578})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4578})
}
> cl.client_request(1,{knd:write,ky:"m",vl:11589},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"m",vl:11589})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11589})
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:4578}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),4578)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),4578)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:4578}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:18425},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:18425})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18425})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:18425}}}),1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:12777},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:12777})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:12777})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:12777}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:12777}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:12777}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:53058},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:53058})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:53058})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:46276},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:46276})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:46276})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:46276}}}),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(1),6)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),6)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:53058}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),53058)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),53058)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:53058}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:46276}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:46276}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),53058)
  write(response.bd(loc:res),{vl:53058})
  write(response_body.vl(fml:out),53058)
  write(ref.txres(7),{vl:53058})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:53058}},1),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:53058}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:53058}},1),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(3),1)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),1)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:11589}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),11589)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),11589)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:11589}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:25700},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:25700})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25700})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:61990}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),61990)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),61990)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:61990}}})
{
  write(mid_spec.acked(1),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:18425}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:18425}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),11589)
  write(response.bd(loc:res),{vl:11589})
  write(response_body.vl(fml:out),11589)
  write(ref.txres(4),{vl:11589})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:11589}},0),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:11589}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:11589}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:11536},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:11536})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11536})
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),61990)
  write(ref.txres(8),{vl:61990})
  write(ref.committed(8),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:36965},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:36965})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36965})
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(4),9)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),9)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:52163},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:52163})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52163})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:52163}}}),1)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),11589)
  write(ref.txres(10),{vl:11589})
  write(ref.committed(10),1)
}
> cl_chans.send(1,{tx:10,bd:{vl:11589}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:11589}},1),1)
}
> cl_chans.send(1,{tx:8,bd:{vl:61990}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:61990}},1),1)
}
> cl_chans.recv(1,{tx:8,bd:{vl:61990}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:61990}},1),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:11589}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:11589}},1),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:52163}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:52163}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),61990)
  write(response.bd(loc:res),{vl:61990})
  write(response_body.vl(fml:out),61990)
  write(ref.txres(11),{vl:61990})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:61990}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:29762},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:29762})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29762})
}
> cl.client_request(0,{knd:write,ky:"m",vl:65347},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:65347})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:65347})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:65347}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(5),13)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),13)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:11536}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),11536)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),11536)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:11536}}})
{
  write(mid_spec.acked(9),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:65347}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:65347}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:65347}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),65347)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),65347)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:65347}}})
{
  write(mid_spec.acked(13),1)
}
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),11536)
  write(ref.txres(12),{vl:11536})
  write(ref.committed(12),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:32670},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:32670})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32670})
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:31420},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:31420})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31420})
}
> cl_chans.recv(0,{tx:11,bd:{vl:61990}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:61990}},0),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),65347)
  write(ref.txres(15),{vl:65347})
  write(ref.committed(15),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:32670}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),32670)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),32670)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:32670}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:62888},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"m",vl:62888})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:62888})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:63138},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:63138})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:63138})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:63138}}}),1)
}
> cl_chans.send(1,{tx:15,bd:{vl:65347}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:65347}},1),1)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(7),16)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),16)
  write(mid_spec.queue.head,8)
}
> cl_chans.send(0,{tx:12,bd:{vl:11536}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:11536}},0),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:11536}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:11536}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:63138}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:63138}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),11536)
  write(response.bd(loc:res),{vl:11536})
  write(response_body.vl(fml:out),11536)
  write(ref.txres(17),{vl:11536})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:11536}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:62888}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),62888)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),62888)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:62888}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:33190},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:33190})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33190})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:33190}}}),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(8),18)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),18)
  write(mid_spec.queue.head,9)
}
> cl.client_request(0,{knd:read,ky:"m",vl:10964},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:10964})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10964})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:10964}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:26820},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:26820})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:26820})
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),11536)
  write(ref.txres(20),{vl:11536})
  write(ref.committed(20),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:2479},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"m",vl:2479})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:2479})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:50272},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:50272})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50272})
}
> cl.client_request(0,{knd:read,ky:"m",vl:13587},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:13587})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13587})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:13587}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:33190}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),33190)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),33190)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:33190}}})
{
  write(mid_spec.acked(18),1)
}
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),33190)
  write(ref.txres(22),{vl:33190})
  write(ref.committed(22),1)
}
> cl_chans.send(1,{tx:20,bd:{vl:11536}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:11536}},1),1)
}
> cl_chans.send(0,{tx:22,bd:{vl:33190}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:33190}},0),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:33190}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:33190}},0),0)
}
> cl_chans.recv(1,{tx:15,bd:{vl:65347}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:65347}},1),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:10964}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:10964}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),62888)
  write(response.bd(loc:res),{vl:62888})
  write(response_body.vl(fml:out),62888)
  write(ref.txres(19),{vl:62888})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:62888}},0),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(9),21)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),21)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:19,bd:{vl:62888}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:62888}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:44891},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:44891})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44891})
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:33190}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:33190}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:16158},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:16158})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16158})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:16158}}}),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:11536}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:11536}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:13587}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:13587}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),62888)
  write(response.bd(loc:res),{vl:62888})
  write(response_body.vl(fml:out),62888)
  write(ref.txres(23),{vl:62888})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:62888}},0),1)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),62888)
  write(ref.txres(24),{vl:62888})
  write(ref.committed(24),1)
}
> cl_chans.send(1,{tx:24,bd:{vl:62888}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:62888}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:16158}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:16158}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),33190)
  write(response.bd(loc:res),{vl:33190})
  write(response_body.vl(fml:out),33190)
  write(ref.txres(25),{vl:33190})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:33190}},0),1)
}
> cl_chans.recv(1,{tx:24,bd:{vl:62888}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:62888}},1),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:11536}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:11536}},1),0)
}
> cl_chans.recv(0,{tx:25,bd:{vl:33190}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:33190}},0),0)
}
> cl_chans.recv(0,{tx:23,bd:{vl:62888}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:62888}},0),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:2479}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),2479)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),2479)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:2479}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:46392},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:46392})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:46392})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:5481},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:5481})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:5481})
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),33190)
  write(ref.txres(27),{vl:33190})
  write(ref.committed(27),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:6908},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"m",vl:6908})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6908})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:6908}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:27273},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:write,ky:"m",vl:27273})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27273})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:29,bd:{knd:write,ky:"m",vl:27273}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:5840},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:5840})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:5840})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:15161},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:15161})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:15161})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:33094},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:33094})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33094})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:51532},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:51532})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51532})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:51532}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:51532}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:51532}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:32264},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:32264})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32264})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:32264}}}),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(0),3)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),3)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:51532}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),51532)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),51532)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:51532}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:19840},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:19840})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:19840})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:19840}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:19840}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:19840}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:32264}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:32264}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),51532)
  write(response.bd(loc:res),{vl:51532})
  write(response_body.vl(fml:out),51532)
  write(ref.txres(4),{vl:51532})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:51532}},0),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:4,bd:{vl:51532}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:51532}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:63759},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:63759})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:63759})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:63759}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:57771},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:57771})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:57771})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:57771}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:33094}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),33094)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),33094)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:33094}}})
{
  write(mid_spec.acked(2),1)
}
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:63759}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:63759}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:57771}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:57771}}}),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(4),6)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),6)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:15161}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),15161)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),15161)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:15161}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:59195},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:59195})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59195})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:59195}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:59195}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:59195}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:57771}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),57771)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),57771)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:57771}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:13686},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"m",vl:13686})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13686})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:13686}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:63759}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),63759)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),63759)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:63759}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:20613},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:20613})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20613})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:20613}}}),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:11426},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:11426})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11426})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:11426}}}),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:11426}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:11426}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:11617},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:11617})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11617})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:11617}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:20613}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:20613}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),63759)
  write(response.bd(loc:res),{vl:63759})
  write(response_body.vl(fml:out),63759)
  write(ref.txres(10),{vl:63759})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:63759}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:36687},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:36687})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36687})
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:11617}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:11617}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),63759)
  write(response.bd(loc:res),{vl:63759})
  write(response_body.vl(fml:out),63759)
  write(ref.txres(12),{vl:63759})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:63759}},0),1)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:13686}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:13686}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:63759}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:63759}},0),0)
}
> cl_chans.send(1,{tx:13,bd:{vl:0}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:63759}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:63759}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:21804},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:21804})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21804})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:21804}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:45846},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:45846})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45846})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(5),15)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),15)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:45846}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),45846)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),45846)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:45846}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:48214},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:48214})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48214})
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:21804}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:21804}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),45846)
  write(response.bd(loc:res),{vl:45846})
  write(response_body.vl(fml:out),45846)
  write(ref.txres(14),{vl:45846})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:45846}},0),1)
}
> cl_chans.send(0,{tx:16,bd:{vl:0}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:45846}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:45846}},0),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:49852},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:49852})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49852})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:49852}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(6),17)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),17)
  write(mid_spec.queue.head,7)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:15607},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:15607})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:15607})
}
> cl.client_request(1,{knd:read,ky:"m",vl:23248},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:23248})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23248})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:23248}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:49852}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:49852}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:23248}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:23248}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:49852}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),49852)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),49852)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:49852}}})
{
  write(mid_spec.acked(17),1)
}
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),49852)
  write(ref.txres(18),{vl:49852})
  write(ref.committed(18),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:37663},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:37663})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37663})
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:28476},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:28476})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:28476})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:28476}}}),1)
}
> cl_chans.send(0,{tx:18,bd:{vl:49852}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:49852}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:28476}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:28476}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:55137},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:55137})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55137})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:55137}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:55137}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:55137}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(7),21)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),21)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(0,{tx:18,bd:{vl:49852}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:49852}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:4659},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:4659})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4659})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:28476}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),28476)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),28476)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:28476}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:8316},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:8316})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:8316})
}
> cl.client_request(1,{knd:write,ky:"m",vl:37817},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"m",vl:37817})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:37817})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:37817}}}),1)
}
> cl_chans.recv(1,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),0)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:37817}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:37817}}}),0)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(8),25)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),25)
  write(mid_spec.queue.head,9)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(9),24)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),24)
  write(mid_spec.queue.head,10)
}
> cl_chans.send(0,{tx:23,bd:{vl:0}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:36234},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:36234})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36234})
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(10),26)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),26)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(0,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(11),20)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),20)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:37817}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),37817)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),37817)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:37817}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:63415},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:63415})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:63415})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:63415}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:63415}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:63415}}}),0)
  write(response.tx(loc:res),27)
  write(response_body.vl(fml:out),28476)
  write(response.bd(loc:res),{vl:28476})
  write(response_body.vl(fml:out),28476)
  write(ref.txres(27),{vl:28476})
  write(ref.committed(27),1)
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:28476}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:9558},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"wrsylb",vl:9558})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9558})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"m",vl:56310},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"m",vl:56310})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:56310})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:56310}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:33207},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:33207})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33207})
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:56310}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:56310}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:5427},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:5427})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:5427})
}
> cl.client_request(1,{knd:write,ky:"m",vl:14127},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"m",vl:14127})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14127})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:9813},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:9813})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9813})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:56310}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),56310)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),56310)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:56310}}})
{
  write(mid_spec.acked(0),1)
}
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(3),2)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),2)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:14127}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),14127)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),14127)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:14127}}})
{
  write(mid_spec.acked(3),1)
}
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(4),1)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),1)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:9813}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),9813)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),9813)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:9813}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:8894},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:8894})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:8894})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:8894}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:64885},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:64885})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64885})
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:8894}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:8894}}}),0)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),9813)
  write(ref.txres(6),{vl:9813})
  write(ref.committed(6),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:5427}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),5427)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),5427)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:5427}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.send(0,{tx:6,bd:{vl:9813}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:9813}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:33207}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),33207)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),33207)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:33207}}})
{
  write(mid_spec.acked(1),1)
}
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(5),5)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),5)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:write,ky:"m",vl:60039},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:60039})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60039})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:60039}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9941},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:9941})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9941})
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:60039}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:60039}}}),0)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),33207)
  write(ref.txres(8),{vl:33207})
  write(ref.committed(8),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:8894}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),8894)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),8894)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:8894}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:28266},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:28266})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28266})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:28266}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:28266}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:28266}}}),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(6),9)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),9)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:48974},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:48974})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:48974})
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(7),10)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),10)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:9813}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:9813}},0),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(8),7)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),7)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:8,bd:{vl:33207}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:33207}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:37685},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:37685})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37685})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:37685}}}),1)
}
> cl_chans.recv(1,{tx:8,bd:{vl:33207}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:33207}},1),0)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(9),11)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),11)
  write(mid_spec.queue.head,10)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:37105},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:37105})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37105})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:37105}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:28266}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),28266)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),28266)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:28266}}})
{
  write(mid_spec.acked(9),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:37105}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:37105}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),33207)
  write(response.bd(loc:res),{vl:33207})
  write(response_body.vl(fml:out),33207)
  write(ref.txres(12),{vl:33207})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:33207}},0),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:48673},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:48673})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48673})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:48673}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:48974}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),48974)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),48974)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:48974}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(0,{tx:12,bd:{vl:33207}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:33207}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:60039}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),60039)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),60039)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:60039}}})
{
  write(mid_spec.acked(7),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:37685}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),37685)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),37685)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:37685}}})
{
  write(mid_spec.acked(11),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:48673}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"m",vl:48673}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),60039)
  write(response.bd(loc:res),{vl:60039})
  write(response_body.vl(fml:out),60039)
  write(ref.txres(13),{vl:60039})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:60039}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:28673},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:28673})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:28673})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30272},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:30272})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30272})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30272}}}),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:60039}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:60039}},1),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(10),15)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),15)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30272}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),30272)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),30272)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30272}}})
{
  write(mid_spec.acked(15),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:37685}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:37685}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:1975},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:1975})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:1975})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:1975}}}),1)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),30272)
  write(ref.txres(14),{vl:30272})
  write(ref.committed(14),1)
}
> cl_chans.send(0,{tx:14,bd:{vl:30272}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:30272}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:1975}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:1975}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),60039)
  write(response.bd(loc:res),{vl:60039})
  write(response_body.vl(fml:out),60039)
  write(ref.txres(16),{vl:60039})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:60039}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:36332},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:36332})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36332})
}
> cl_chans.recv(0,{tx:14,bd:{vl:30272}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:30272}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:15569},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:15569})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15569})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:15569}}}),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:20560},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:20560})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:20560})
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),60039)
  write(ref.txres(19),{vl:60039})
  write(ref.committed(19),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:39027},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:39027})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:39027})
}
> cl_chans.recv(0,{tx:16,bd:{vl:60039}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:60039}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:15569}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:15569}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),60039)
  write(response.bd(loc:res),{vl:60039})
  write(response_body.vl(fml:out),60039)
  write(ref.txres(18),{vl:60039})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:60039}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:10188},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:10188})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:10188})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:10188}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(11),17)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),17)
  write(mid_spec.queue.head,12)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),30272)
  write(ref.txres(20),{vl:30272})
  write(ref.committed(20),1)
}
> cl_chans.send(1,{tx:20,bd:{vl:30272}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:30272}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30272}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:30272}}}),0)
}
> cl_chans.send(1,{tx:19,bd:{vl:60039}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:60039}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:23058},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:23058})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23058})
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),60039)
  write(ref.txres(22),{vl:60039})
  write(ref.committed(22),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:10188}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:10188}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),30272)
  write(response.bd(loc:res),{vl:30272})
  write(response_body.vl(fml:out),30272)
  write(ref.txres(21),{vl:30272})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:30272}},0),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:30272}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:30272}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:25400},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:25400})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25400})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:36332}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),36332)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),36332)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:36332}}})
{
  write(mid_spec.acked(17),1)
}
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),30272)
  write(ref.txres(23),{vl:30272})
  write(ref.committed(23),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:23,bd:{vl:30272}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:30272}},1),1)
}
> cl_chans.recv(1,{tx:23,bd:{vl:30272}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:30272}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:19037},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:19037})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:19037})
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:22,bd:{vl:60039}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:60039}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:12643},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:12643})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:12643})
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),36332)
  write(ref.txres(25),{vl:36332})
  write(ref.committed(25),1)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),36332)
  write(ref.txres(24),{vl:36332})
  write(ref.committed(24),1)
}
> cl_chans.send(1,{tx:24,bd:{vl:36332}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:36332}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:30794},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"m",vl:30794})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:30794})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:30794}}}),1)
}
> cl_chans.recv(1,{tx:24,bd:{vl:36332}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:36332}},1),0)
}
> cl_chans.send(0,{tx:25,bd:{vl:36332}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:36332}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:25187},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:25187})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25187})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:25187}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:65526},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:65526})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65526})
}
> sec.req_chan.recv({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:25187}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:25187}}}),0)
  write(response.tx(loc:res),27)
  write(response_body.vl(fml:out),30272)
  write(response.bd(loc:res),{vl:30272})
  write(response_body.vl(fml:out),30272)
  write(ref.txres(27),{vl:30272})
  write(ref.committed(27),1)
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:30272}},1),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:40558},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:40558})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40558})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:40558}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),40558)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),40558)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:40558}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:61308},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:61308})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61308})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:61308}}}),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:61308}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),61308)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),61308)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:61308}}})
{
  write(mid_spec.acked(1),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:61308}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:61308}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:42977},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:42977})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42977})
}
> cl.client_request(0,{knd:read,ky:"m",vl:39747},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:39747})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39747})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:39747}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:39747}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:39747}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),61308)
  write(ref.txres(2),{vl:61308})
  write(ref.committed(2),1)
}
> cl_chans.send(0,{tx:2,bd:{vl:61308}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:61308}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:39425},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:39425})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:39425})
}
> cl_chans.recv(0,{tx:2,bd:{vl:61308}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:61308}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:24492},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:24492})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24492})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:24492}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:34539},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:34539})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34539})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:34539}}}),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:34539}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:34539}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),61308)
  write(response.bd(loc:res),{vl:61308})
  write(response_body.vl(fml:out),61308)
  write(ref.txres(6),{vl:61308})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:61308}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:39425}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),39425)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),39425)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:39425}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:59541},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:59541})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59541})
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),61308)
  write(ref.txres(7),{vl:61308})
  write(ref.committed(7),1)
}
> cl_chans.send(1,{tx:7,bd:{vl:61308}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:61308}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:24492}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:24492}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),39425)
  write(response.bd(loc:res),{vl:39425})
  write(response_body.vl(fml:out),39425)
  write(ref.txres(5),{vl:39425})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:39425}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:49807},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:49807})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49807})
}
> cl.client_request(0,{knd:write,ky:"m",vl:38644},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:38644})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38644})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:38644}}}),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:61308}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:61308}},1),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(3),9)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),9)
  write(mid_spec.queue.head,4)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:38644}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:38644}}}),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(4),8)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),8)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:38644}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),38644)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),38644)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:38644}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:51510},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:51510})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51510})
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(5),10)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),10)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:49807}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),49807)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),49807)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:49807}}})
{
  write(mid_spec.acked(8),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:51510}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),51510)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),51510)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:51510}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(0,{tx:5,bd:{vl:39425}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:39425}},0),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:28285},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:28285})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:28285})
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),51510)
  write(ref.txres(11),{vl:51510})
  write(ref.committed(11),1)
}
> cl_chans.send(0,{tx:11,bd:{vl:51510}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:51510}},0),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:51510}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:51510}},0),0)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:61308}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:61308}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:10585},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:10585})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10585})
}
> cl.client_request(0,{knd:read,ky:"m",vl:41898},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:41898})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:41898})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:41898}}}),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(6),12)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),12)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:10585}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),10585)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),10585)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:10585}}})
{
  write(mid_spec.acked(12),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:41898}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:41898}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),38644)
  write(response.bd(loc:res),{vl:38644})
  write(response_body.vl(fml:out),38644)
  write(ref.txres(13),{vl:38644})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:38644}},0),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:38644}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:38644}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:43679},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:43679})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43679})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:43679}}}),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:43679}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:43679}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),38644)
  write(response.bd(loc:res),{vl:38644})
  write(response_body.vl(fml:out),38644)
  write(ref.txres(14),{vl:38644})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:38644}},0),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:38644}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:38644}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:34871},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:34871})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:34871})
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),38644)
  write(ref.txres(15),{vl:38644})
  write(ref.committed(15),1)
}
> cl_chans.send(1,{tx:15,bd:{vl:38644}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:38644}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:41799},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:41799})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41799})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:41799}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:9222},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:9222})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:9222})
}
> cl_chans.recv(1,{tx:15,bd:{vl:38644}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:38644}},1),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),38644)
  write(ref.txres(17),{vl:38644})
  write(ref.committed(17),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:16196},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"m",vl:16196})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:16196})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:16196}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:7587},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:7587})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7587})
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:16196}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:16196}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),38644)
  write(response.bd(loc:res),{vl:38644})
  write(response_body.vl(fml:out),38644)
  write(ref.txres(18),{vl:38644})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:38644}},1),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:38644}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:38644}},1),0)
}
> cl_chans.send(1,{tx:17,bd:{vl:38644}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:38644}},1),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:38644}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:38644}},1),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(7),19)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),19)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:7587}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),7587)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),7587)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:7587}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:50163},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:50163})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50163})
}
> cl.client_request(0,{knd:read,ky:"m",vl:12637},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:12637})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:12637})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:12637}}}),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:5960},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:5960})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5960})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:58285},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:58285})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:58285})
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:41799}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:41799}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),7587)
  write(response.bd(loc:res),{vl:7587})
  write(response_body.vl(fml:out),7587)
  write(ref.txres(16),{vl:7587})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:7587}},1),1)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),7587)
  write(ref.txres(20),{vl:7587})
  write(ref.committed(20),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:7587}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:7587}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:31827},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:31827})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:31827})
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:12637}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:12637}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),38644)
  write(response.bd(loc:res),{vl:38644})
  write(response_body.vl(fml:out),38644)
  write(ref.txres(21),{vl:38644})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:38644}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:45099},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:45099})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45099})
}
> cl.client_request(0,{knd:read,ky:"m",vl:5718},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"m",vl:5718})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:5718})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"m",vl:5718}}}),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(8),25)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),25)
  write(mid_spec.queue.head,9)
}
> cl_chans.send(1,{tx:20,bd:{vl:7587}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:7587}},1),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(9),24)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),24)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:21,bd:{vl:38644}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:38644}},0),0)
}
> cl_chans.recv(1,{tx:20,bd:{vl:7587}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:7587}},1),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(10),23)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),23)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:read,ky:"m",vl:47763},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"m",vl:47763})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47763})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:45099}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),25)
  write(sec.rep.store("wrsylb"),45099)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),45099)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:45099}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl_chans.recv(1,{tx:25,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),0)
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),38644)
  write(ref.txres(27),{vl:38644})
  write(ref.committed(27),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:13842},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"m",vl:13842})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13842})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:28,bd:{knd:read,ky:"m",vl:13842}}}),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(11),22)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),22)
  write(mid_spec.queue.head,12)
}
> sec.req_chan.recv({cid:1,req:{tx:28,bd:{knd:read,ky:"m",vl:13842}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:28,bd:{knd:read,ky:"m",vl:13842}}}),0)
  write(response.tx(loc:res),28)
  write(response_body.vl(fml:out),38644)
  write(response.bd(loc:res),{vl:38644})
  write(response_body.vl(fml:out),38644)
  write(ref.txres(28),{vl:38644})
  write(ref.committed(28),1)
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:38644}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:26,bd:{knd:read,ky:"m",vl:5718}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:read,ky:"m",vl:5718}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),38644)
  write(response.bd(loc:res),{vl:38644})
  write(response_body.vl(fml:out),38644)
  write(ref.txres(26),{vl:38644})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:38644}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:31827}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),24)
  write(sec.rep.store("wrsylb"),31827)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),31827)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:31827}}})
{
  write(mid_spec.acked(24),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:58285}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),58285)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),58285)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:58285}}})
{
  write(mid_spec.acked(23),1)
}
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:60636},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:60636})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:60636})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:60636}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:46535},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:46535})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:46535})
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:46535}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),46535)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),46535)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:46535}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:60636}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:60636}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:19918},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:19918})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19918})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:19918}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),19918)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),19918)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:19918}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:38669},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:38669})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38669})
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:38669}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),38669)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),38669)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:38669}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:14482},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:14482})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14482})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:14482}}}),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(3),4)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),4)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:14482}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),14482)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),14482)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:14482}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:14482}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:14482}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:33065},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:33065})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33065})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:33065}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:33065}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:33065}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:21114},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:21114})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21114})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:21347},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:21347})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21347})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:21347}}}),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(4),5)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),5)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:33065}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),33065)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),33065)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:33065}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:43521},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:43521})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43521})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:43521}}}),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:21347}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:21347}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
}
> cl_chans.send(0,{tx:6,bd:{vl:0}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:16196},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:16196})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16196})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:16196}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:59077},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:59077})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59077})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:59077}}}),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:13343},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:13343})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:13343})
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:43521}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:43521}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),33065)
  write(response.bd(loc:res),{vl:33065})
  write(response_body.vl(fml:out),33065)
  write(ref.txres(8),{vl:33065})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:33065}},0),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:33065}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:33065}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:59077}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:59077}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:16196}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:16196}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:8133},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:8133})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8133})
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),33065)
  write(ref.txres(12),{vl:33065})
  write(ref.committed(12),1)
}
> cl_chans.send(0,{tx:12,bd:{vl:33065}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:33065}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:51392},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"m",vl:51392})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51392})
}
> cl.client_request(1,{knd:read,ky:"m",vl:30260},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"m",vl:30260})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30260})
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(5),13)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),13)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:47247},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:47247})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47247})
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:51392}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),51392)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),51392)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:51392}}})
{
  write(mid_spec.acked(13),1)
}
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),51392)
  write(ref.txres(14),{vl:51392})
  write(ref.committed(14),1)
}
> cl_chans.send(0,{tx:14,bd:{vl:51392}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:51392}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9649},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:9649})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9649})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:9649}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:2725},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:2725})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2725})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:2725}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:2725}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:read,ky:"m",vl:2725}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),51392)
  write(response.bd(loc:res),{vl:51392})
  write(response_body.vl(fml:out),51392)
  write(ref.txres(17),{vl:51392})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:51392}},0),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),51392)
  write(ref.txres(15),{vl:51392})
  write(ref.committed(15),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(6),11)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),11)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:9649}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:9649}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:17,bd:{vl:51392}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:51392}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:33065}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:33065}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:13343}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),13343)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),13343)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:13343}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl_chans.send(0,{tx:15,bd:{vl:51392}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:51392}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:48837},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:48837})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48837})
}
> cl_chans.recv(0,{tx:15,bd:{vl:51392}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:51392}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:27422},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:27422})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:27422})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:39959},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:39959})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:39959})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:39959}}}),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(7),19)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),19)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:39959}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:39959}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),13343)
  write(response.bd(loc:res),{vl:13343})
  write(response_body.vl(fml:out),13343)
  write(ref.txres(20),{vl:13343})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:13343}},0),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:51392}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:51392}},0),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(8),18)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),18)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:27422}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),27422)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),27422)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:27422}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:7330},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:7330})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7330})
}
> cl.client_request(1,{knd:write,ky:"m",vl:48299},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:48299})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48299})
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(9),22)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),22)
  write(mid_spec.queue.head,10)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:27513},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:27513})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:27513})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:27513}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:27513}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:27513}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),27422)
  write(response.bd(loc:res),{vl:27422})
  write(response_body.vl(fml:out),27422)
  write(ref.txres(23),{vl:27422})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:27422}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:48837}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),48837)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),48837)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:48837}}})
{
  write(mid_spec.acked(18),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:48299}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),48299)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),48299)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:48299}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),27422)
  write(ref.txres(21),{vl:27422})
  write(ref.committed(21),1)
}
> cl_chans.recv(0,{tx:20,bd:{vl:13343}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:13343}},0),0)
}
> cl_chans.send(0,{tx:21,bd:{vl:27422}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:27422}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:24953},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:24953})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:24953})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:24953}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:24953}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:24953}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),27422)
  write(response.bd(loc:res),{vl:27422})
  write(response_body.vl(fml:out),27422)
  write(ref.txres(24),{vl:27422})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:27422}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:27597},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:27597})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:27597})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:27597}}}),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(10),25)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),25)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:12343},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:12343})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12343})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:12343}}}),1)
}
> cl_chans.recv(0,{tx:24,bd:{vl:27422}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:27422}},0),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:27422}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:27422}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:20239},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:20239})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20239})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:20239}}}),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:27422}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:27422}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:27597}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),25)
  write(sec.rep.store("wrsylb"),27597)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),27597)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:27597}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl_chans.recv(1,{tx:25,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(11),26)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),26)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:12343}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),26)
  write(sec.rep.store("wrsylb"),12343)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),12343)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:12343}}})
{
  write(mid_spec.acked(26),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:12343}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:12343}}}),0)
}
> cl_chans.recv(1,{tx:26,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:11112},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:11112})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11112})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:11112}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),11112)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),11112)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:11112}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:6704},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:6704})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6704})
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:58080},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"m",vl:58080})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:58080})
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:6704}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),6704)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),6704)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:6704}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:28178},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:28178})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:28178})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:28178}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:51488},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:51488})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51488})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:51488}}}),1)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),6704)
  write(ref.txres(2),{vl:6704})
  write(ref.committed(2),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:61296},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:61296})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61296})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:61296}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:51488}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),51488)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),51488)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:51488}}})
{
  write(mid_spec.acked(4),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:61296}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:61296}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:46540},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:46540})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:46540})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:46540}}}),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> cl_chans.send(1,{tx:2,bd:{vl:6704}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:6704}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:60291},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:60291})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60291})
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:46540}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:46540}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:46540}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),46540)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),46540)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:46540}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:24092},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:24092})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:24092})
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:28178}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:28178}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),51488)
  write(response.bd(loc:res),{vl:51488})
  write(response_body.vl(fml:out),51488)
  write(ref.txres(3),{vl:51488})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:51488}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:51488}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:51488}}}),0)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),51488)
  write(ref.txres(8),{vl:51488})
  write(ref.committed(8),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> cl_chans.send(1,{tx:8,bd:{vl:51488}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:51488}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:16848},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:16848})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:16848})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(1,{tx:8,bd:{vl:51488}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:51488}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:60291}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),60291)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),60291)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:60291}}})
{
  write(mid_spec.acked(7),1)
}
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(6),5)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),5)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:6704}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:6704}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:30537},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:30537})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30537})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:30537}}}),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:16848}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),16848)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),16848)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:16848}}})
{
  write(mid_spec.acked(9),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:30537}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"m",vl:30537}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),60291)
  write(response.bd(loc:res),{vl:60291})
  write(response_body.vl(fml:out),60291)
  write(ref.txres(10),{vl:60291})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:60291}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:61296}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),61296)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),61296)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:61296}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:60291}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:60291}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:54225},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:54225})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54225})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:54225}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:7738},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:7738})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7738})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7738}}}),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:51488}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:51488}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:54225}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:54225}}}),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(7),12)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),12)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:read,ky:"m",vl:26571},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:26571})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26571})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7738}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),7738)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),7738)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7738}}})
{
  write(mid_spec.acked(12),1)
}
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(8),11)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),11)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7738}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:7738}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:5025},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:5025})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:5025})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:54225}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),54225)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),54225)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:54225}}})
{
  write(mid_spec.acked(11),1)
}
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),54225)
  write(ref.txres(13),{vl:54225})
  write(ref.committed(13),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:46554},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:46554})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:46554})
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:13,bd:{vl:54225}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:54225}},1),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:54225}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:54225}},1),0)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),7738)
  write(ref.txres(14),{vl:7738})
  write(ref.committed(14),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:13472},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:13472})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:13472})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:13472}}}),1)
}
> cl_chans.send(1,{tx:14,bd:{vl:7738}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:7738}},1),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:7738}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:7738}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:54356},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:54356})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54356})
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(9),17)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),17)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:54356}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),54356)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),54356)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:54356}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:15273},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"m",vl:15273})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15273})
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:13472}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:13472}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),54356)
  write(response.bd(loc:res),{vl:54356})
  write(response_body.vl(fml:out),54356)
  write(ref.txres(16),{vl:54356})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:54356}},1),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:54356}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:54356}},1),0)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),54225)
  write(ref.txres(18),{vl:54225})
  write(ref.committed(18),1)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),54356)
  write(ref.txres(15),{vl:54356})
  write(ref.committed(15),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:64096},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:64096})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64096})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:64096}}}),1)
}
> cl_chans.send(0,{tx:15,bd:{vl:54356}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:54356}},0),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:54356}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:54356}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:64096}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:64096}}}),0)
}
> cl_chans.send(0,{tx:18,bd:{vl:54225}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:54225}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:18559},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"m",vl:18559})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:18559})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:18559}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(10),20)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),20)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(0,{tx:18,bd:{vl:54225}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:54225}},0),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:18559}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),18559)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),18559)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:18559}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:18559}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:18559}}}),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(11),19)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),19)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:64096}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),64096)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),64096)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:64096}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:52167},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"m",vl:52167})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:52167})
}
> cl.client_request(1,{knd:write,ky:"m",vl:54473},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:54473})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54473})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:54473}}}),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:54473}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:54473}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:52558},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:52558})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:52558})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:52558}}}),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(12),22)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),22)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:50560},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:50560})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50560})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:50560}}}),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(13),24)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),24)
  write(mid_spec.queue.head,14)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(14),21)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),21)
  write(mid_spec.queue.head,15)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:54473}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),54473)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),54473)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:54473}}})
{
  write(mid_spec.acked(22),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:52558}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:52558}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),54473)
  write(response.bd(loc:res),{vl:54473})
  write(response_body.vl(fml:out),54473)
  write(ref.txres(23),{vl:54473})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:54473}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:48974},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:48974})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48974})
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),54473)
  write(ref.txres(25),{vl:54473})
  write(ref.committed(25),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:56090},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:56090})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:56090})
}
> cl.client_request(0,{knd:write,ky:"m",vl:32411},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:32411})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32411})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:32411}}}),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:32411}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:32411}}}),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:write,ky:"m",vl:9078},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:9078})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9078})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(2),2)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),2)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:56090}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),56090)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),56090)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:56090}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:22545},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:22545})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22545})
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),56090)
  write(ref.txres(3),{vl:56090})
  write(ref.committed(3),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:32411}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),32411)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),32411)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:32411}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:44732},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:44732})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:44732})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:44732}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:44732}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:44732}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> cl_chans.send(0,{tx:3,bd:{vl:56090}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:56090}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:19889},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:19889})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:19889})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:9078}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),9078)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),9078)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:9078}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:3,bd:{vl:56090}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:56090}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54250},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:54250})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54250})
}
> cl.client_request(1,{knd:read,ky:"m",vl:33193},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"m",vl:33193})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:33193})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:33193}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:33193}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:33193}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),9078)
  write(response.bd(loc:res),{vl:9078})
  write(response_body.vl(fml:out),9078)
  write(ref.txres(7),{vl:9078})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:9078}},1),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:9078}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:9078}},1),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(4),5)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),5)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:4966},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:4966})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4966})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:4966}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:54250}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),54250)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),54250)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:54250}}})
{
  write(mid_spec.acked(6),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:4966}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:4966}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:1687},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"m",vl:1687})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:1687})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:1687}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:1687}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:1687}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),54250)
  write(response.bd(loc:res),{vl:54250})
  write(response_body.vl(fml:out),54250)
  write(ref.txres(9),{vl:54250})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:54250}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:19889}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),19889)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),19889)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:19889}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(0,{tx:9,bd:{vl:54250}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:54250}},0),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(5),8)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),8)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:4966}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),4966)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),4966)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:4966}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:11639},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:11639})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11639})
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),19889)
  write(ref.txres(10),{vl:19889})
  write(ref.committed(10),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:9099},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:9099})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9099})
}
> cl_chans.send(0,{tx:10,bd:{vl:19889}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:19889}},0),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:19889}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:19889}},0),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),19889)
  write(ref.txres(11),{vl:19889})
  write(ref.committed(11),1)
}
> cl_chans.send(0,{tx:11,bd:{vl:19889}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:19889}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:29488},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:29488})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29488})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:29488}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:29488}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:29488}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),4966)
  write(response.bd(loc:res),{vl:4966})
  write(response_body.vl(fml:out),4966)
  write(ref.txres(12),{vl:4966})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:4966}},0),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:19889}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:19889}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:7250},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:7250})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7250})
}
> cl.client_request(0,{knd:read,ky:"m",vl:42807},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:42807})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:42807})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:42807}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:57185},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:57185})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57185})
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),19889)
  write(ref.txres(13),{vl:19889})
  write(ref.committed(13),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:42807}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:42807}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),4966)
  write(response.bd(loc:res),{vl:4966})
  write(response_body.vl(fml:out),4966)
  write(ref.txres(14),{vl:4966})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:4966}},0),1)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),19889)
  write(ref.txres(15),{vl:19889})
  write(ref.committed(15),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:15974},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:15974})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15974})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:15974}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:15974}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:15974}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),4966)
  write(response.bd(loc:res),{vl:4966})
  write(response_body.vl(fml:out),4966)
  write(ref.txres(16),{vl:4966})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:4966}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:33238},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:33238})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:33238})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:33238}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:64881},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"m",vl:64881})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64881})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:64881}}}),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(6),18)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),18)
  write(mid_spec.queue.head,7)
}
> cl_chans.send(0,{tx:13,bd:{vl:19889}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:19889}},0),1)
}
> cl_chans.send(0,{tx:15,bd:{vl:19889}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:19889}},0),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:4966}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:4966}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:29005},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:29005})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29005})
}
> cl.client_request(1,{knd:read,ky:"m",vl:13355},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"m",vl:13355})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13355})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:13355}}}),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:19889}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:19889}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:15437},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:15437})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:15437})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:15437}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:35732},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:35732})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:35732})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:35732}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:22400},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:22400})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22400})
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),4966)
  write(ref.txres(19),{vl:4966})
  write(ref.committed(19),1)
}
> cl_chans.send(0,{tx:19,bd:{vl:4966}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:4966}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:64881}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),64881)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),64881)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:64881}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:55346},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:55346})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:55346})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:55346}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:35732}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:35732}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),19889)
  write(response.bd(loc:res),{vl:19889})
  write(response_body.vl(fml:out),19889)
  write(ref.txres(22),{vl:19889})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:19889}},1),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:4966}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:4966}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:54271},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:54271})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54271})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:54271}}}),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),64881)
  write(ref.txres(23),{vl:64881})
  write(ref.committed(23),1)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:15437}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:15437}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),19889)
  write(response.bd(loc:res),{vl:19889})
  write(response_body.vl(fml:out),19889)
  write(ref.txres(21),{vl:19889})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:19889}},1),1)
}
> cl_chans.send(1,{tx:23,bd:{vl:64881}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:64881}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:54271}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:54271}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:33238}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"m",vl:33238}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),64881)
  write(response.bd(loc:res),{vl:64881})
  write(response_body.vl(fml:out),64881)
  write(ref.txres(17),{vl:64881})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:64881}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:46095},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:46095})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46095})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:46095}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:46095}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:46095}}}),0)
}
> cl_chans.recv(1,{tx:21,bd:{vl:19889}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:19889}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:13355}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:13355}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),64881)
  write(response.bd(loc:res),{vl:64881})
  write(response_body.vl(fml:out),64881)
  write(ref.txres(20),{vl:64881})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:64881}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:55346}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:55346}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:64881}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:64881}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:5984},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:5984})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:5984})
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(7),26)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),26)
  write(mid_spec.queue.head,8)
}
> cl.client_request(0,{knd:write,ky:"m",vl:4417},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"m",vl:4417})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4417})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:4417}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:4417}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:write,ky:"m",vl:4417}}}),0)
}
> ser.serialize(28)
{
  write(ser.serialized(28),1)
  write(ser.queue.contents(8),28)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),28)
  write(mid_spec.queue.head,9)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(9),25)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),25)
  write(mid_spec.queue.head,10)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(10),24)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),24)
  write(mid_spec.queue.head,11)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:12790},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:write,ky:"wrsylb",vl:12790})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12790})
}
> ser.serialize(29)
{
  write(ser.serialized(29),1)
  write(ser.queue.contents(11),29)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),29)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:46095}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),26)
  write(sec.rep.store("wrsylb"),46095)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),46095)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:46095}}})
{
  write(mid_spec.acked(26),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:41432},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(30),{knd:write,ky:"wrsylb",vl:41432})
  write(ref.next,31)
  write(mid_spec.req_dest(30),prim)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:41432})
}
> cl_chans.recv(1,{tx:22,bd:{vl:19889}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:19889}},1),0)
}
> ser.serialize(30)
{
  write(ser.serialized(30),1)
  write(ser.queue.contents(12),30)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),30)
  write(mid_spec.queue.head,13)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:19139},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:19139})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:19139})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:41361},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:41361})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41361})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:41361}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:41361}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:41361}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:34014},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:34014})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34014})
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> cl_chans.send(0,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:15348},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:15348})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:15348})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:15348}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54485},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:54485})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54485})
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:34099},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:34099})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:34099})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:34099}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:15348}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:15348}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:34099}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:34099}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(0),4)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),4)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:17223},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:17223})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17223})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:17223}}}),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:54485}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),54485)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),54485)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:54485}}})
{
  write(mid_spec.acked(4),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:17223}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:17223}}}),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(1),6)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),6)
  write(mid_spec.queue.head,2)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:17223}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),17223)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),17223)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:17223}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:3602},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:3602})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3602})
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:11462},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:11462})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11462})
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:29835},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"m",vl:29835})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29835})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:57525},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:57525})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57525})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:57525}}}),1)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),17223)
  write(ref.txres(9),{vl:17223})
  write(ref.committed(9),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:57525}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:57525}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:23446},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:23446})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:23446})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:23446}}}),1)
}
> cl_chans.send(0,{tx:8,bd:{vl:0}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:57950},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:57950})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:57950})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:57950}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:11830},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:11830})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11830})
}
> cl_chans.send(1,{tx:9,bd:{vl:17223}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:17223}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:57950}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:57950}}}),0)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(4),13)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),13)
  write(mid_spec.queue.head,5)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:23446}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:23446}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:26974},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:26974})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26974})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:26974}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:26974}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:26974}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),17223)
  write(response.bd(loc:res),{vl:17223})
  write(response_body.vl(fml:out),17223)
  write(ref.txres(14),{vl:17223})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:17223}},0),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:17223}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:17223}},1),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:17223}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:17223}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:15348}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),15348)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),15348)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:15348}}})
{
  write(mid_spec.acked(3),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:3602}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),3602)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),3602)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:3602}}})
{
  write(mid_spec.acked(7),1)
}
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(5),12)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),12)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:write,ky:"m",vl:29532},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:29532})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:29532})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:29103},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:29103})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29103})
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:11830}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),11830)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),11830)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:11830}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:62543},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:62543})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62543})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:57950}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),57950)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),57950)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:57950}}})
{
  write(mid_spec.acked(12),1)
}
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),57950)
  write(ref.txres(16),{vl:57950})
  write(ref.committed(16),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(6),15)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),15)
  write(mid_spec.queue.head,7)
}
> cl_chans.send(0,{tx:16,bd:{vl:57950}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:57950}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:38403},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:38403})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38403})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:38403}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:29532}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),29532)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),29532)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:29532}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(0,{tx:16,bd:{vl:57950}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:57950}},0),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),29532)
  write(ref.txres(17),{vl:29532})
  write(ref.committed(17),1)
}
> cl_chans.send(0,{tx:17,bd:{vl:29532}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:29532}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55977},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:55977})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55977})
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(7),19)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),19)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:38403}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"m",vl:38403}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),29532)
  write(response.bd(loc:res),{vl:29532})
  write(response_body.vl(fml:out),29532)
  write(ref.txres(18),{vl:29532})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:29532}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:55977}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),55977)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),55977)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:55977}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:17,bd:{vl:29532}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:29532}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:53054},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"m",vl:53054})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:53054})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:53054}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:15136},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:15136})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15136})
}
> cl_chans.recv(0,{tx:18,bd:{vl:29532}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:29532}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),29532)
  write(ref.txres(21),{vl:29532})
  write(ref.committed(21),1)
}
> cl_chans.send(0,{tx:21,bd:{vl:29532}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:29532}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:55715},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:55715})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55715})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:55715}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:55715}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:55715}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),29532)
  write(response.bd(loc:res),{vl:29532})
  write(response_body.vl(fml:out),29532)
  write(ref.txres(22),{vl:29532})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:29532}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:3541},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:3541})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3541})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:3541}}}),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(8),20)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),20)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:22,bd:{vl:29532}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:29532}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:3541}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:3541}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),55977)
  write(response.bd(loc:res),{vl:55977})
  write(response_body.vl(fml:out),55977)
  write(ref.txres(23),{vl:55977})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:55977}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:53054}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),53054)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),53054)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:53054}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:46182},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:46182})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:46182})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:46182}}}),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:55977}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:55977}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:50030},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:50030})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50030})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:50030}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:50030}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:50030}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),53054)
  write(response.bd(loc:res),{vl:53054})
  write(response_body.vl(fml:out),53054)
  write(ref.txres(25),{vl:53054})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:53054}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55690},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:55690})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55690})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:55690}}}),1)
}
> cl_chans.recv(0,{tx:25,bd:{vl:53054}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:53054}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:46182}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:46182}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),55977)
  write(response.bd(loc:res),{vl:55977})
  write(response_body.vl(fml:out),55977)
  write(ref.txres(24),{vl:55977})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:55977}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:22584},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:22584})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22584})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:22584}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:53054}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:write,ky:"m",vl:53054}}}),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:29532}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:29532}},0),0)
}
> cl_chans.recv(1,{tx:24,bd:{vl:55977}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:55977}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:16985},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:16985})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16985})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:42109},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:42109})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42109})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:42109}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:42109}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:42109}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:51185},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:51185})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51185})
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:22218},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:22218})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22218})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:22218}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:3449},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:3449})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:3449})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:25441},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:25441})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25441})
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(0),3)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),3)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:3449}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),3449)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),3449)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:3449}}})
{
  write(mid_spec.acked(3),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:22218}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:22218}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),3449)
  write(response.bd(loc:res),{vl:3449})
  write(response_body.vl(fml:out),3449)
  write(ref.txres(2),{vl:3449})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:3449}},0),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),3449)
  write(ref.txres(1),{vl:3449})
  write(ref.committed(1),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:3449}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:3449}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:13486},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:13486})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13486})
}
> cl.client_request(1,{knd:read,ky:"m",vl:61945},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:61945})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61945})
}
> cl_chans.send(1,{tx:1,bd:{vl:3449}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:3449}},1),1)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),3449)
  write(ref.txres(6),{vl:3449})
  write(ref.committed(6),1)
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),3449)
  write(ref.txres(5),{vl:3449})
  write(ref.committed(5),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:3449}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:3449}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:18921},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:18921})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18921})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:18921}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:25441}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),25441)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),25441)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:25441}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:49780},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:49780})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:49780})
}
> cl_chans.send(1,{tx:5,bd:{vl:3449}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:3449}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:18921}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:18921}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),25441)
  write(response.bd(loc:res),{vl:25441})
  write(response_body.vl(fml:out),25441)
  write(ref.txres(7),{vl:25441})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:25441}},0),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:25441}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:25441}},0),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:3449}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:3449}},1),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:65512},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"m",vl:65512})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:65512})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:65512}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:65512}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"m",vl:65512}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),3449)
  write(response.bd(loc:res),{vl:3449})
  write(response_body.vl(fml:out),3449)
  write(ref.txres(9),{vl:3449})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:3449}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:47635},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:47635})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:47635})
}
> cl_chans.send(0,{tx:6,bd:{vl:3449}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:3449}},0),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:3449}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:3449}},0),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(2),10)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),10)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:9,bd:{vl:3449}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:3449}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:18067},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:18067})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18067})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:47635}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),47635)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),47635)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:47635}}})
{
  write(mid_spec.acked(10),1)
}
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:49780}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),49780)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),49780)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:49780}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:53278},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:53278})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:53278})
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),47635)
  write(ref.txres(12),{vl:47635})
  write(ref.committed(12),1)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),49780)
  write(ref.txres(11),{vl:49780})
  write(ref.committed(11),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:25224},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"m",vl:25224})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:25224})
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(4),13)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),13)
  write(mid_spec.queue.head,5)
}
> cl_chans.send(0,{tx:12,bd:{vl:47635}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:47635}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:25224}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),25224)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),25224)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:25224}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:53504},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:53504})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:53504})
}
> cl_chans.send(1,{tx:11,bd:{vl:49780}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:49780}},1),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(5),14)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),14)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(1,{tx:11,bd:{vl:49780}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:49780}},1),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:20108},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:20108})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20108})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:53504}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),53504)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),53504)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:53504}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(0,{tx:12,bd:{vl:47635}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:47635}},0),0)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),53504)
  write(ref.txres(15),{vl:53504})
  write(ref.committed(15),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:50749},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:50749})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50749})
}
> cl.client_request(1,{knd:write,ky:"m",vl:61109},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"m",vl:61109})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61109})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:61109}}}),1)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(6),17)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),17)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:write,ky:"m",vl:23545},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:23545})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23545})
}
> cl_chans.send(0,{tx:15,bd:{vl:53504}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:53504}},0),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:53504}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:53504}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:51312},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:51312})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51312})
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:61109}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:61109}}}),0)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),25224)
  write(ref.txres(19),{vl:25224})
  write(ref.committed(19),1)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),25224)
  write(ref.txres(16),{vl:25224})
  write(ref.committed(16),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:31327},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:31327})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31327})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:21395},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:21395})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21395})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:61109}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),61109)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),61109)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:61109}}})
{
  write(mid_spec.acked(17),1)
}
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(7),21)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),21)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:16,bd:{vl:25224}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:25224}},1),1)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),53504)
  write(ref.txres(20),{vl:53504})
  write(ref.committed(20),1)
}
> cl_chans.send(1,{tx:20,bd:{vl:53504}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:53504}},1),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(8),18)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),18)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(1,{tx:16,bd:{vl:25224}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:25224}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:50864},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:50864})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:50864})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:50864}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:50864}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:50864}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),61109)
  write(response.bd(loc:res),{vl:61109})
  write(response_body.vl(fml:out),61109)
  write(ref.txres(22),{vl:61109})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:61109}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:10488},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:10488})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10488})
}
> cl_chans.recv(1,{tx:20,bd:{vl:53504}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:53504}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:21395}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),21395)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),21395)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:21395}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:48067},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:48067})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48067})
}
> cl.client_request(1,{knd:read,ky:"m",vl:30650},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:30650})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30650})
}
> cl_chans.send(0,{tx:19,bd:{vl:25224}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:25224}},0),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:25224}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:25224}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:44022},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:44022})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:44022})
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(9),26)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),26)
  write(mid_spec.queue.head,10)
}
> cl.client_request(0,{knd:read,ky:"m",vl:60521},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"m",vl:60521})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60521})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"m",vl:60521}}}),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:61109}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:61109}},1),0)
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),61109)
  write(ref.txres(25),{vl:61109})
  write(ref.committed(25),1)
}
> cl_chans.send(1,{tx:25,bd:{vl:61109}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:61109}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:49883},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"m",vl:49883})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49883})
}
> cl_chans.recv(0,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:2864},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:write,ky:"m",vl:2864})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:2864})
}
> cl_chans.recv(1,{tx:25,bd:{vl:61109}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:61109}},1),0)
}
> ser.serialize(29)
{
  write(ser.serialized(29),1)
  write(ser.queue.contents(10),29)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),29)
  write(mid_spec.queue.head,11)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),21395)
  write(ref.txres(24),{vl:21395})
  write(ref.committed(24),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:50462},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(30),{knd:read,ky:"wrsylb",vl:50462})
  write(ref.next,31)
  write(mid_spec.req_dest(30),sec)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50462})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:30,bd:{knd:read,ky:"wrsylb",vl:50462}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:36873},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:36873})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36873})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30932},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:30932})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30932})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:30932}}}),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:30932}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:30932}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:31532},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:31532})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:31532})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:12368},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:12368})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:12368})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:12368}}}),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:30932}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),30932)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),30932)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:30932}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:31532}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),31532)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),31532)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:31532}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:3760},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:3760})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3760})
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:12368}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:12368}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),31532)
  write(response.bd(loc:res),{vl:31532})
  write(response_body.vl(fml:out),31532)
  write(ref.txres(3),{vl:31532})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:31532}},1),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:write,ky:"m",vl:11681},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:11681})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11681})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:3760}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),3760)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),3760)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:3760}}})
{
  write(mid_spec.acked(4),1)
}
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(1,{tx:3,bd:{vl:31532}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:31532}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:11681}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),11681)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),11681)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:11681}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:57574},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:57574})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57574})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:57574}}}),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:31414},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:31414})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31414})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:31414}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:41246},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:41246})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41246})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:41246}}}),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:38810},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:38810})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38810})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:38810}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:41246}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:41246}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),3760)
  write(response.bd(loc:res),{vl:3760})
  write(response_body.vl(fml:out),3760)
  write(ref.txres(8),{vl:3760})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:3760}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:34001},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:34001})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34001})
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(4),10)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),10)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(1,{tx:8,bd:{vl:3760}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:3760}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:38810}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:38810}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),3760)
  write(response.bd(loc:res),{vl:3760})
  write(response_body.vl(fml:out),3760)
  write(ref.txres(9),{vl:3760})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:3760}},0),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:3760}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:3760}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:5097},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:5097})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5097})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:5097}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:57574}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:57574}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),3760)
  write(response.bd(loc:res),{vl:3760})
  write(response_body.vl(fml:out),3760)
  write(ref.txres(6),{vl:3760})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:3760}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:5097}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:5097}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:34001}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),34001)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),34001)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:34001}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(1,{tx:6,bd:{vl:3760}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:3760}},1),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:31414}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:31414}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),34001)
  write(response.bd(loc:res),{vl:34001})
  write(response_body.vl(fml:out),34001)
  write(ref.txres(7),{vl:34001})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:34001}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:55257},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:55257})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55257})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:55257}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:55257}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:55257}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),11681)
  write(response.bd(loc:res),{vl:11681})
  write(response_body.vl(fml:out),11681)
  write(ref.txres(12),{vl:11681})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:11681}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:5097}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),5097)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),5097)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:5097}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:64529},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:64529})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64529})
}
> cl_chans.recv(1,{tx:7,bd:{vl:34001}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:34001}},1),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:11681}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:11681}},1),0)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:390},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:390})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:390})
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),34001)
  write(ref.txres(14),{vl:34001})
  write(ref.committed(14),1)
}
> cl_chans.send(0,{tx:14,bd:{vl:34001}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:34001}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:62441},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:62441})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62441})
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),5097)
  write(ref.txres(15),{vl:5097})
  write(ref.committed(15),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:41646},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:41646})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:41646})
}
> cl_chans.send(0,{tx:15,bd:{vl:5097}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:5097}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:64529}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),64529)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),64529)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:64529}}})
{
  write(mid_spec.acked(13),1)
}
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(7),16)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),16)
  write(mid_spec.queue.head,8)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:27212},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:27212})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:27212})
}
> cl_chans.recv(0,{tx:15,bd:{vl:5097}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:5097}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:10075},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:10075})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:10075})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:10075}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:10075}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:10075}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:41646}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),41646)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),41646)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:41646}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:34001}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:34001}},0),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(8),18)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),18)
  write(mid_spec.queue.head,9)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),41646)
  write(ref.txres(17),{vl:41646})
  write(ref.committed(17),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:41646}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:41646}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:60155},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:60155})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60155})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:10075}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),10075)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),10075)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:10075}}})
{
  write(mid_spec.acked(18),1)
}
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(9),19)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),19)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:60155}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),60155)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),60155)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:60155}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:17,bd:{vl:41646}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:41646}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:59093},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"m",vl:59093})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59093})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:59093}}}),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:7663},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:7663})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7663})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:7663}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:7663}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:7663}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),41646)
  write(response.bd(loc:res),{vl:41646})
  write(response_body.vl(fml:out),41646)
  write(ref.txres(21),{vl:41646})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:41646}},0),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:41646}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:41646}},0),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:49502},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:49502})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49502})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:29306},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:29306})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:29306})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:29306}}}),1)
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:59093}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:59093}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),60155)
  write(response.bd(loc:res),{vl:60155})
  write(response_body.vl(fml:out),60155)
  write(ref.txres(20),{vl:60155})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:60155}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:29306}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:29306}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),41646)
  write(response.bd(loc:res),{vl:41646})
  write(response_body.vl(fml:out),41646)
  write(ref.txres(23),{vl:41646})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:41646}},0),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:41646}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:41646}},0),0)
}
> cl_chans.recv(1,{tx:20,bd:{vl:60155}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:60155}},1),0)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),41646)
  write(ref.txres(22),{vl:41646})
  write(ref.committed(22),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:42095},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:42095})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42095})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:42095}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:34030},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:34030})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34030})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:34030}}}),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(10),25)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),25)
  write(mid_spec.queue.head,11)
}
> cl.client_request(1,{knd:write,ky:"m",vl:37485},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"m",vl:37485})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:37485})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:37485}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:37485}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"m",vl:37485}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:31346},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"m",vl:31346})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31346})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"m",vl:31346}}}),1)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(11),26)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),26)
  write(mid_spec.queue.head,12)
}
> cl_chans.send(1,{tx:22,bd:{vl:41646}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:41646}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:15495},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"m",vl:15495})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15495})
}
> ref.commit(28,prim)
{
  write(response_body.vl(fml:out),60155)
  write(ref.txres(28),{vl:60155})
  write(ref.committed(28),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:49813},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:read,ky:"m",vl:49813})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49813})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:29,bd:{knd:read,ky:"m",vl:49813}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:34030}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),25)
  write(sec.rep.store("wrsylb"),34030)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),34030)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:34030}}})
{
  write(mid_spec.acked(25),1)
}
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:27578},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:27578})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27578})
}
> cl.client_request(0,{knd:read,ky:"m",vl:28366},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:28366})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28366})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:28366}}}),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:28366}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:28366}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:35199},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:35199})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:35199})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:35199}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:18919},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:18919})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18919})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:18919}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:35199}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:35199}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:27578}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),27578)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),27578)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:27578}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:62071},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:62071})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:62071})
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:18919}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:18919}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:13616},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:13616})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13616})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:13616}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:13616}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:13616}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),27578)
  write(response.bd(loc:res),{vl:27578})
  write(response_body.vl(fml:out),27578)
  write(ref.txres(5),{vl:27578})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:27578}},0),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:27578}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:27578}},0),0)
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:39045},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:39045})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:39045})
}
> cl_chans.send(0,{tx:4,bd:{vl:0}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(1),6)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),6)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:read,ky:"m",vl:42150},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:42150})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:42150})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:39045}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),39045)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),39045)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:39045}}})
{
  write(mid_spec.acked(6),1)
}
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),39045)
  write(ref.txres(7),{vl:39045})
  write(ref.committed(7),1)
}
> cl_chans.send(0,{tx:7,bd:{vl:39045}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:39045}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:23655},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:23655})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:23655})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:23655}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:23655}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:23655}}}),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(2),8)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),8)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:7,bd:{vl:39045}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:39045}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:23655}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),23655)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),23655)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:23655}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:38182},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:38182})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38182})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:11528},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:11528})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11528})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:11528}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:11704},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:11704})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11704})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:11704}}}),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(3),10)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),10)
  write(mid_spec.queue.head,4)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:11528}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:11528}}}),0)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),23655)
  write(ref.txres(9),{vl:23655})
  write(ref.committed(9),1)
}
> cl_chans.send(0,{tx:9,bd:{vl:23655}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:23655}},0),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:23655}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:23655}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:14308},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:14308})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:14308})
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(4),12)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),12)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:11528}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),11528)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),11528)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:11528}}})
{
  write(mid_spec.acked(10),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:14308}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),14308)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),14308)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:14308}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:9092},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:9092})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9092})
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:11704}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:11704}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),14308)
  write(response.bd(loc:res),{vl:14308})
  write(response_body.vl(fml:out),14308)
  write(ref.txres(11),{vl:14308})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:14308}},1),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(5),13)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),13)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:9092}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),9092)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),9092)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:9092}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.recv(1,{tx:11,bd:{vl:14308}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:14308}},1),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:63186},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:63186})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:63186})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:63186}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:63186}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:63186}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:36137},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:36137})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36137})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:36137}}}),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:34274},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:34274})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34274})
}
> cl.client_request(0,{knd:read,ky:"m",vl:43035},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:43035})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43035})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:63186}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),63186)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),63186)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:63186}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:33817},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:33817})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:33817})
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),63186)
  write(ref.txres(18),{vl:63186})
  write(ref.committed(18),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:43236},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:43236})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43236})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),39045)
  write(ref.txres(17),{vl:39045})
  write(ref.committed(17),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:9822},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:9822})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9822})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:34161},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:34161})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34161})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:34161}}}),1)
}
> cl_chans.send(1,{tx:18,bd:{vl:63186}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:63186}},1),1)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),63186)
  write(ref.txres(20),{vl:63186})
  write(ref.committed(20),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:63186}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:63186}},1),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(7),16)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),16)
  write(mid_spec.queue.head,8)
}
> cl_chans.send(1,{tx:20,bd:{vl:63186}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:63186}},1),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:63186}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:63186}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:36137}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:36137}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),39045)
  write(response.bd(loc:res),{vl:39045})
  write(response_body.vl(fml:out),39045)
  write(ref.txres(15),{vl:39045})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:39045}},1),1)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),39045)
  write(ref.txres(19),{vl:39045})
  write(ref.committed(19),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:53031},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:53031})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:53031})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:53031}}}),1)
}
> cl_chans.send(0,{tx:17,bd:{vl:39045}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:39045}},0),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:39045}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:39045}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:34274}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),34274)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),34274)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:34274}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.send(1,{tx:19,bd:{vl:39045}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:39045}},1),1)
}
> cl_chans.recv(0,{tx:17,bd:{vl:39045}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:39045}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:53031}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:53031}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),34274)
  write(response.bd(loc:res),{vl:34274})
  write(response_body.vl(fml:out),34274)
  write(ref.txres(22),{vl:34274})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:34274}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:61823},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"m",vl:61823})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61823})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"m",vl:61823}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"m",vl:61823}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"m",vl:61823}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),39045)
  write(response.bd(loc:res),{vl:39045})
  write(response_body.vl(fml:out),39045)
  write(ref.txres(23),{vl:39045})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:39045}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:34161}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:34161}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),34274)
  write(response.bd(loc:res),{vl:34274})
  write(response_body.vl(fml:out),34274)
  write(ref.txres(21),{vl:34274})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:34274}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:48126},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:48126})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48126})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:48126}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:48126}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:48126}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),34274)
  write(response.bd(loc:res),{vl:34274})
  write(response_body.vl(fml:out),34274)
  write(ref.txres(24),{vl:34274})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:34274}},0),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:34274}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:34274}},1),0)
}
> cl_chans.recv(0,{tx:24,bd:{vl:34274}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:34274}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:54699},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:54699})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54699})
}
> cl_chans.recv(1,{tx:23,bd:{vl:39045}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:39045}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:31559},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:31559})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:31559})
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),34274)
  write(ref.txres(25),{vl:34274})
  write(ref.committed(25),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:41567},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"m",vl:41567})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41567})
}
> cl_chans.recv(1,{tx:19,bd:{vl:39045}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:39045}},1),0)
}
> cl_chans.send(0,{tx:25,bd:{vl:34274}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:34274}},0),1)
}
> cl_chans.recv(0,{tx:25,bd:{vl:34274}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:34274}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:48048},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"m",vl:48048})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48048})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:42378},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:write,ky:"wrsylb",vl:42378})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:42378})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:29,bd:{knd:write,ky:"wrsylb",vl:42378}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:54897},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(30),{knd:write,ky:"wrsylb",vl:54897})
  write(ref.next,31)
  write(mid_spec.req_dest(30),sec)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54897})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:30,bd:{knd:write,ky:"wrsylb",vl:54897}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:6353},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:6353})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6353})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:6353}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:6353}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:6353}}}),0)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:49106},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:49106})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49106})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:49106}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:49106}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:49106}}}),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:27525},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:27525})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:27525})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(2),2)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),2)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:write,ky:"m",vl:48518},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:48518})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48518})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:48518}}}),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(3),3)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),3)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:read,ky:"m",vl:16332},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"m",vl:16332})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:16332})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"m",vl:16332}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:7892},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:7892})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:7892})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:7892}}}),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(4),5)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),5)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:5582},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:5582})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:5582})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:5582}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:read,ky:"m",vl:16332}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"m",vl:16332}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:34435},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:34435})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:34435})
}
> cl.client_request(0,{knd:read,ky:"m",vl:32071},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:32071})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32071})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:32071}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:6353}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),6353)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),6353)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:6353}}})
{
  write(mid_spec.acked(0),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:49106}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),49106)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),49106)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:49106}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:32071}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:32071}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),6353)
  write(response.bd(loc:res),{vl:6353})
  write(response_body.vl(fml:out),6353)
  write(ref.txres(8),{vl:6353})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:6353}},0),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(5),7)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),7)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:27525}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),27525)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),27525)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:27525}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:8,bd:{vl:6353}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:6353}},0),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(6),6)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),6)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:48518}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),48518)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),48518)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:48518}}})
{
  write(mid_spec.acked(3),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:48518}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:48518}}}),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:12458},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:12458})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:12458})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:12458}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:7892}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:7892}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55332},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:55332})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55332})
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:12458}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:12458}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),27525)
  write(response.bd(loc:res),{vl:27525})
  write(response_body.vl(fml:out),27525)
  write(ref.txres(9),{vl:27525})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:27525}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:15874},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:15874})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15874})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:15874}}}),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:27525}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:27525}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:7892}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),7892)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),7892)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:7892}}})
{
  write(mid_spec.acked(5),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:15874}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:15874}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:34435}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),34435)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),34435)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:34435}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:5582}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),5582)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),5582)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:5582}}})
{
  write(mid_spec.acked(6),1)
}
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(7),11)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),11)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:5582}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:5582}}}),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(8),10)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),10)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:15874}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),15874)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),15874)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:15874}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:64545},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:64545})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64545})
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:15728},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:15728})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:15728})
}
> cl.client_request(0,{knd:write,ky:"m",vl:48292},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:48292})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48292})
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),5582)
  write(ref.txres(12),{vl:5582})
  write(ref.committed(12),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:55332}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),55332)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),55332)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:55332}}})
{
  write(mid_spec.acked(10),1)
}
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),55332)
  write(ref.txres(13),{vl:55332})
  write(ref.committed(13),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:13,bd:{vl:55332}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:55332}},1),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:55332}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:55332}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:14154},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:14154})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:14154})
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:12,bd:{vl:5582}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:5582}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:33819},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:33819})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33819})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:33819}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:33819}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:33819}}}),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(9),16)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),16)
  write(mid_spec.queue.head,10)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(10),15)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),15)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:33819}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),33819)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),33819)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:33819}}})
{
  write(mid_spec.acked(16),1)
}
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(11),14)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),14)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:write,ky:"m",vl:47395},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:47395})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47395})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:47395}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:14154}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),14154)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),14154)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:14154}}})
{
  write(mid_spec.acked(15),1)
}
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(12),17)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),17)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:7907},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:7907})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7907})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:7907}}}),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(13),18)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),18)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:48292}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),48292)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),48292)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:48292}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:27151},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:27151})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27151})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:27151}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:47395}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),47395)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),47395)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:47395}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:9841},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:9841})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9841})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:7907}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),7907)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),7907)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:7907}}})
{
  write(mid_spec.acked(18),1)
}
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(14),20)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),20)
  write(mid_spec.queue.head,15)
}
> cl.client_request(1,{knd:write,ky:"m",vl:44927},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"m",vl:44927})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:44927})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:49035},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:49035})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49035})
}
> cl.client_request(1,{knd:write,ky:"m",vl:34071},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:34071})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:34071})
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(15),23)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),23)
  write(mid_spec.queue.head,16)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(16),22)
  write(ser.queue.head,17)
  write(mid_spec.queue.contents(16),22)
  write(mid_spec.queue.head,17)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:27151}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:27151}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),47395)
  write(response.bd(loc:res),{vl:47395})
  write(response_body.vl(fml:out),47395)
  write(ref.txres(19),{vl:47395})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:47395}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:3632},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:3632})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3632})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:51952},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:51952})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51952})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:51952}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:63084},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:63084})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:63084})
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(17),26)
  write(ser.queue.head,18)
  write(mid_spec.queue.contents(17),26)
  write(mid_spec.queue.head,18)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:9841}}})
{
  write(mid_spec.queue.tail,15)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),9841)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,15)
  write(ref.rep.store("wrsylb"),9841)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:9841}}})
{
  write(mid_spec.acked(20),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:51952}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:51952}}}),0)
}
> cl_chans.recv(0,{tx:19,bd:{vl:47395}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:47395}},0),0)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),47395)
  write(ref.txres(24),{vl:47395})
  write(ref.committed(24),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:18726},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:18726})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18726})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:18726}}}),1)
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(18),27)
  write(ser.queue.head,19)
  write(mid_spec.queue.contents(18),27)
  write(mid_spec.queue.head,19)
}
> sec.req_chan.recv({cid:1,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:18726}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:18726}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:44564},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:44564})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:44564})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:28,bd:{knd:read,ky:"wrsylb",vl:44564}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:16433},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:read,ky:"wrsylb",vl:16433})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16433})
}
> cl_chans.send(0,{tx:24,bd:{vl:47395}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:47395}},0),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:53092},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:53092})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53092})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:48148},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:48148})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48148})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:48148}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:48148}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:48148}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:8433},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:8433})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:8433})
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(0,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:17390},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:17390})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17390})
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:16975},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:16975})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:16975})
}
> cl_chans.send(0,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:11292},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:11292})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11292})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:11292}}}),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:61637},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:61637})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61637})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:61637}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:58973},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:58973})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:58973})
}
> cl.client_request(1,{knd:read,ky:"m",vl:23421},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:23421})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23421})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:23421}}}),1)
}
> cl_chans.send(1,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
}
> cl_chans.send(1,{tx:7,bd:{vl:0}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:61637}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:61637}}}),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(0),6)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),6)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:61637}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),61637)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),61637)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:61637}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:11292}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:11292}}}),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:15890},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:15890})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:15890})
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:11812},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"m",vl:11812})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11812})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:11812}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:23421}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:23421}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),61637)
  write(response.bd(loc:res),{vl:61637})
  write(response_body.vl(fml:out),61637)
  write(ref.txres(8),{vl:61637})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:61637}},1),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(1),10)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),10)
  write(mid_spec.queue.head,2)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:11812}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),11812)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),11812)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:11812}}})
{
  write(mid_spec.acked(10),1)
}
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(3),4)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),4)
  write(mid_spec.queue.head,4)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:11292}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),11292)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),11292)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:11292}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:16116},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:16116})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16116})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:16116}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(4),11)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),11)
  write(mid_spec.queue.head,5)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:11812}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:11812}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:16116}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:16116}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:46604},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:46604})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46604})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:46604}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:16975}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),16975)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),16975)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:16975}}})
{
  write(mid_spec.acked(4),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:46604}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:46604}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),11292)
  write(response.bd(loc:res),{vl:11292})
  write(response_body.vl(fml:out),11292)
  write(ref.txres(12),{vl:11292})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:11292}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:5613},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:5613})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:5613})
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(5),13)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),13)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:16116}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),16116)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),16116)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:16116}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.send(0,{tx:9,bd:{vl:0}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:5613}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),5613)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),5613)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:5613}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:64303},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:64303})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64303})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:64303}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:64303}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:64303}}}),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:64303}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),64303)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),64303)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:64303}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(1,{tx:12,bd:{vl:11292}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:11292}},1),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:61622},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:61622})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61622})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:61622}}}),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(7),15)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),15)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:61622}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:61622}}}),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:61637}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:61637}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:15183},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:15183})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15183})
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),16116)
  write(ref.txres(16),{vl:16116})
  write(ref.committed(16),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:61622}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),61622)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),61622)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:61622}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:20597},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:20597})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20597})
}
> cl_chans.send(1,{tx:16,bd:{vl:16116}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:16116}},1),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:16116}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:16116}},1),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:20597}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),20597)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),20597)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:20597}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:5823},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:5823})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5823})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:5823}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:59650},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:59650})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59650})
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),16116)
  write(ref.txres(19),{vl:16116})
  write(ref.committed(19),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:11298},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"m",vl:11298})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11298})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:11298}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:20970},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:20970})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:20970})
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> cl_chans.send(0,{tx:19,bd:{vl:16116}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:16116}},0),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(9),18)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),18)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:19,bd:{vl:16116}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:16116}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:5823}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),5823)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),5823)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:5823}}})
{
  write(mid_spec.acked(18),1)
}
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),5823)
  write(ref.txres(21),{vl:5823})
  write(ref.committed(21),1)
}
> cl_chans.send(0,{tx:21,bd:{vl:5823}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:5823}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:52982},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:52982})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52982})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:52982}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:50061},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:50061})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50061})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:50061}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:50061}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:50061}}}),0)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:5823}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:5823}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:52982}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:52982}}}),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(10),23)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),23)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:5823}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:5823}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:43218},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:43218})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:43218})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:43218}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:50061}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),50061)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),50061)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:50061}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:10052},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:10052})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10052})
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),5823)
  write(ref.txres(25),{vl:5823})
  write(ref.committed(25),1)
}
> cl_chans.recv(1,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:11298}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:11298}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),5823)
  write(response.bd(loc:res),{vl:5823})
  write(response_body.vl(fml:out),5823)
  write(ref.txres(20),{vl:5823})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:5823}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:20072},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"m",vl:20072})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:20072})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:24789},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:24789})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:24789})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:24789}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:50523},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:50523})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50523})
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:24789}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:24789}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:14532},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:14532})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14532})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:14532}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:39271},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:39271})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:39271})
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:14532}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:14532}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:63897},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:63897})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:63897})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:63897}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:25827},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:25827})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:25827})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:25827}}}),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(0),4)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),4)
  write(mid_spec.queue.head,1)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:63897}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:63897}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:63897}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),63897)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),63897)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:63897}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:25827}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:25827}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:14532}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),14532)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),14532)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:14532}}})
{
  write(mid_spec.acked(2),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:50523}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),50523)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),50523)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:50523}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:58472},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:58472})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58472})
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:58472}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),58472)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),58472)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:58472}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:11901},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"wrsylb",vl:11901})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11901})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:11901}}}),1)
}
> cl_chans.send(0,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:11901}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"wrsylb",vl:11901}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),50523)
  write(response.bd(loc:res),{vl:50523})
  write(response_body.vl(fml:out),50523)
  write(ref.txres(7),{vl:50523})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:50523}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:3687},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:3687})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3687})
}
> cl_chans.recv(1,{tx:7,bd:{vl:50523}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:50523}},1),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),50523)
  write(ref.txres(8),{vl:50523})
  write(ref.committed(8),1)
}
> cl_chans.send(0,{tx:8,bd:{vl:50523}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:50523}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:8241},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:8241})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8241})
}
> cl_chans.recv(0,{tx:8,bd:{vl:50523}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:50523}},0),0)
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),58472)
  write(ref.txres(9),{vl:58472})
  write(ref.committed(9),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:475},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:475})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:475})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:54756},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:54756})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:54756})
}
> cl.client_request(1,{knd:read,ky:"m",vl:33890},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:33890})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:33890})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:33890}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:16291},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:16291})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16291})
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:33890}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"m",vl:33890}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),58472)
  write(response.bd(loc:res),{vl:58472})
  write(response_body.vl(fml:out),58472)
  write(ref.txres(12),{vl:58472})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:58472}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:54406},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"m",vl:54406})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54406})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:14564},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:14564})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14564})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:14564}}}),1)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),58472)
  write(ref.txres(14),{vl:58472})
  write(ref.committed(14),1)
}
> cl_chans.send(0,{tx:9,bd:{vl:58472}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:58472}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:21699},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:21699})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21699})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:21699}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:14564}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:14564}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),50523)
  write(response.bd(loc:res),{vl:50523})
  write(response_body.vl(fml:out),50523)
  write(ref.txres(15),{vl:50523})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:50523}},1),1)
}
> cl_chans.send(0,{tx:14,bd:{vl:58472}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:58472}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:21699}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:21699}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:16117},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"m",vl:16117})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16117})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:16117}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:33648},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:33648})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33648})
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(4),18)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),18)
  write(mid_spec.queue.head,5)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(5),17)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),17)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:write,ky:"m",vl:2349},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:2349})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:2349})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:2349}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:26692},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:26692})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:26692})
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:2349}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:2349}}}),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:58472}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:58472}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:16117}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:16117}}}),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:58472}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:58472}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:33648}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),33648)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),33648)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:33648}}})
{
  write(mid_spec.acked(18),1)
}
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(6),20)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),20)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(1,{tx:12,bd:{vl:58472}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:58472}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:44310},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:44310})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44310})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:44310}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:44310}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:44310}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),58472)
  write(response.bd(loc:res),{vl:58472})
  write(response_body.vl(fml:out),58472)
  write(ref.txres(21),{vl:58472})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:58472}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:16117}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),16117)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),16117)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:16117}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:21292},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:21292})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21292})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:21292}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:3438},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:3438})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3438})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:3438}}}),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:58472}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:58472}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:3438}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:3438}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),33648)
  write(response.bd(loc:res),{vl:33648})
  write(response_body.vl(fml:out),33648)
  write(ref.txres(23),{vl:33648})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:33648}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:26692}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),26692)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),26692)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:26692}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl_chans.recv(0,{tx:23,bd:{vl:33648}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:33648}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:53463},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:53463})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53463})
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:9417},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"m",vl:9417})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9417})
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:21292}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:21292}}}),0)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(7),25)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),25)
  write(mid_spec.queue.head,8)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(8),22)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),22)
  write(mid_spec.queue.head,9)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(9),19)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),19)
  write(mid_spec.queue.head,10)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(10),16)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),16)
  write(mid_spec.queue.head,11)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),16117)
  write(ref.txres(24),{vl:16117})
  write(ref.committed(24),1)
}
> cl_chans.send(0,{tx:24,bd:{vl:16117}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:16117}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:35241},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:35241})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:35241})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:57581},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:57581})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57581})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:57581}}}),1)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(11),26)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),26)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(1,{tx:15,bd:{vl:50523}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:50523}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:9417}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),9417)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),9417)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:9417}}})
{
  write(mid_spec.acked(25),1)
}
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(12),13)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),13)
  write(mid_spec.queue.head,13)
}
> cl.client_request(1,{knd:read,ky:"m",vl:27395},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"m",vl:27395})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27395})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:28,bd:{knd:read,ky:"m",vl:27395}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:4849},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:write,ky:"m",vl:4849})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4849})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:21292}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),21292)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),21292)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:21292}}})
{
  write(mid_spec.acked(22),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:28,bd:{knd:read,ky:"m",vl:27395}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:28,bd:{knd:read,ky:"m",vl:27395}}}),0)
  write(response.tx(loc:res),28)
  write(response_body.vl(fml:out),9417)
  write(response.bd(loc:res),{vl:9417})
  write(response_body.vl(fml:out),9417)
  write(ref.txres(28),{vl:9417})
  write(ref.committed(28),1)
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:9417}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:2349}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),2349)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),2349)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:2349}}})
{
  write(mid_spec.acked(19),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:21699}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),21699)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),21699)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:21699}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:35241}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),26)
  write(sec.rep.store("wrsylb"),35241)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),35241)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:35241}}})
{
  write(mid_spec.acked(26),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:33445},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(30),{knd:write,ky:"m",vl:33445})
  write(ref.next,31)
  write(mid_spec.req_dest(30),prim)
  write(request.tx(req(loc:m)),30)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33445})
}
> ser.serialize(30)
{
  write(ser.serialized(30),1)
  write(ser.queue.contents(13),30)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),30)
  write(mid_spec.queue.head,14)
}
> ser.serialize(29)
{
  write(ser.serialized(29),1)
  write(ser.queue.contents(14),29)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),29)
  write(mid_spec.queue.head,15)
}
> cl_chans.recv(1,{tx:28,bd:{vl:9417}})
{
  write(cl_chans.spec.sent({tx:28,bd:{vl:9417}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:61438},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:61438})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61438})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:61438}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:61438}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:61438}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:50579},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:50579})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50579})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:50579}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:50579}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:50579}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:54318},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:54318})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:54318})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:54318}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:54318}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:54318}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:28315},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:28315})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28315})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:28315}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:28315}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:28315}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:22649},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:22649})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22649})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:22649}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:22649}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:22649}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:31378},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:31378})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:31378})
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(0),5)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),5)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:31378}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),31378)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),31378)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:31378}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:22649}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),22649)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),22649)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:22649}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:57954},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:57954})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57954})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:22678},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:22678})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22678})
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(2),7)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),7)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:22678}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),22678)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),22678)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:22678}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),22678)
  write(ref.txres(6),{vl:22678})
  write(ref.committed(6),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:8344},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:8344})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:8344})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:8344}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:8344}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:8344}}}),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:write,ky:"m",vl:6302},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:6302})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6302})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:8344}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),8344)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),8344)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:8344}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:2040},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"m",vl:2040})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2040})
}
> cl_chans.send(0,{tx:6,bd:{vl:22678}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:22678}},0),1)
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:22678}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:22678}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:48920},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:48920})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48920})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:37929},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:37929})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37929})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:37929}}}),1)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),22649)
  write(ref.txres(10),{vl:22649})
  write(ref.committed(10),1)
}
> cl_chans.send(0,{tx:10,bd:{vl:22649}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:22649}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:23403},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:23403})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:23403})
}
> cl_chans.recv(0,{tx:10,bd:{vl:22649}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:22649}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:37929}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:37929}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:21977},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:21977})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21977})
}
> cl.client_request(0,{knd:read,ky:"m",vl:64877},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:64877})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64877})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:64877}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:64877}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:64877}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),22649)
  write(response.bd(loc:res),{vl:22649})
  write(response_body.vl(fml:out),22649)
  write(ref.txres(15),{vl:22649})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:22649}},0),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(4),13)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),13)
  write(mid_spec.queue.head,5)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(5),12)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),12)
  write(mid_spec.queue.head,6)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(6),11)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),11)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:23403}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),23403)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),23403)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:23403}}})
{
  write(mid_spec.acked(13),1)
}
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),22649)
  write(ref.txres(14),{vl:22649})
  write(ref.committed(14),1)
}
> cl_chans.send(0,{tx:14,bd:{vl:22649}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:22649}},0),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(7),9)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),9)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:37929}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),37929)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),37929)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:37929}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:64033},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:64033})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64033})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:20487},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:20487})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20487})
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(9),16)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),16)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:18647},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:18647})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18647})
}
> cl.client_request(0,{knd:read,ky:"m",vl:44322},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:44322})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44322})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:44322}}}),1)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(10),18)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),18)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:48920}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),48920)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),48920)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:48920}}})
{
  write(mid_spec.acked(11),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:6302}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),6302)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),6302)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:6302}}})
{
  write(mid_spec.acked(9),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:20487}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),20487)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),20487)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:20487}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:44322}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:read,ky:"m",vl:44322}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),6302)
  write(response.bd(loc:res),{vl:6302})
  write(response_body.vl(fml:out),6302)
  write(ref.txres(19),{vl:6302})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:6302}},0),1)
}
> cl_chans.recv(0,{tx:15,bd:{vl:22649}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:22649}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:64033}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),64033)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),64033)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:64033}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.recv(0,{tx:19,bd:{vl:6302}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:6302}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:18647}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),18647)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),18647)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:18647}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:22649}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:22649}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:37115},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:37115})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37115})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:37115}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:48230},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:48230})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48230})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:48230}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:697},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:697})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:697})
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(11),22)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),22)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:697}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),697)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),697)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:697}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:18669},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:18669})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18669})
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(12),23)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),23)
  write(mid_spec.queue.head,13)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:37115}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:37115}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:48230}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:48230}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),697)
  write(response.bd(loc:res),{vl:697})
  write(response_body.vl(fml:out),697)
  write(ref.txres(21),{vl:697})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:697}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:18669}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),18669)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),18669)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:18669}}})
{
  write(mid_spec.acked(23),1)
}
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(13),20)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),20)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:37115}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),37115)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),37115)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:37115}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:23077},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:23077})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:23077})
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),37115)
  write(ref.txres(24),{vl:37115})
  write(ref.committed(24),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:12022},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:12022})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:12022})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"m",vl:12022}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:35606},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:35606})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:35606})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:35606}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:35606}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:35606}}}),0)
}
> cl_chans.send(1,{tx:24,bd:{vl:37115}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:37115}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:15724},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:15724})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:15724})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:15724}}}),1)
}
> cl_chans.recv(1,{tx:24,bd:{vl:37115}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:37115}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:234},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"m",vl:234})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:234})
}
> cl_chans.recv(1,{tx:21,bd:{vl:697}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:697}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:25657},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:read,ky:"wrsylb",vl:25657})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25657})
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(14),27)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),27)
  write(mid_spec.queue.head,15)
}
> ref.commit(29,prim)
{
  write(response_body.vl(fml:out),37115)
  write(ref.txres(29),{vl:37115})
  write(ref.committed(29),1)
}
> sec.req_chan.recv({cid:0,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:15724}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:write,ky:"wrsylb",vl:15724}}}),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"m",vl:38865},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"m",vl:38865})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38865})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:41030},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:41030})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:41030})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:41030}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:41030}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"m",vl:41030}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:56518},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:56518})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:56518})
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:45420},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:45420})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45420})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:22020},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:22020})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22020})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(0),4)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),4)
  write(mid_spec.queue.head,1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> cl_chans.send(1,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:22020}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),22020)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),22020)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:22020}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:48089},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:48089})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48089})
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(1),5)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),5)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:48089}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),48089)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),48089)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:48089}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:28460},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"m",vl:28460})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28460})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"m",vl:28460}}}),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:46396},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:46396})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46396})
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:read,ky:"m",vl:28460}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"m",vl:28460}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),48089)
  write(response.bd(loc:res),{vl:48089})
  write(response_body.vl(fml:out),48089)
  write(ref.txres(6),{vl:48089})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:48089}},0),1)
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),48089)
  write(ref.txres(7),{vl:48089})
  write(ref.committed(7),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:16073},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:16073})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16073})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:16073}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:16073}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:16073}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),22020)
  write(response.bd(loc:res),{vl:22020})
  write(response_body.vl(fml:out),22020)
  write(ref.txres(8),{vl:22020})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:22020}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:56442},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:56442})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:56442})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:56442}}}),1)
}
> cl_chans.send(0,{tx:7,bd:{vl:48089}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:48089}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:56442}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:56442}}}),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(2),9)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),9)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:31782},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:31782})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:31782})
}
> cl.client_request(1,{knd:read,ky:"m",vl:25034},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:25034})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:25034})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:25034}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:56442}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),56442)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),56442)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:56442}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:22020}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:22020}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:22479},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"m",vl:22479})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22479})
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(3),10)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),10)
  write(mid_spec.queue.head,4)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),56442)
  write(ref.txres(12),{vl:56442})
  write(ref.committed(12),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:28183},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:28183})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:28183})
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),56442)
  write(ref.txres(13),{vl:56442})
  write(ref.committed(13),1)
}
> cl_chans.send(0,{tx:12,bd:{vl:56442}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:56442}},0),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:48089}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:48089}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:31782}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),31782)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),31782)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:31782}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.send(0,{tx:13,bd:{vl:56442}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:56442}},0),1)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:48089}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:48089}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:26916},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"m",vl:26916})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26916})
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:25034}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:25034}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),56442)
  write(response.bd(loc:res),{vl:56442})
  write(response_body.vl(fml:out),56442)
  write(ref.txres(11),{vl:56442})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:56442}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:29913},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:29913})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:29913})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(4),15)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),15)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:29913}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),29913)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),29913)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:29913}}})
{
  write(mid_spec.acked(15),1)
}
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),29913)
  write(ref.txres(14),{vl:29913})
  write(ref.committed(14),1)
}
> cl_chans.send(1,{tx:14,bd:{vl:29913}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:29913}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55652},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:55652})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55652})
}
> cl_chans.recv(1,{tx:11,bd:{vl:56442}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:56442}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:764},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:764})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:764})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),31782)
  write(ref.txres(17),{vl:31782})
  write(ref.committed(17),1)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(5),16)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),16)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:17,bd:{vl:31782}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:31782}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:55652}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),55652)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),55652)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:55652}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.recv(1,{tx:17,bd:{vl:31782}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:31782}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:33365},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"m",vl:33365})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:33365})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:33365}}}),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:29913}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:29913}},1),0)
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:45082},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:45082})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:45082})
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:33365}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"m",vl:33365}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),29913)
  write(response.bd(loc:res),{vl:29913})
  write(response_body.vl(fml:out),29913)
  write(ref.txres(18),{vl:29913})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:29913}},1),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(6),19)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),19)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(1,{tx:18,bd:{vl:29913}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:29913}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:31040},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"m",vl:31040})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31040})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:59925},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:59925})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59925})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:59925}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:59925}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:59925}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),55652)
  write(response.bd(loc:res),{vl:55652})
  write(response_body.vl(fml:out),55652)
  write(ref.txres(21),{vl:55652})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:55652}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:45082}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),45082)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),45082)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:45082}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:55652}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:55652}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:56442}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:56442}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:32302},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"m",vl:32302})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32302})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:32302}}}),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:56442}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:56442}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:17083},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:17083})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:17083})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:17083}}}),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(7),23)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),23)
  write(mid_spec.queue.head,8)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:53926},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:53926})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:53926})
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:32302}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"m",vl:32302}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),45082)
  write(response.bd(loc:res),{vl:45082})
  write(response_body.vl(fml:out),45082)
  write(ref.txres(22),{vl:45082})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:45082}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:17083}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:17083}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:17083}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),17083)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),17083)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:17083}}})
{
  write(mid_spec.acked(23),1)
}
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),17083)
  write(ref.txres(24),{vl:17083})
  write(ref.committed(24),1)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),45082)
  write(ref.txres(20),{vl:45082})
  write(ref.committed(20),1)
}
> cl_chans.send(1,{tx:20,bd:{vl:45082}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:45082}},1),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:45082}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:45082}},1),0)
}
> cl_chans.send(1,{tx:24,bd:{vl:17083}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:17083}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:49531},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:49531})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49531})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:49531}}}),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:45082}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:45082}},1),0)
}
> cl_chans.recv(1,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:60032},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"m",vl:60032})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60032})
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:49531}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:49531}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),17083)
  write(response.bd(loc:res),{vl:17083})
  write(response_body.vl(fml:out),17083)
  write(ref.txres(25),{vl:17083})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:17083}},1),1)
}
> cl_chans.recv(1,{tx:25,bd:{vl:17083}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:17083}},1),0)
}
> cl_chans.recv(1,{tx:24,bd:{vl:17083}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:17083}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:37641},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:37641})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37641})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:57889},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:57889})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:57889})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:57889}}}),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:57889}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),57889)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),57889)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:57889}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:32822},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:32822})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32822})
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:57889}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:57889}}}),0)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),57889)
  write(ref.txres(1),{vl:57889})
  write(ref.committed(1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:43543},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:43543})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43543})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:43543}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:49729},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:49729})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49729})
}
> cl_chans.send(1,{tx:1,bd:{vl:57889}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:57889}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:48796},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:48796})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:48796})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:48796}}}),1)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),57889)
  write(ref.txres(3),{vl:57889})
  write(ref.committed(3),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:43543}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"m",vl:43543}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:33086},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:33086})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33086})
}
> cl.client_request(0,{knd:read,ky:"m",vl:55774},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"m",vl:55774})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:55774})
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:48796}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:48796}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:51438},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:51438})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51438})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:51438}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:51438}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:51438}}}),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:48796}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),48796)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),48796)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:48796}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.send(0,{tx:3,bd:{vl:57889}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:57889}},0),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(2),7)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),7)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:51438}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),51438)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),51438)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:51438}}})
{
  write(mid_spec.acked(7),1)
}
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),51438)
  write(ref.txres(6),{vl:51438})
  write(ref.committed(6),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:33086}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),33086)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),33086)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:33086}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:37416},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:37416})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:37416})
}
> cl_chans.send(0,{tx:6,bd:{vl:51438}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:51438}},0),1)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),51438)
  write(ref.txres(8),{vl:51438})
  write(ref.committed(8),1)
}
> cl_chans.send(0,{tx:8,bd:{vl:51438}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:51438}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:14812},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:14812})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14812})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:14812}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:14812}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:14812}}}),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(4),9)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),9)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:14812}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),14812)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),14812)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:14812}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:31288},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:31288})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:31288})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:31288}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:62719},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:62719})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62719})
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(5),10)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),10)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:31288}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:31288}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:31288}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),31288)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),31288)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:31288}}})
{
  write(mid_spec.acked(10),1)
}
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),14812)
  write(ref.txres(11),{vl:14812})
  write(ref.committed(11),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:40769},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:40769})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:40769})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:40769}}}),1)
}
> cl_chans.send(0,{tx:11,bd:{vl:14812}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:14812}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54594},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"m",vl:54594})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54594})
}
> cl_chans.recv(1,{tx:1,bd:{vl:57889}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:57889}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:12000},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"m",vl:12000})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:12000})
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:54594}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),54594)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),54594)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:54594}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),54594)
  write(ref.txres(14),{vl:54594})
  write(ref.committed(14),1)
}
> cl_chans.send(1,{tx:14,bd:{vl:54594}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:54594}},1),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(7),12)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),12)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(0,{tx:8,bd:{vl:51438}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:51438}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:40769}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),40769)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),40769)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:40769}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:60189},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:60189})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:60189})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:60189}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:37164},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:37164})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37164})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:37164}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:40296},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:40296})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:40296})
}
> cl_chans.recv(1,{tx:14,bd:{vl:54594}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:54594}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:37164}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:37164}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),31288)
  write(response.bd(loc:res),{vl:31288})
  write(response_body.vl(fml:out),31288)
  write(ref.txres(16),{vl:31288})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:31288}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:51146},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:51146})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51146})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:51146}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:24601},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:24601})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24601})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:24601}}}),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(8),19)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),19)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:51146}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:51146}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),31288)
  write(response.bd(loc:res),{vl:31288})
  write(response_body.vl(fml:out),31288)
  write(ref.txres(18),{vl:31288})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:31288}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:24601}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),24601)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),24601)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:24601}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(0,{tx:18,bd:{vl:31288}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:31288}},0),0)
}
> cl_chans.recv(0,{tx:11,bd:{vl:14812}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:14812}},0),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),24601)
  write(ref.txres(17),{vl:24601})
  write(ref.committed(17),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:31288}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:31288}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:60189}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:60189}}}),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:57889}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:57889}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55768},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:55768})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55768})
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(9),20)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),20)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:24601}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:24601}}}),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(10),15)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),15)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:12180},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:12180})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:12180})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:12180}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:40769}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:40769}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:55768}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),55768)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),55768)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:55768}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl_chans.send(1,{tx:17,bd:{vl:24601}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:24601}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:12180}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:12180}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),24601)
  write(response.bd(loc:res),{vl:24601})
  write(response_body.vl(fml:out),24601)
  write(ref.txres(21),{vl:24601})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:24601}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:60189}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),60189)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),60189)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:60189}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:30501},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:30501})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30501})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:30501}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:30501}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:30501}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),60189)
  write(response.bd(loc:res),{vl:60189})
  write(response_body.vl(fml:out),60189)
  write(ref.txres(22),{vl:60189})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:60189}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:52433},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:52433})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52433})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:52433}}}),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:60189}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:60189}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:52433}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:52433}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),60189)
  write(response.bd(loc:res),{vl:60189})
  write(response_body.vl(fml:out),60189)
  write(ref.txres(23),{vl:60189})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:60189}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:42720},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:42720})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42720})
}
> cl.client_request(1,{knd:read,ky:"m",vl:6304},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:6304})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6304})
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:24601}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:24601}},1),0)
}
> cl_chans.recv(1,{tx:23,bd:{vl:60189}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:60189}},1),0)
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),24601)
  write(ref.txres(25),{vl:24601})
  write(ref.committed(25),1)
}
> cl_chans.send(0,{tx:25,bd:{vl:24601}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:24601}},0),1)
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(11),24)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),24)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:42720}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),42720)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),42720)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:42720}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:46096},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:46096})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46096})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:46096}}}),1)
}
> cl_chans.recv(0,{tx:24,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:25,bd:{vl:24601}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:24601}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:23177},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"m",vl:23177})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23177})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:37525},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:37525})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37525})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"m",vl:4656},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"m",vl:4656})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4656})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:57502},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:57502})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:57502})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:57502}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:4656}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),4656)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),4656)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:4656}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:4244},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:4244})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:4244})
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:57502}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:57502}}}),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:read,ky:"m",vl:51806},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:51806})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51806})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:51806}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:51806}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:51806}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),4656)
  write(response.bd(loc:res),{vl:4656})
  write(response_body.vl(fml:out),4656)
  write(ref.txres(3),{vl:4656})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:4656}},1),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:4656}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:4656}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:65104},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:65104})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:65104})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:65104}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:4244}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),4244)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),4244)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:4244}}})
{
  write(mid_spec.acked(2),1)
}
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:11386},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:11386})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:11386})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:11386}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:65104}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:65104}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),4244)
  write(response.bd(loc:res),{vl:4244})
  write(response_body.vl(fml:out),4244)
  write(ref.txres(4),{vl:4244})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:4244}},0),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:11386}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:11386}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),4244)
  write(response.bd(loc:res),{vl:4244})
  write(response_body.vl(fml:out),4244)
  write(ref.txres(5),{vl:4244})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:4244}},0),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:4244}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:4244}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:18810},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:18810})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18810})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:18810}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:18810}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:18810}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),4656)
  write(response.bd(loc:res),{vl:4656})
  write(response_body.vl(fml:out),4656)
  write(ref.txres(6),{vl:4656})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:4656}},1),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:4656}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:4656}},1),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:4244}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:4244}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:27430},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:27430})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27430})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:27430}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:27430}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:27430}}}),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:57502}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),57502)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),57502)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:57502}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:13759},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:13759})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13759})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:13759}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:47533},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:47533})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:47533})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:47533}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:13759}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:13759}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),4656)
  write(response.bd(loc:res),{vl:4656})
  write(response_body.vl(fml:out),4656)
  write(ref.txres(8),{vl:4656})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:4656}},0),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:4656}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:4656}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:36955},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:36955})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36955})
}
> cl.client_request(0,{knd:read,ky:"m",vl:27066},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:27066})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27066})
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),57502)
  write(ref.txres(10),{vl:57502})
  write(ref.committed(10),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:27430}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),27430)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),27430)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:27430}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:47533}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:47533}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),57502)
  write(response.bd(loc:res),{vl:57502})
  write(response_body.vl(fml:out),57502)
  write(ref.txres(9),{vl:57502})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:57502}},1),1)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),27430)
  write(ref.txres(11),{vl:27430})
  write(ref.committed(11),1)
}
> cl_chans.send(0,{tx:10,bd:{vl:57502}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:57502}},0),1)
}
> cl_chans.send(0,{tx:11,bd:{vl:27430}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:27430}},0),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:57502}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:57502}},1),0)
}
> cl_chans.recv(0,{tx:10,bd:{vl:57502}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:57502}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:5377},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:5377})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:5377})
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(4),12)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),12)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(0,{tx:11,bd:{vl:27430}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:27430}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:5377}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),5377)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),5377)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:5377}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:4489},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:4489})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4489})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:59214},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:59214})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59214})
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:3918},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:3918})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3918})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:3918}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:3918}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:3918}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),5377)
  write(response.bd(loc:res),{vl:5377})
  write(response_body.vl(fml:out),5377)
  write(ref.txres(15),{vl:5377})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:5377}},1),1)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),27430)
  write(ref.txres(13),{vl:27430})
  write(ref.committed(13),1)
}
> cl_chans.send(1,{tx:13,bd:{vl:27430}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:27430}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:2284},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:2284})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2284})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:2284}}}),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:27430}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:27430}},1),0)
}
> cl_chans.recv(1,{tx:15,bd:{vl:5377}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:5377}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:50934},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"m",vl:50934})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50934})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:50934}}}),1)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),5377)
  write(ref.txres(14),{vl:5377})
  write(ref.committed(14),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:11170},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"m",vl:11170})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11170})
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),27430)
  write(ref.txres(18),{vl:27430})
  write(ref.committed(18),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:54641},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:54641})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54641})
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(5),19)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),19)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:50934}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"m",vl:50934}}}),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(6),17)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),17)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:2284}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:read,ky:"wrsylb",vl:2284}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),5377)
  write(response.bd(loc:res),{vl:5377})
  write(response_body.vl(fml:out),5377)
  write(ref.txres(16),{vl:5377})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:5377}},1),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:5377}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:5377}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:54641}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),54641)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),54641)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:54641}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.send(0,{tx:18,bd:{vl:27430}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:27430}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:335},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:335})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:335})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:335}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:13735},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:13735})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13735})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:13735}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:335}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"wrsylb",vl:335}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),5377)
  write(response.bd(loc:res),{vl:5377})
  write(response_body.vl(fml:out),5377)
  write(ref.txres(20),{vl:5377})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:5377}},0),1)
}
> cl_chans.send(0,{tx:14,bd:{vl:5377}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:5377}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:13735}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:13735}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),54641)
  write(response.bd(loc:res),{vl:54641})
  write(response_body.vl(fml:out),54641)
  write(ref.txres(21),{vl:54641})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:54641}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:55597},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:55597})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55597})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:55597}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:50934}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),50934)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),50934)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:50934}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(1,{tx:21,bd:{vl:54641}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:54641}},1),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:55597}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:55597}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),5377)
  write(response.bd(loc:res),{vl:5377})
  write(response_body.vl(fml:out),5377)
  write(ref.txres(22),{vl:5377})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:5377}},1),1)
}
> cl_chans.recv(0,{tx:18,bd:{vl:27430}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:27430}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:32713},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:32713})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32713})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:32713}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:32713}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:32713}}}),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:5377}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:5377}},0),0)
}
> cl_chans.recv(0,{tx:20,bd:{vl:5377}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:5377}},0),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(7),23)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),23)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:32713}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),32713)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),32713)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:32713}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:52265},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:52265})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52265})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:52265}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:52265}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:52265}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),5377)
  write(response.bd(loc:res),{vl:5377})
  write(response_body.vl(fml:out),5377)
  write(ref.txres(24),{vl:5377})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:5377}},1),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:5377}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:5377}},1),0)
}
> cl_chans.recv(1,{tx:24,bd:{vl:5377}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:5377}},1),0)
}
> cl_chans.recv(1,{tx:23,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:38413},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:38413})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38413})
}
> cl.client_request(0,{knd:write,ky:"m",vl:15793},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:15793})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:15793})
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(8),26)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),26)
  write(mid_spec.queue.head,9)
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),5377)
  write(ref.txres(25),{vl:5377})
  write(ref.committed(25),1)
}
> cl_chans.send(0,{tx:25,bd:{vl:5377}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:5377}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:15793}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),26)
  write(sec.rep.store("m"),15793)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),15793)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:15793}}})
{
  write(mid_spec.acked(26),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:65208},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:65208})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:65208})
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(9),27)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),27)
  write(mid_spec.queue.head,10)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:40588},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:40588})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40588})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:40588}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:52772},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:52772})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:52772})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:52772}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:11889},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:11889})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11889})
}
> cl.client_request(0,{knd:write,ky:"m",vl:44621},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:44621})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:44621})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:44621}}}),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(0),3)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),3)
  write(mid_spec.queue.head,1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:40588}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:40588}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:6070},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:6070})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:6070})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:42884},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:42884})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42884})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:42884}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:16175},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"m",vl:16175})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16175})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:16175}}}),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(2),6)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),6)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:16175}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:16175}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:52772}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:52772}}}),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(3),4)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),4)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:44621}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),44621)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),44621)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:44621}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:44621}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:44621}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:42884}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:42884}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:52772}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),52772)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),52772)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:52772}}})
{
  write(mid_spec.acked(1),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:16175}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),16175)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),16175)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:16175}}})
{
  write(mid_spec.acked(6),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:6070}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),6070)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),6070)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:6070}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:49662},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:49662})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49662})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:49662}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:49662}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:49662}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),16175)
  write(response.bd(loc:res),{vl:16175})
  write(response_body.vl(fml:out),16175)
  write(ref.txres(7),{vl:16175})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:16175}},0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:12486},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:12486})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:12486})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:12486}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(4),8)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),8)
  write(mid_spec.queue.head,5)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:12486}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:12486}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:12486}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),12486)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),12486)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:12486}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:5149},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:5149})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5149})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:40586},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:40586})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40586})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:40586}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:27315},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:27315})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:27315})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:5149}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),5149)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),5149)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:5149}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:19038},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:19038})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:19038})
}
> cl.client_request(1,{knd:read,ky:"m",vl:21804},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"m",vl:21804})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:21804})
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:40586}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:40586}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),6070)
  write(response.bd(loc:res),{vl:6070})
  write(response_body.vl(fml:out),6070)
  write(ref.txres(10),{vl:6070})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:6070}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:40432},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:40432})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40432})
}
> cl.client_request(0,{knd:write,ky:"m",vl:14339},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:14339})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14339})
}
> cl_chans.recv(1,{tx:10,bd:{vl:6070}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:6070}},1),0)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),5149)
  write(ref.txres(13),{vl:5149})
  write(ref.committed(13),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(6),15)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),15)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:14339}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),14339)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),14339)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:14339}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:2982},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"wrsylb",vl:2982})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2982})
}
> cl_chans.send(1,{tx:13,bd:{vl:5149}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:5149}},1),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(7),12)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),12)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:19038}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),19038)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),19038)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:19038}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:22269},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:22269})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22269})
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),19038)
  write(ref.txres(14),{vl:19038})
  write(ref.committed(14),1)
}
> cl_chans.send(0,{tx:14,bd:{vl:19038}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:19038}},0),1)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),19038)
  write(ref.txres(16),{vl:19038})
  write(ref.committed(16),1)
}
> cl_chans.send(1,{tx:16,bd:{vl:19038}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:19038}},1),1)
}
> cl_chans.recv(1,{tx:16,bd:{vl:19038}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:19038}},1),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:16175}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:16175}},0),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),14339)
  write(ref.txres(17),{vl:14339})
  write(ref.committed(17),1)
}
> cl_chans.recv(0,{tx:14,bd:{vl:19038}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:19038}},0),0)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),14339)
  write(ref.txres(11),{vl:14339})
  write(ref.committed(11),1)
}
> cl_chans.send(1,{tx:11,bd:{vl:14339}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:14339}},1),1)
}
> cl_chans.send(0,{tx:17,bd:{vl:14339}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:14339}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:8449},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:8449})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:8449})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:8449}}}),1)
}
> cl_chans.recv(0,{tx:17,bd:{vl:14339}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:14339}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:8449}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:8449}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),19038)
  write(response.bd(loc:res),{vl:19038})
  write(response_body.vl(fml:out),19038)
  write(ref.txres(18),{vl:19038})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:19038}},1),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:31407},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:31407})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:31407})
}
> cl.client_request(0,{knd:read,ky:"m",vl:15851},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:15851})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15851})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:57304},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:57304})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:57304})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:57304}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:44433},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:44433})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44433})
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),14339)
  write(ref.txres(20),{vl:14339})
  write(ref.committed(20),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:57304}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:57304}}}),0)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),14339)
  write(ref.txres(22),{vl:14339})
  write(ref.committed(22),1)
}
> cl_chans.send(1,{tx:22,bd:{vl:14339}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:14339}},1),1)
}
> cl_chans.send(1,{tx:20,bd:{vl:14339}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:14339}},1),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(8),21)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),21)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:5149}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:5149}},1),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(9),19)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),19)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:57304}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),57304)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),57304)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:57304}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:60351},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:60351})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:60351})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:60351}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:56256},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:56256})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:56256})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:56256}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:56256}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:56256}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),57304)
  write(response.bd(loc:res),{vl:57304})
  write(response_body.vl(fml:out),57304)
  write(ref.txres(24),{vl:57304})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:57304}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:60351}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:60351}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),57304)
  write(response.bd(loc:res),{vl:57304})
  write(response_body.vl(fml:out),57304)
  write(ref.txres(23),{vl:57304})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:57304}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:31407}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),31407)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),31407)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:31407}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:18,bd:{vl:19038}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:19038}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:30271},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:30271})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30271})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:30271}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:56002},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:56002})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:56002})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:56002}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:65121},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"m",vl:65121})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:65121})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"m",vl:65121}}}),1)
}
> cl_chans.recv(0,{tx:24,bd:{vl:57304}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:57304}},0),0)
}
> cl_chans.recv(1,{tx:22,bd:{vl:14339}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:14339}},1),0)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(10),26)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),26)
  write(mid_spec.queue.head,11)
}
> sec.req_chan.recv({cid:0,req:{tx:27,bd:{knd:read,ky:"m",vl:65121}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:27,bd:{knd:read,ky:"m",vl:65121}}}),0)
  write(response.tx(loc:res),27)
  write(response_body.vl(fml:out),31407)
  write(response.bd(loc:res),{vl:31407})
  write(response_body.vl(fml:out),31407)
  write(ref.txres(27),{vl:31407})
  write(ref.committed(27),1)
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:31407}},0),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:14339}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:14339}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:56002}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:56002}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:30271}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"wrsylb",vl:30271}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),57304)
  write(response.bd(loc:res),{vl:57304})
  write(response_body.vl(fml:out),57304)
  write(ref.txres(25),{vl:57304})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:57304}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:56002}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),26)
  write(sec.rep.store("wrsylb"),56002)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),56002)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:56002}}})
{
  write(mid_spec.acked(26),1)
}
}
> cl_chans.recv(0,{tx:23,bd:{vl:57304}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:57304}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:61423},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:61423})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61423})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:55862},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:55862})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:55862})
}
> cl.client_request(1,{knd:write,ky:"m",vl:38154},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:38154})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38154})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:38154}}}),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:49951},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:49951})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:49951})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:38154}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:38154}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:9743},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:9743})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:9743})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:9743}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:9743}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:9743}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:56308},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:56308})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:56308})
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:14175},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:14175})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14175})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:14175}}}),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(3),4)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),4)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:55862}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),55862)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),55862)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:55862}}})
{
  write(mid_spec.acked(0),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:49951}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),49951)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),49951)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:49951}}})
{
  write(mid_spec.acked(2),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:14175}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"wrsylb",vl:14175}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),49951)
  write(response.bd(loc:res),{vl:49951})
  write(response_body.vl(fml:out),49951)
  write(ref.txres(5),{vl:49951})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:49951}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:24524},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:24524})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:24524})
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),49951)
  write(ref.txres(6),{vl:49951})
  write(ref.committed(6),1)
}
> cl_chans.send(1,{tx:6,bd:{vl:49951}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:49951}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:13937},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:13937})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13937})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:13937}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:13937}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:13937}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:38154}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),38154)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),38154)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:38154}}})
{
  write(mid_spec.acked(1),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:56308}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),56308)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),56308)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:56308}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(1,{tx:5,bd:{vl:49951}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:49951}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:23579},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:23579})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:23579})
}
> cl.client_request(0,{knd:write,ky:"m",vl:51530},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:51530})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:51530})
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(4),9)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),9)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:51530}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),51530)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),51530)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:51530}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(1,{tx:6,bd:{vl:49951}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:49951}},1),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:56487},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:56487})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:56487})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:56487}}}),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(5),10)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),10)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:56487}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:56487}}}),0)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),51530)
  write(ref.txres(8),{vl:51530})
  write(ref.committed(8),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:30935},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:30935})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:30935})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:30935}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:56487}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),56487)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),56487)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:56487}}})
{
  write(mid_spec.acked(10),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:30935}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:30935}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),51530)
  write(response.bd(loc:res),{vl:51530})
  write(response_body.vl(fml:out),51530)
  write(ref.txres(11),{vl:51530})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:51530}},1),1)
}
> cl_chans.send(0,{tx:8,bd:{vl:51530}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:51530}},0),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:51530}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:51530}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:65516},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"m",vl:65516})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:65516})
}
> cl.client_request(0,{knd:read,ky:"m",vl:13660},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:13660})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13660})
}
> cl.client_request(1,{knd:write,ky:"m",vl:53701},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:53701})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:53701})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:53701}}}),1)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),51530)
  write(ref.txres(13),{vl:51530})
  write(ref.committed(13),1)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:53701}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:53701}}}),0)
}
> cl_chans.recv(1,{tx:11,bd:{vl:51530}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:51530}},1),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> cl_chans.send(0,{tx:13,bd:{vl:51530}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:51530}},0),1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:53701}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),53701)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),53701)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:53701}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(0,{tx:13,bd:{vl:51530}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:51530}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:20235},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:20235})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:20235})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(7),15)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),15)
  write(mid_spec.queue.head,8)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(8),12)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),12)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:4218},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:4218})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4218})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:4218}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:20235}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),20235)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),20235)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:20235}}})
{
  write(mid_spec.acked(15),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:4218}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:4218}}}),0)
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:65516}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),65516)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),65516)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:65516}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(9),16)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),16)
  write(mid_spec.queue.head,10)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:19223},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:19223})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:19223})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:19223}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:31366},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"m",vl:31366})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:31366})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:31366}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:4218}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),4218)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),4218)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:4218}}})
{
  write(mid_spec.acked(16),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:19223}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:19223}}}),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(10),18)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),18)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:31366}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),31366)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),31366)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:31366}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:60381},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:60381})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:60381})
}
> cl.client_request(0,{knd:read,ky:"m",vl:35036},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:35036})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35036})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:35036}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:26343},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"m",vl:26343})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:26343})
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:21801},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:21801})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21801})
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:31366}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"m",vl:31366}}}),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(11),22)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),22)
  write(mid_spec.queue.head,12)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:63629},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:63629})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:63629})
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:35036}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:35036}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),31366)
  write(response.bd(loc:res),{vl:31366})
  write(response_body.vl(fml:out),31366)
  write(ref.txres(20),{vl:31366})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:31366}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:21801}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),21801)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),21801)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:21801}}})
{
  write(mid_spec.acked(22),1)
}
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(12),23)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),23)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:read,ky:"m",vl:25095},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:25095})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:25095})
}
> cl.client_request(0,{knd:read,ky:"m",vl:46342},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:46342})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46342})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:46342}}}),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(13),21)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),21)
  write(mid_spec.queue.head,14)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:46342}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:46342}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),31366)
  write(response.bd(loc:res),{vl:31366})
  write(response_body.vl(fml:out),31366)
  write(ref.txres(25),{vl:31366})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:31366}},0),1)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),31366)
  write(ref.txres(24),{vl:31366})
  write(ref.committed(24),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(14),19)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),19)
  write(mid_spec.queue.head,15)
}
> cl_chans.send(1,{tx:24,bd:{vl:31366}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:31366}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:63629}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),63629)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),63629)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:63629}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:36374},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:36374})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36374})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:36374}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:36374}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:36374}}}),0)
  write(response.tx(loc:res),26)
  write(response_body.vl(fml:out),31366)
  write(response.bd(loc:res),{vl:31366})
  write(response_body.vl(fml:out),31366)
  write(ref.txres(26),{vl:31366})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:31366}},1),1)
}
> cl_chans.recv(1,{tx:26,bd:{vl:31366}})
{
  write(cl_chans.spec.sent({tx:26,bd:{vl:31366}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:30039},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:30039})
  write(ref.next,28)
  write(mid_spec.req_dest(27),sec)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:30039})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:30039}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:26343}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),26343)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("m"),26343)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"m",vl:26343}}})
{
  write(mid_spec.acked(21),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:30039}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:27,bd:{knd:read,ky:"wrsylb",vl:30039}}}),0)
  write(response.tx(loc:res),27)
  write(response_body.vl(fml:out),63629)
  write(response.bd(loc:res),{vl:63629})
  write(response_body.vl(fml:out),63629)
  write(ref.txres(27),{vl:63629})
  write(ref.committed(27),1)
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:63629}},1),1)
}
> cl_chans.recv(1,{tx:27,bd:{vl:63629}})
{
  write(cl_chans.spec.sent({tx:27,bd:{vl:63629}},1),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(15),17)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),17)
  write(mid_spec.queue.head,16)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:25221},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:25221})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25221})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:29071},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:29071})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:29071})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:29071}}}),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:29071}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:29071}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:29071}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),29071)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),29071)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:29071}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:61216},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:write,ky:"m",vl:61216})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61216})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:61216}}}),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:61216}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:61216}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:19807},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:19807})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:19807})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:51400},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:51400})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51400})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:51400}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:51400}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:51400}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:61216}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),61216)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),61216)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"m",vl:61216}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:19846},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:19846})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:19846})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:19846}}}),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:42746},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:42746})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42746})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:2998},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:2998})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2998})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:2998}}}),1)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:write,ky:"m",vl:24673},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:24673})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24673})
}
> cl.client_request(1,{knd:read,ky:"m",vl:4811},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:4811})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4811})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:4811}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:19846}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:19846}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),61216)
  write(response.bd(loc:res),{vl:61216})
  write(response_body.vl(fml:out),61216)
  write(ref.txres(5),{vl:61216})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:61216}},0),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(4),8)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),8)
  write(mid_spec.queue.head,5)
}
> cl_chans.send(1,{tx:6,bd:{vl:0}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:51400}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),51400)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),51400)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:51400}}})
{
  write(mid_spec.acked(4),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:2998}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),2998)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),2998)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:2998}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(0,{tx:5,bd:{vl:61216}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:61216}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:24673}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),24673)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),24673)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"m",vl:24673}}})
{
  write(mid_spec.acked(8),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:4811}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:4811}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),24673)
  write(response.bd(loc:res),{vl:24673})
  write(response_body.vl(fml:out),24673)
  write(ref.txres(9),{vl:24673})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:24673}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:20955},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:20955})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20955})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:40347},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:40347})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:40347})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:40347}}}),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(5),3)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),3)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:2998}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:2998}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:19807}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),19807)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),19807)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:19807}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(1,{tx:9,bd:{vl:24673}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:24673}},1),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),19807)
  write(ref.txres(10),{vl:19807})
  write(ref.committed(10),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:40347}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:read,ky:"wrsylb",vl:40347}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),19807)
  write(response.bd(loc:res),{vl:19807})
  write(response_body.vl(fml:out),19807)
  write(ref.txres(11),{vl:19807})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:19807}},0),1)
}
> cl_chans.send(0,{tx:10,bd:{vl:19807}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:19807}},0),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:10,bd:{vl:19807}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:19807}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:31887},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:31887})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31887})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:61683},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:61683})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61683})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:61683}}}),1)
}
> cl_chans.recv(0,{tx:11,bd:{vl:19807}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:19807}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:4554},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:4554})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:4554})
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(7),13)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),13)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:61683}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:61683}}}),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:970},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:970})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:970})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:970}}}),1)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(8),15)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),15)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:970}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:970}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:38473},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:38473})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38473})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:4554}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),4554)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),4554)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:4554}}})
{
  write(mid_spec.acked(14),1)
}
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),24673)
  write(ref.txres(16),{vl:24673})
  write(ref.committed(16),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:61683}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),61683)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),61683)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:61683}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:59511},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:59511})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:59511})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:59511}}}),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:59511}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:59511}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:7145},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:7145})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7145})
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(9),17)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),17)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:43372},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:43372})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:43372})
}
> cl.client_request(0,{knd:read,ky:"m",vl:22836},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:22836})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:22836})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:22836}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:970}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),970)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),970)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:970}}})
{
  write(mid_spec.acked(15),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:59511}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),59511)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),59511)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:59511}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:39234},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:39234})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:39234})
}
> cl_chans.send(1,{tx:16,bd:{vl:24673}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:24673}},1),1)
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),59511)
  write(ref.txres(18),{vl:59511})
  write(ref.committed(18),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(10),19)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),19)
  write(mid_spec.queue.head,11)
}
> cl_chans.send(1,{tx:18,bd:{vl:59511}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:59511}},1),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:59511}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:59511}},1),0)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),59511)
  write(ref.txres(12),{vl:59511})
  write(ref.committed(12),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:43372}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),43372)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),43372)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:43372}}})
{
  write(mid_spec.acked(19),1)
}
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),59511)
  write(ref.txres(21),{vl:59511})
  write(ref.committed(21),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:22497},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:22497})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22497})
}
> cl_chans.recv(1,{tx:16,bd:{vl:24673}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:24673}},1),0)
}
> cl_chans.send(1,{tx:12,bd:{vl:59511}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:59511}},1),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(11),22)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),22)
  write(mid_spec.queue.head,12)
}
> sec.req_chan.recv({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:22836}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:20,bd:{knd:read,ky:"m",vl:22836}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),43372)
  write(response.bd(loc:res),{vl:43372})
  write(response_body.vl(fml:out),43372)
  write(ref.txres(20),{vl:43372})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:43372}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:20898},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:20898})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20898})
}
> cl_chans.send(1,{tx:21,bd:{vl:59511}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:59511}},1),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),59511)
  write(ref.txres(23),{vl:59511})
  write(ref.committed(23),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:39254},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:39254})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39254})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:39254}}}),1)
}
> cl_chans.send(1,{tx:23,bd:{vl:59511}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:59511}},1),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:22497}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),22497)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),22497)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:22497}}})
{
  write(mid_spec.acked(22),1)
}
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(12),24)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),24)
  write(mid_spec.queue.head,13)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:39254}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),24)
  write(sec.rep.store("wrsylb"),39254)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),39254)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:39254}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:39595},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"m",vl:39595})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:39595})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:39595}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:39595}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:39595}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:39254}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:39254}}}),0)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(13),25)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),25)
  write(mid_spec.queue.head,14)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:20213},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:read,ky:"wrsylb",vl:20213})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:20213})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:39595}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),39595)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("m"),39595)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:39595}}})
{
  write(mid_spec.acked(25),1)
}
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:17351},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:17351})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17351})
}
> cl.client_request(0,{knd:write,ky:"m",vl:63337},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"m",vl:63337})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:63337})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:63337}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:10316},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:10316})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:10316})
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:63337}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:63337}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:61504},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:61504})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:61504})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:61504}}}),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:61504}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:61504}}}),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(2),1)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),1)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:17351}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),17351)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),17351)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:17351}}})
{
  write(mid_spec.acked(0),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:61504}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),61504)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),61504)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:61504}}})
{
  write(mid_spec.acked(3),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:63337}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),63337)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),63337)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:63337}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:38226},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:38226})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38226})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:38226}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:48260},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:48260})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48260})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:48260}}}),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:write,ky:"m",vl:6963},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:6963})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6963})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:6963}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:48260}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),48260)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),48260)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:48260}}})
{
  write(mid_spec.acked(5),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:38226}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:38226}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:48260}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"m",vl:48260}}}),0)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(4),6)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),6)
  write(mid_spec.queue.head,5)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:6963}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:6963}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:6963}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),6963)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),6963)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:6963}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:12604},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:12604})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:12604})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:10628},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:10628})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10628})
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:13188},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:13188})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:13188})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:13188}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:17107},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"m",vl:17107})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:17107})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:17107}}}),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(5),8)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),8)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:10628}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),10628)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),10628)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:10628}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(6),7)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),7)
  write(mid_spec.queue.head,7)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:17107}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"m",vl:17107}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),6963)
  write(response.bd(loc:res),{vl:6963})
  write(response_body.vl(fml:out),6963)
  write(ref.txres(10),{vl:6963})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:6963}},0),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:13188}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:13188}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),10628)
  write(response.bd(loc:res),{vl:10628})
  write(response_body.vl(fml:out),10628)
  write(ref.txres(9),{vl:10628})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:10628}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:53715},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:53715})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:53715})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:53715}}}),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:6963}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:6963}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:53715}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:53715}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),6963)
  write(response.bd(loc:res),{vl:6963})
  write(response_body.vl(fml:out),6963)
  write(ref.txres(11),{vl:6963})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:6963}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:6963}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:6963}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:12604}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),12604)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),12604)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:12604}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:10628}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:10628}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:60537},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:60537})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60537})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:60537}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:60537}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:60537}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),12604)
  write(response.bd(loc:res),{vl:12604})
  write(response_body.vl(fml:out),12604)
  write(ref.txres(12),{vl:12604})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:12604}},0),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:12604}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:12604}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:48080},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:48080})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:48080})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:48080}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:48080}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"m",vl:48080}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),12604)
  write(response.bd(loc:res),{vl:12604})
  write(response_body.vl(fml:out),12604)
  write(ref.txres(13),{vl:12604})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:12604}},0),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:12604}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:12604}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:49415},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:49415})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:49415})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:49415}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:45012},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:45012})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45012})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:45012}}}),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(7),14)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),14)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:49415}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:49415}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:10463},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:10463})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10463})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:10463}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:49415}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),49415)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),49415)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:49415}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(8),16)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),16)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:10463}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),10463)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),10463)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:10463}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:5124},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:5124})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:5124})
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:10463}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:10463}}}),0)
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),49415)
  write(ref.txres(17),{vl:49415})
  write(ref.committed(17),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:49415}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:49415}},1),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:49415}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:49415}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:45012}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:45012}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),49415)
  write(response.bd(loc:res),{vl:49415})
  write(response_body.vl(fml:out),49415)
  write(ref.txres(15),{vl:49415})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:49415}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:49415}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:49415}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:16039},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:16039})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:16039})
}
> cl.client_request(1,{knd:write,ky:"m",vl:300},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:300})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:300})
}
> cl.client_request(0,{knd:read,ky:"m",vl:20740},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:20740})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:20740})
}
> cl.client_request(1,{knd:read,ky:"m",vl:49773},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:49773})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49773})
}
> cl.client_request(0,{knd:write,ky:"m",vl:10947},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"m",vl:10947})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:10947})
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(9),22)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),22)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:10947}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),10947)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),10947)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:10947}}})
{
  write(mid_spec.acked(22),1)
}
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),10947)
  write(ref.txres(21),{vl:10947})
  write(ref.committed(21),1)
}
> cl_chans.send(1,{tx:21,bd:{vl:10947}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:10947}},1),1)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),10947)
  write(ref.txres(20),{vl:10947})
  write(ref.committed(20),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:24538},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:24538})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24538})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:24538}}}),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:58854},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:58854})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:58854})
}
> cl_chans.recv(1,{tx:21,bd:{vl:10947}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:10947}},1),0)
}
> cl_chans.send(1,{tx:20,bd:{vl:10947}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:10947}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:24538}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"m",vl:24538}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),10947)
  write(response.bd(loc:res),{vl:10947})
  write(response_body.vl(fml:out),10947)
  write(ref.txres(23),{vl:10947})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:10947}},0),1)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),10947)
  write(ref.txres(24),{vl:10947})
  write(ref.committed(24),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:10947}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:10947}},0),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(10),19)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),19)
  write(mid_spec.queue.head,11)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(11),18)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),18)
  write(mid_spec.queue.head,12)
}
> cl_chans.send(1,{tx:24,bd:{vl:10947}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:10947}},1),1)
}
> cl_chans.recv(1,{tx:24,bd:{vl:10947}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:10947}},1),0)
}
> cl_chans.recv(1,{tx:20,bd:{vl:10947}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:10947}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:300}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),300)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),300)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:300}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:16039}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),16039)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),16039)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:16039}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.recv(0,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:48453},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"m",vl:48453})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48453})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:48453}}}),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(12),25)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),25)
  write(mid_spec.queue.head,13)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:49437},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:49437})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:49437})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:49437}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:51253},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:51253})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51253})
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:51253}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),51253)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),51253)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:51253}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:65234},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"m",vl:65234})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:65234})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"m",vl:65234}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:47647},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:47647})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47647})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:47647}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:12367},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"wrsylb",vl:12367})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:12367})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:12367}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:49437}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:49437}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),51253)
  write(response.bd(loc:res),{vl:51253})
  write(response_body.vl(fml:out),51253)
  write(ref.txres(0),{vl:51253})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:51253}},1),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:10187},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:10187})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10187})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:10187}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:10187}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:10187}}}),0)
}
> cl_chans.recv(1,{tx:0,bd:{vl:51253}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:51253}},1),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(1),5)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),5)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:47647}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:47647}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:10187}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),10187)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),10187)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:10187}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:46850},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:46850})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:46850})
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),10187)
  write(ref.txres(6),{vl:10187})
  write(ref.committed(6),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:31089},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:31089})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31089})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:31089}}}),1)
}
> cl_chans.send(0,{tx:6,bd:{vl:10187}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:10187}},0),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:43227},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:43227})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:43227})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:43227}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:43227}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:43227}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),10187)
  write(response.bd(loc:res),{vl:10187})
  write(response_body.vl(fml:out),10187)
  write(ref.txres(8),{vl:10187})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:10187}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:60802},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:60802})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:60802})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:60802}}}),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(2),9)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),9)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:8086},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:8086})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:8086})
}
> cl_chans.recv(0,{tx:6,bd:{vl:10187}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:10187}},0),0)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),10187)
  write(ref.txres(10),{vl:10187})
  write(ref.committed(10),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:40200},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:40200})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:40200})
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:60802}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:60802}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:31089}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:read,ky:"m",vl:31089}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:12367}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:read,ky:"wrsylb",vl:12367}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),10187)
  write(response.bd(loc:res),{vl:10187})
  write(response_body.vl(fml:out),10187)
  write(ref.txres(4),{vl:10187})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:10187}},1),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:10187}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:10187}},1),0)
}
> cl_chans.send(0,{tx:10,bd:{vl:10187}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:10187}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:45859},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:45859})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45859})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:45859}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:60802}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),60802)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),60802)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:60802}}})
{
  write(mid_spec.acked(9),1)
}
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(3),12)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),12)
  write(mid_spec.queue.head,4)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(4),11)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),11)
  write(mid_spec.queue.head,5)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:45859}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),45859)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),45859)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:45859}}})
{
  write(mid_spec.acked(12),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:read,ky:"m",vl:65234}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"m",vl:65234}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),60802)
  write(response.bd(loc:res),{vl:60802})
  write(response_body.vl(fml:out),60802)
  write(ref.txres(2),{vl:60802})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:60802}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:45859}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:45859}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:40200}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),40200)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),40200)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:40200}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:63582},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:63582})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:63582})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:63582}}}),1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:60802}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:60802}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:63582}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:63582}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),45859)
  write(response.bd(loc:res),{vl:45859})
  write(response_body.vl(fml:out),45859)
  write(ref.txres(13),{vl:45859})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:45859}},0),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:10187}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:10187}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:88},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:88})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:88})
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:38320},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:38320})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38320})
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),45859)
  write(ref.txres(14),{vl:45859})
  write(ref.committed(14),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:13984},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:13984})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13984})
}
> cl_chans.send(1,{tx:14,bd:{vl:45859}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:45859}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:54175},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:54175})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54175})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:61711},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:61711})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61711})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),40200)
  write(ref.txres(17),{vl:40200})
  write(ref.committed(17),1)
}
> ref.commit(15,prim)
{
  write(response_body.vl(fml:out),45859)
  write(ref.txres(15),{vl:45859})
  write(ref.committed(15),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:40687},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:40687})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40687})
}
> cl_chans.recv(0,{tx:13,bd:{vl:45859}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:45859}},0),0)
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),40200)
  write(ref.txres(16),{vl:40200})
  write(ref.committed(16),1)
}
> cl_chans.recv(1,{tx:14,bd:{vl:45859}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:45859}},1),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(5),19)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),19)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(6),18)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),18)
  write(mid_spec.queue.head,7)
}
> cl_chans.send(1,{tx:15,bd:{vl:45859}})
{
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:45859}},1),1)
}
> cl_chans.send(1,{tx:16,bd:{vl:40200}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:40200}},1),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:10187}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:10187}},0),0)
}
> cl_chans.recv(1,{tx:15,bd:{vl:45859}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:45859}},1),0)
}
> cl_chans.send(0,{tx:17,bd:{vl:40200}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:40200}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:40687}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),40687)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),40687)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:40687}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:16,bd:{vl:40200}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:40200}},1),0)
}
> cl_chans.recv(0,{tx:17,bd:{vl:40200}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:40200}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:61711}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),61711)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),61711)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:61711}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:21910},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:21910})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21910})
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:4043},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:4043})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4043})
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),40200)
  write(ref.txres(21),{vl:40200})
  write(ref.committed(21),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:14487},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"m",vl:14487})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14487})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:14487}}}),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(7),22)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),22)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:14487}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),14487)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),14487)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:14487}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl_chans.recv(0,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:61755},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:61755})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61755})
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),14487)
  write(ref.txres(23),{vl:14487})
  write(ref.committed(23),1)
}
> cl_chans.send(0,{tx:23,bd:{vl:14487}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:14487}},0),1)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(8),20)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),20)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:21910}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),21910)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),21910)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:21910}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl_chans.recv(0,{tx:23,bd:{vl:14487}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:14487}},0),0)
}
> cl_chans.send(0,{tx:21,bd:{vl:40200}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:40200}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:14487}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:14487}}}),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:40200}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:40200}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:34510},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:34510})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:34510})
}
> cl.client_request(1,{knd:read,ky:"m",vl:29640},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:29640})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29640})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:read,ky:"m",vl:29640}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:7968},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:7968})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:7968})
}
> cl.client_request(1,{knd:read,ky:"m",vl:51101},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(27),{knd:read,ky:"m",vl:51101})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:51101})
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),14487)
  write(ref.txres(27),{vl:14487})
  write(ref.committed(27),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:29725},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:write,ky:"wrsylb",vl:29725})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29725})
}
> cl_chans.send(1,{tx:27,bd:{vl:14487}})
{
  write(service_spec.responded(27),1)
  write(cl_chans.spec.sent({tx:27,bd:{vl:14487}},1),1)
}
> cl_chans.recv(1,{tx:27,bd:{vl:14487}})
{
  write(cl_chans.spec.sent({tx:27,bd:{vl:14487}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:16507},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:16507})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:16507})
}
> ref.commit(0,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:55171},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"m",vl:55171})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:55171})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:55171}}}),1)
}
> cl_chans.send(1,{tx:0,bd:{vl:0}})
{
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:9965},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:9965})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9965})
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(0),1)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),1)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:55171}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),1)
  write(sec.rep.store("m"),55171)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),55171)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"m",vl:55171}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:9965}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),9965)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),9965)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:9965}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:64789},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:64789})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:64789})
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:55171}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:write,ky:"m",vl:55171}}}),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:64864},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:64864})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64864})
}
> cl.client_request(1,{knd:write,ky:"m",vl:32237},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"m",vl:32237})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32237})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:32237}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:11531},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:11531})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:11531})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:12002},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:12002})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12002})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:12002}}}),1)
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),55171)
  write(ref.txres(4),{vl:55171})
  write(ref.committed(4),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:12002}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:12002}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:32237}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:32237}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:30802},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:30802})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:30802})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:30802}}}),1)
}
> cl_chans.send(1,{tx:4,bd:{vl:55171}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:55171}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:30802}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:30802}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:24521},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"m",vl:24521})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24521})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:24521}}}),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(2),9)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),9)
  write(mid_spec.queue.head,3)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),9965)
  write(ref.txres(3),{vl:9965})
  write(ref.committed(3),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:24521}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:24521}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:24521}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),24521)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),24521)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:9,bd:{knd:write,ky:"m",vl:24521}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(1,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},1),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(3),8)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),8)
  write(mid_spec.queue.head,4)
}
> cl_chans.send(0,{tx:3,bd:{vl:9965}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:9965}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:30802}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),30802)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),30802)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:30802}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:9067},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:9067})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:9067})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:9067}}}),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:55171}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:55171}},1),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:9965}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:9965}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:9067}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:9067}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),30802)
  write(response.bd(loc:res),{vl:30802})
  write(response_body.vl(fml:out),30802)
  write(ref.txres(10),{vl:30802})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:30802}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:36904},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:36904})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36904})
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),30802)
  write(ref.txres(11),{vl:30802})
  write(ref.committed(11),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:read,ky:"m",vl:54879},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:54879})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54879})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:54879}}}),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(5),6)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),6)
  write(mid_spec.queue.head,6)
}
> cl_chans.recv(0,{tx:10,bd:{vl:30802}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:30802}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:56861},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:56861})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:56861})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:56861}}}),1)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:56861}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:56861}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:12002}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),12002)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),12002)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:12002}}})
{
  write(mid_spec.acked(7),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:54879}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:54879}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),24521)
  write(response.bd(loc:res),{vl:24521})
  write(response_body.vl(fml:out),24521)
  write(ref.txres(12),{vl:24521})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:24521}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:57958},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:57958})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57958})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:57958}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:3978},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:3978})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3978})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:3978}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:17305},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:17305})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17305})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:17305}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:11531}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),11531)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),11531)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:11531}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:34437},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"m",vl:34437})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:34437})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:34437}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:31870},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:31870})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31870})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:31870}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:2616},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:2616})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:2616})
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),12002)
  write(ref.txres(19),{vl:12002})
  write(ref.committed(19),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:36307},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:36307})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:36307})
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(6),17)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),17)
  write(mid_spec.queue.head,7)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),12002)
  write(ref.txres(20),{vl:12002})
  write(ref.committed(20),1)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(7),16)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),16)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(0,{tx:12,bd:{vl:24521}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:24521}},0),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:31870}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:31870}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),12002)
  write(response.bd(loc:res),{vl:12002})
  write(response_body.vl(fml:out),12002)
  write(ref.txres(18),{vl:12002})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:12002}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:18990},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:18990})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18990})
}
> cl_chans.recv(0,{tx:18,bd:{vl:12002}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:12002}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:34437}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),17)
  write(sec.rep.store("m"),34437)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),34437)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:34437}}})
{
  write(mid_spec.acked(17),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:57958}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:57958}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),12002)
  write(response.bd(loc:res),{vl:12002})
  write(response_body.vl(fml:out),12002)
  write(ref.txres(14),{vl:12002})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:12002}},0),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(8),21)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),21)
  write(mid_spec.queue.head,9)
}
> cl_chans.send(1,{tx:11,bd:{vl:30802}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:30802}},1),1)
}
> cl_chans.send(1,{tx:19,bd:{vl:12002}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:12002}},1),1)
}
> cl_chans.send(1,{tx:20,bd:{vl:12002}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:12002}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:17305}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),17305)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),17305)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:17305}}})
{
  write(mid_spec.acked(16),1)
}
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(9),15)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),15)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:3978}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:3978}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:18990}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),18990)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),18990)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:18990}}})
{
  write(mid_spec.acked(21),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:3978}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),3978)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),3978)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:3978}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:2079},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:2079})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2079})
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:17305}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:17305}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:61144},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:61144})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61144})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:61144}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:57475},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:57475})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:57475})
}
> cl.client_request(0,{knd:read,ky:"m",vl:24612},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:24612})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24612})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:24612}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:61144}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:61144}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),3978)
  write(response.bd(loc:res),{vl:3978})
  write(response_body.vl(fml:out),3978)
  write(ref.txres(23),{vl:3978})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:3978}},0),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(10),22)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),22)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:write,ky:"m",vl:58164},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:58164})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:58164})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:58164}}}),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:12002}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:12002}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:58164}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:58164}}}),0)
}
> cl_chans.recv(0,{tx:23,bd:{vl:3978}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:3978}},0),0)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(11),26)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),26)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(1,{tx:11,bd:{vl:30802}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:30802}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:34437}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:17,bd:{knd:write,ky:"m",vl:34437}}}),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:59402},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:59402})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:59402})
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(12),13)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),13)
  write(mid_spec.queue.head,13)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:2079}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),2079)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),2079)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:2079}}})
{
  write(mid_spec.acked(22),1)
}
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(13),5)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),5)
  write(mid_spec.queue.head,14)
}
> cl_chans.recv(1,{tx:20,bd:{vl:12002}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:12002}},1),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:58164}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),26)
  write(sec.rep.store("m"),58164)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),58164)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:58164}}})
{
  write(mid_spec.acked(26),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:37134},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(28),{knd:write,ky:"m",vl:37134})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:37134})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:28,bd:{knd:write,ky:"m",vl:37134}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:45809},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(29),{knd:write,ky:"m",vl:45809})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:45809})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:24313},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:24313})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24313})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:32189},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:32189})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32189})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:32189}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:60005},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"m",vl:60005})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60005})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:24313}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),24313)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),24313)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:24313}}})
{
  write(mid_spec.acked(0),1)
}
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:9731},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:9731})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9731})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:9731}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:32189}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:32189}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),24313)
  write(response.bd(loc:res),{vl:24313})
  write(response_body.vl(fml:out),24313)
  write(ref.txres(1),{vl:24313})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:24313}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:9731}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:9731}}}),0)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(1),3)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),3)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(1,{tx:1,bd:{vl:24313}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:24313}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:38040},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:38040})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:38040})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:38040}}}),1)
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:38040}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:38040}}}),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:9731}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),9731)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),9731)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:9731}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:48967},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:48967})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:48967})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:48967}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:38040}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),38040)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),38040)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:38040}}})
{
  write(mid_spec.acked(4),1)
}
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(3),5)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),5)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:read,ky:"m",vl:36757},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:36757})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36757})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:36757}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:28535},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:28535})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28535})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:28535}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:48967}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),48967)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),48967)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:48967}}})
{
  write(mid_spec.acked(5),1)
}
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(4),7)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),7)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:39415},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:39415})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39415})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:28535}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),28535)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),28535)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:28535}}})
{
  write(mid_spec.acked(7),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:28535}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:28535}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:36757}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:read,ky:"m",vl:36757}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),28535)
  write(response.bd(loc:res),{vl:28535})
  write(response_body.vl(fml:out),28535)
  write(ref.txres(6),{vl:28535})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:28535}},1),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:28535}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:28535}},1),0)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(5),8)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),8)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:read,ky:"m",vl:42326},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:42326})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:42326})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:42326}}}),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:33356},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:33356})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33356})
}
> cl.client_request(1,{knd:write,ky:"m",vl:23880},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:23880})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23880})
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:7041},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:7041})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:7041})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:7041}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:39415}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),39415)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),39415)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:39415}}})
{
  write(mid_spec.acked(8),1)
}
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(6),11)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),11)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:42326}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:42326}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),28535)
  write(response.bd(loc:res),{vl:28535})
  write(response_body.vl(fml:out),28535)
  write(ref.txres(9),{vl:28535})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:28535}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:7041}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:7041}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),39415)
  write(response.bd(loc:res),{vl:39415})
  write(response_body.vl(fml:out),39415)
  write(ref.txres(12),{vl:39415})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:39415}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:15695},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:15695})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15695})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:23880}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),23880)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),23880)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:23880}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),23880)
  write(ref.txres(13),{vl:23880})
  write(ref.committed(13),1)
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:48967}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:48967}}}),0)
}
> cl_chans.send(1,{tx:13,bd:{vl:23880}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:23880}},1),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:23880}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:23880}},1),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:28535}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:28535}},1),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:39415}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:39415}},1),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:2268},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"m",vl:2268})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:2268})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:2268}}}),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(7),10)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),10)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:2268}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"m",vl:2268}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),23880)
  write(response.bd(loc:res),{vl:23880})
  write(response_body.vl(fml:out),23880)
  write(ref.txres(14),{vl:23880})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:23880}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:33356}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),33356)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),33356)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:33356}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:3022},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:3022})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:3022})
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(8),15)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),15)
  write(mid_spec.queue.head,9)
}
> cl.client_request(0,{knd:read,ky:"m",vl:20927},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:read,ky:"m",vl:20927})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:20927})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:20927}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:3022}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),3022)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),3022)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:3022}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:23880}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:23880}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:20927}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:read,ky:"m",vl:20927}}}),0)
  write(response.tx(loc:res),16)
  write(response_body.vl(fml:out),3022)
  write(response.bd(loc:res),{vl:3022})
  write(response_body.vl(fml:out),3022)
  write(ref.txres(16),{vl:3022})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:3022}},0),1)
}
> cl_chans.recv(0,{tx:16,bd:{vl:3022}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:3022}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:44205},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:44205})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44205})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),3022)
  write(ref.txres(17),{vl:3022})
  write(ref.committed(17),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:3022}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:3022}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:3022}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:3022}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:18204},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:18204})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:18204})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:18204}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:32332},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"m",vl:32332})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:32332})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:32332}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:6494},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:6494})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:6494})
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:18204}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:18204}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),39415)
  write(response.bd(loc:res),{vl:39415})
  write(response_body.vl(fml:out),39415)
  write(ref.txres(18),{vl:39415})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:39415}},1),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:39415}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:39415}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:32332}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"m",vl:32332}}}),0)
  write(response.tx(loc:res),19)
  write(response_body.vl(fml:out),3022)
  write(response.bd(loc:res),{vl:3022})
  write(response_body.vl(fml:out),3022)
  write(ref.txres(19),{vl:3022})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:3022}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:627},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"m",vl:627})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:627})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:627}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:627}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:627}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:65268},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:65268})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:65268})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"m",vl:65268}}}),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(9),21)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),21)
  write(mid_spec.queue.head,10)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:34396},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:34396})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:34396})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:34396}}}),1)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),39415)
  write(ref.txres(20),{vl:39415})
  write(ref.committed(20),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:35293},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:35293})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:35293})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:35293}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:15251},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:15251})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15251})
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(10),24)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),24)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:11715},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:11715})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:11715})
}
> cl_chans.send(1,{tx:20,bd:{vl:39415}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:39415}},1),1)
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),3022)
  write(ref.txres(25),{vl:3022})
  write(ref.committed(25),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:18948},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:18948})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:18948})
}
> cl_chans.send(1,{tx:25,bd:{vl:3022}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:3022}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:627}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),627)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),627)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:627}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:41372},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:write,ky:"m",vl:41372})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41372})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:35293}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),35293)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),35293)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:35293}}})
{
  write(mid_spec.acked(24),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:35293}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:35293}}}),0)
}
> ser.serialize(28)
{
  write(ser.serialized(28),1)
  write(ser.queue.contents(11),28)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),28)
  write(mid_spec.queue.head,12)
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(12),27)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),27)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(0,{tx:21,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),0)
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(13),26)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),26)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:28,bd:{knd:write,ky:"m",vl:41372}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),28)
  write(sec.rep.store("m"),41372)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),41372)
  write(ref.txres(28),{vl:0})
  write(ref.committed(28),1)
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:28,bd:{knd:write,ky:"m",vl:41372}}})
{
  write(mid_spec.acked(28),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:13861},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:write,ky:"m",vl:13861})
  write(ref.next,30)
  write(mid_spec.req_dest(29),prim)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:13861})
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:61572},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:61572})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:61572})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:61572}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:61572}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:61572}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:42313},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:42313})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42313})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:42313}}}),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:42313}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"wrsylb",vl:42313}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:21419},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:21419})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21419})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:21419}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:24356},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:24356})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:24356})
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:21419}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:21419}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:26346},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:26346})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26346})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:26346}}}),1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:37841},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:37841})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37841})
}
> cl.client_request(0,{knd:write,ky:"m",vl:2797},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:2797})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:2797})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:2797}}}),1)
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(0),6)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),6)
  write(mid_spec.queue.head,1)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:2797}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:2797}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:2797}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),2797)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),2797)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:2797}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:48761},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:48761})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48761})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:48761}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:26346}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:read,ky:"m",vl:26346}}}),0)
  write(response.tx(loc:res),4)
  write(response_body.vl(fml:out),2797)
  write(response.bd(loc:res),{vl:2797})
  write(response_body.vl(fml:out),2797)
  write(ref.txres(4),{vl:2797})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:2797}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:48761}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:48761}}}),0)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(1),7)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),7)
  write(mid_spec.queue.head,2)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:28846},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"wrsylb",vl:28846})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:28846})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:28846}}}),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:2797}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:2797}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:28846}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"wrsylb",vl:28846}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:15487},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:15487})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:15487})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:15487}}}),1)
}
> cl_chans.send(1,{tx:3,bd:{vl:0}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(2),9)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),9)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:write,ky:"m",vl:4709},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:4709})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4709})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:4709}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:48761}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),48761)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),48761)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:48761}}})
{
  write(mid_spec.acked(7),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:15487}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:15487}}}),0)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(3),10)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),10)
  write(mid_spec.queue.head,4)
}
> cl.client_request(1,{knd:write,ky:"m",vl:28325},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:28325})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28325})
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:26731},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"m",vl:26731})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:26731})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:26731}}}),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:15487}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),15487)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),15487)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:15487}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(4),12)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),12)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:4709}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:4709}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:460},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"m",vl:460})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:460})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:460}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:34709},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:34709})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:34709})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:34709}}}),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(5),14)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),14)
  write(mid_spec.queue.head,6)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:4709}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),4709)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),4709)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:4709}}})
{
  write(mid_spec.acked(10),1)
}
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:460}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:460}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:28887},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:28887})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28887})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(7),15)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),15)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:26731}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),26731)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),26731)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:26731}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:32953},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:32953})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32953})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:32953}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:32953}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:32953}}}),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(8),16)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),16)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:34709}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),34709)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),34709)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:34709}}})
{
  write(mid_spec.acked(14),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:34709}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:34709}}}),0)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(9),11)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),11)
  write(mid_spec.queue.head,10)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:26731}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:26731}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:460}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),460)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),460)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"m",vl:460}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:28887}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),28887)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),28887)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:28887}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(10),5)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),5)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:read,ky:"m",vl:4932},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:4932})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4932})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:32953}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),32953)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),32953)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"m",vl:32953}}})
{
  write(mid_spec.acked(16),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:28325}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),28325)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),28325)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"m",vl:28325}}})
{
  write(mid_spec.acked(11),1)
}
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),28325)
  write(ref.txres(17),{vl:28325})
  write(ref.committed(17),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:28325}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:28325}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:53938},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:53938})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:53938})
}
> cl_chans.recv(1,{tx:17,bd:{vl:28325}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:28325}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:37841}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),37841)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),37841)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:37841}}})
{
  write(mid_spec.acked(5),1)
}
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),37841)
  write(ref.txres(18),{vl:37841})
  write(ref.committed(18),1)
}
> cl_chans.send(0,{tx:18,bd:{vl:37841}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:37841}},0),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:2487},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:2487})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:2487})
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(11),19)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),19)
  write(mid_spec.queue.head,12)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:17502},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:17502})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:17502})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:2487}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),2487)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),2487)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:2487}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:35253},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:35253})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35253})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:35253}}}),1)
}
> cl_chans.recv(0,{tx:18,bd:{vl:37841}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:37841}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:35253}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"m",vl:35253}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),2487)
  write(response.bd(loc:res),{vl:2487})
  write(response_body.vl(fml:out),2487)
  write(ref.txres(21),{vl:2487})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:2487}},0),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:2487}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:2487}},0),0)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),37841)
  write(ref.txres(20),{vl:37841})
  write(ref.committed(20),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:22246},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:22246})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:22246})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:22246}}}),1)
}
> cl_chans.send(0,{tx:20,bd:{vl:37841}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:37841}},0),1)
}
> cl_chans.recv(0,{tx:20,bd:{vl:37841}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:37841}},0),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:24496},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:24496})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24496})
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:22246}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:22246}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),37841)
  write(response.bd(loc:res),{vl:37841})
  write(response_body.vl(fml:out),37841)
  write(ref.txres(22),{vl:37841})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:37841}},1),1)
}
> cl_chans.recv(1,{tx:22,bd:{vl:37841}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:37841}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:13572},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"m",vl:13572})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:13572})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:13572}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:11637},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:11637})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11637})
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(12),24)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),24)
  write(mid_spec.queue.head,13)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(13),23)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),23)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:13572}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),13572)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),13572)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:24,bd:{knd:write,ky:"m",vl:13572}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:26575},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:26575})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:26575})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:26,bd:{knd:write,ky:"m",vl:26575}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:29673},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:29673})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29673})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:29673}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:29673}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:29673}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:21565},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:21565})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21565})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:3996},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"wrsylb",vl:3996})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3996})
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(0),2)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),2)
  write(mid_spec.queue.head,1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:57615},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:57615})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:57615})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:57615}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:57615}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:57615}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:3996}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),2)
  write(sec.rep.store("wrsylb"),3996)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),3996)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:2,bd:{knd:write,ky:"wrsylb",vl:3996}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:39480},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:39480})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39480})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:39480}}}),1)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(3),4)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),4)
  write(mid_spec.queue.head,4)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:25293},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"wrsylb",vl:25293})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25293})
}
> cl.client_request(1,{knd:read,ky:"m",vl:8220},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:8220})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:8220})
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:39480}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:39480}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:21565}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),21565)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),21565)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:21565}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:57615}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),57615)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),57615)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:57615}}})
{
  write(mid_spec.acked(3),1)
}
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),57615)
  write(ref.txres(5),{vl:57615})
  write(ref.committed(5),1)
}
> cl_chans.send(0,{tx:6,bd:{vl:0}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:18362},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:read,ky:"m",vl:18362})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:18362})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:39480}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),39480)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),39480)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:39480}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:5,bd:{vl:57615}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:57615}},0),1)
}
> cl_chans.recv(0,{tx:5,bd:{vl:57615}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:57615}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:12387},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"wrsylb",vl:12387})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12387})
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(4),8)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),8)
  write(mid_spec.queue.head,5)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:3237},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:3237})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:3237})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:12387}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),8)
  write(sec.rep.store("wrsylb"),12387)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),12387)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"wrsylb",vl:12387}}})
{
  write(mid_spec.acked(8),1)
}
}
> ref.commit(7,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
}
> cl_chans.send(0,{tx:7,bd:{vl:0}})
{
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:47619},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:47619})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47619})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:47619}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:47619}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:47619}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:46860},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"wrsylb",vl:46860})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46860})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:46860}}}),1)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:55485},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:55485})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:55485})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:55485}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:35940},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:35940})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:35940})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:35940}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:55485}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:55485}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),12387)
  write(response.bd(loc:res),{vl:12387})
  write(response_body.vl(fml:out),12387)
  write(ref.txres(12),{vl:12387})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:12387}},0),1)
}
> cl_chans.recv(0,{tx:12,bd:{vl:12387}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:12387}},0),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:50083},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:50083})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50083})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:50083}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:46860}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("wrsylb"),46860)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),46860)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:46860}}})
{
  write(mid_spec.acked(11),1)
}
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(7),10)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),10)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:35940}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),35940)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),35940)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:35940}}})
{
  write(mid_spec.acked(13),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:47619}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),47619)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),47619)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:47619}}})
{
  write(mid_spec.acked(10),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:46860}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"wrsylb",vl:46860}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:50083}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:read,ky:"wrsylb",vl:50083}}}),0)
  write(response.tx(loc:res),14)
  write(response_body.vl(fml:out),35940)
  write(response.bd(loc:res),{vl:35940})
  write(response_body.vl(fml:out),35940)
  write(ref.txres(14),{vl:35940})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:35940}},0),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(8),9)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),9)
  write(mid_spec.queue.head,9)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:35940}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:35940}}}),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:3237}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),3237)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),3237)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:3237}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:26426},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:26426})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:26426})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:26426}}}),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:14,bd:{vl:35940}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:35940}},0),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(9),15)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),15)
  write(mid_spec.queue.head,10)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:26426}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:26426}}}),0)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:26426}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),26426)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("m"),26426)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:26426}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(1,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:35169},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:read,ky:"m",vl:35169})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:35169})
}
> ref.commit(16,prim)
{
  write(response_body.vl(fml:out),26426)
  write(ref.txres(16),{vl:26426})
  write(ref.committed(16),1)
}
> cl_chans.send(0,{tx:16,bd:{vl:26426}})
{
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:26426}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:60518},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:60518})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:60518})
}
> cl_chans.recv(0,{tx:16,bd:{vl:26426}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:26426}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:27310},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"m",vl:27310})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:27310})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:23247},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:23247})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:23247})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:23247}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:29451},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"m",vl:29451})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:29451})
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(10),20)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),20)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:29451}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),20)
  write(sec.rep.store("m"),29451)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),29451)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:20,bd:{knd:write,ky:"m",vl:29451}}})
{
  write(mid_spec.acked(20),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:23247}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:23247}}}),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:5748},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"m",vl:5748})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5748})
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),29451)
  write(ref.txres(17),{vl:29451})
  write(ref.committed(17),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(11),21)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),21)
  write(mid_spec.queue.head,12)
}
> cl_chans.send(1,{tx:17,bd:{vl:29451}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:29451}},1),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(12),19)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),19)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(1,{tx:17,bd:{vl:29451}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:29451}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:5748}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),21)
  write(sec.rep.store("m"),5748)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),5748)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:21,bd:{knd:write,ky:"m",vl:5748}}})
{
  write(mid_spec.acked(21),1)
}
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(13),18)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),18)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:23247}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),23247)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),23247)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:23247}}})
{
  write(mid_spec.acked(19),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:27310}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),27310)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("m"),27310)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:27310}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:4805},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:4805})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4805})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:4805}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:4805}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:4805}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:63143},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:63143})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:63143})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:63143}}}),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(14),22)
  write(ser.queue.head,15)
  write(mid_spec.queue.contents(14),22)
  write(mid_spec.queue.head,15)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:2645},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:write,ky:"wrsylb",vl:2645})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2645})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:4805}}})
{
  write(mid_spec.queue.tail,15)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),4805)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,15)
  write(ref.rep.store("m"),4805)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"m",vl:4805}}})
{
  write(mid_spec.acked(22),1)
}
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(15),24)
  write(ser.queue.head,16)
  write(mid_spec.queue.contents(15),24)
  write(mid_spec.queue.head,16)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:45811},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:45811})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:45811})
}
> cl_chans.recv(1,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:2645}}})
{
  write(mid_spec.queue.tail,16)
  write(response.tx(loc:res),24)
  write(sec.rep.store("wrsylb"),2645)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,16)
  write(ref.rep.store("wrsylb"),2645)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"wrsylb",vl:2645}}})
{
  write(mid_spec.acked(24),1)
}
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),2645)
  write(ref.txres(25),{vl:2645})
  write(ref.committed(25),1)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:63143}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:63143}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),2645)
  write(response.bd(loc:res),{vl:2645})
  write(response_body.vl(fml:out),2645)
  write(ref.txres(23),{vl:2645})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:2645}},1),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:22511},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:22511})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:22511})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:45905},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:45905})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:45905})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:22511}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),22511)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),22511)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:22511}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:45905}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),45905)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),45905)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:45905}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:61464},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"m",vl:61464})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:61464})
}
> cl.client_request(0,{knd:read,ky:"m",vl:41394},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:41394})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:41394})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:41394}}}),1)
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> cl_chans.recv(1,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},1),0)
}
> cl_chans.send(0,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:39286},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:39286})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:39286})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:39286}}}),1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:31316},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:31316})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:31316})
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:write,ky:"m",vl:10195},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:write,ky:"m",vl:10195})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:10195})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:10195}}}),1)
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(3),6)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),6)
  write(mid_spec.queue.head,4)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:41394}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:41394}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:39286}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:39286}}}),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(4),4)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),4)
  write(mid_spec.queue.head,5)
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:64101},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:read,ky:"m",vl:64101})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64101})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:64101}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:889},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:write,ky:"m",vl:889})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:889})
}
> cl.client_request(1,{knd:read,ky:"m",vl:45287},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:45287})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45287})
}
> cl.client_request(1,{knd:write,ky:"m",vl:17528},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"m",vl:17528})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17528})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:17528}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:59943},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:59943})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:59943})
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(5),10)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),10)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:38680},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:38680})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:38680})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:38680}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:31316}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),31316)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),31316)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:31316}}})
{
  write(mid_spec.acked(5),1)
}
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(6),8)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),8)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:10195}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),6)
  write(sec.rep.store("m"),10195)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),10195)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"m",vl:10195}}})
{
  write(mid_spec.acked(6),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:10195}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:write,ky:"m",vl:10195}}}),0)
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:38680}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:38680}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),31316)
  write(response.bd(loc:res),{vl:31316})
  write(response_body.vl(fml:out),31316)
  write(ref.txres(12),{vl:31316})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:31316}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:64101}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:read,ky:"m",vl:64101}}}),0)
  write(response.tx(loc:res),7)
  write(response_body.vl(fml:out),10195)
  write(response.bd(loc:res),{vl:10195})
  write(response_body.vl(fml:out),10195)
  write(ref.txres(7),{vl:10195})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:10195}},1),1)
}
> cl_chans.recv(1,{tx:12,bd:{vl:31316}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:31316}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:17528}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:17528}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:45400},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:read,ky:"m",vl:45400})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:45400})
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),10195)
  write(ref.txres(9),{vl:10195})
  write(ref.committed(9),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:10195}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:10195}},1),0)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),10195)
  write(ref.txres(11),{vl:10195})
  write(ref.committed(11),1)
}
> cl_chans.send(1,{tx:9,bd:{vl:10195}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:10195}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:41830},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:41830})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41830})
}
> cl_chans.send(1,{tx:11,bd:{vl:10195}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:10195}},1),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(7),14)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),14)
  write(mid_spec.queue.head,8)
}
> ref.commit(13,prim)
{
  write(response_body.vl(fml:out),10195)
  write(ref.txres(13),{vl:10195})
  write(ref.committed(13),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:21350},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:21350})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:21350})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:21350}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:39286}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),39286)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),39286)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:39286}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:25478},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:25478})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:25478})
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:21350}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:21350}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),31316)
  write(response.bd(loc:res),{vl:31316})
  write(response_body.vl(fml:out),31316)
  write(ref.txres(15),{vl:31316})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:31316}},0),1)
}
> cl_chans.send(0,{tx:13,bd:{vl:10195}})
{
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:10195}},0),1)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(8),16)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),16)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:15,bd:{vl:31316}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:31316}},0),0)
}
> cl_chans.recv(1,{tx:11,bd:{vl:10195}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:10195}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:39128},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:39128})
  write(ref.next,18)
  write(mid_spec.req_dest(17),sec)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:39128})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:39128}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:39128}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:17,bd:{knd:read,ky:"wrsylb",vl:39128}}}),0)
  write(response.tx(loc:res),17)
  write(response_body.vl(fml:out),31316)
  write(response.bd(loc:res),{vl:31316})
  write(response_body.vl(fml:out),31316)
  write(ref.txres(17),{vl:31316})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:31316}},1),1)
}
> cl_chans.recv(0,{tx:13,bd:{vl:10195}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:10195}},0),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:31316}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:31316}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:35453},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:35453})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:35453})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:35453}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:35453}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:35453}}}),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:17528}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),17528)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),17528)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"m",vl:17528}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:64540},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:64540})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:64540})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:64540}}}),1)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:64540}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:64540}}}),0)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(9),19)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),19)
  write(mid_spec.queue.head,10)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(10),18)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),18)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:read,ky:"m",vl:63480},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:63480})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:63480})
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),17528)
  write(ref.txres(20),{vl:17528})
  write(ref.committed(20),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:889}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),889)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),889)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:889}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:38384},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:38384})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:38384})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:38384}}}),1)
}
> cl_chans.send(0,{tx:20,bd:{vl:17528}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:17528}},0),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(11),21)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),21)
  write(mid_spec.queue.head,12)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:38384}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:38384}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:41830}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),41830)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),41830)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:41830}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.recv(0,{tx:20,bd:{vl:17528}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:17528}},0),0)
}
> cl_chans.recv(1,{tx:9,bd:{vl:10195}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:10195}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:36087},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"m",vl:36087})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:36087})
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:41743},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:41743})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41743})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:41743}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:54222},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:54222})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54222})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:25478}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),25478)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),25478)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:25478}}})
{
  write(mid_spec.acked(16),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:41743}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:41743}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),31316)
  write(response.bd(loc:res),{vl:31316})
  write(response_body.vl(fml:out),31316)
  write(ref.txres(23),{vl:31316})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:31316}},0),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:31316}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:31316}},0),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:33267},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:33267})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33267})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:33267}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:64540}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),64540)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),64540)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:64540}}})
{
  write(mid_spec.acked(19),1)
}
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),25478)
  write(ref.txres(24),{vl:25478})
  write(ref.committed(24),1)
}
> cl_chans.send(1,{tx:24,bd:{vl:25478}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:25478}},1),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(12),25)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),25)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:24,bd:{vl:25478}})
{
  write(cl_chans.spec.sent({tx:24,bd:{vl:25478}},1),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(13),22)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),22)
  write(mid_spec.queue.head,14)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:33267}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:33267}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:35453}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),35453)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),35453)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:35453}}})
{
  write(mid_spec.acked(18),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:38384}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),38384)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),38384)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:38384}}})
{
  write(mid_spec.acked(21),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:33267}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),33267)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("m"),33267)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:33267}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:6786},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:6786})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6786})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:read,ky:"m",vl:6786}}}),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:read,ky:"m",vl:20280},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:read,ky:"m",vl:20280})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:20280})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:20280}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:49426},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:read,ky:"m",vl:49426})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:49426})
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:20280}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:read,ky:"m",vl:20280}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:50328},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:50328})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50328})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:50328}}}),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:11055},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:read,ky:"m",vl:11055})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11055})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:11055}}}),1)
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:50328}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:50328}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:64879},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"m",vl:64879})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64879})
}
> sec.req_chan.recv({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:11055}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:3,bd:{knd:read,ky:"m",vl:11055}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(0),4)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),4)
  write(mid_spec.queue.head,1)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:6017},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:read,ky:"m",vl:6017})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:6017})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:6017}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:64879}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),64879)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),64879)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:64879}}})
{
  write(mid_spec.acked(4),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:6017}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:read,ky:"m",vl:6017}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),64879)
  write(response.bd(loc:res),{vl:64879})
  write(response_body.vl(fml:out),64879)
  write(ref.txres(5),{vl:64879})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:64879}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:31929},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"m",vl:31929})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31929})
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),64879)
  write(ref.txres(6),{vl:64879})
  write(ref.committed(6),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:26872},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:26872})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:26872})
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(1),7)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),7)
  write(mid_spec.queue.head,2)
}
> cl_chans.send(0,{tx:6,bd:{vl:64879}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:64879}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:54485},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:54485})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54485})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:54485}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:33217},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:write,ky:"m",vl:33217})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:33217})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:33217}}}),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(2),9)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),9)
  write(mid_spec.queue.head,3)
}
> cl_chans.recv(0,{tx:6,bd:{vl:64879}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:64879}},0),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:64879}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:64879}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:33217}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:33217}}}),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:52179},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:52179})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:52179})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:52179}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:15263},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:15263})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:15263})
}
> cl.client_request(0,{knd:read,ky:"m",vl:14159},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:14159})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14159})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:26872}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),26872)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),26872)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:26872}}})
{
  write(mid_spec.acked(7),1)
}
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),26872)
  write(ref.txres(11),{vl:26872})
  write(ref.committed(11),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:52179}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:52179}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:10106},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:10106})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:10106})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:10106}}}),1)
}
> cl_chans.send(1,{tx:11,bd:{vl:26872}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:26872}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:26872}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:26872}},1),0)
}
> ref.commit(12,prim)
{
  write(response_body.vl(fml:out),26872)
  write(ref.txres(12),{vl:26872})
  write(ref.committed(12),1)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:54485}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:54485}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),26872)
  write(response.bd(loc:res),{vl:26872})
  write(response_body.vl(fml:out),26872)
  write(ref.txres(8),{vl:26872})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:26872}},1),1)
}
> cl_chans.recv(1,{tx:8,bd:{vl:26872}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:26872}},1),0)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:10106}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:10106}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:24812},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"wrsylb",vl:24812})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24812})
}
> cl_chans.send(1,{tx:12,bd:{vl:26872}})
{
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:26872}},1),1)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(3),14)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),14)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:33217}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),9)
  write(sec.rep.store("m"),33217)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),33217)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"m",vl:33217}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl_chans.recv(1,{tx:12,bd:{vl:26872}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:26872}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:24812}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),14)
  write(sec.rep.store("wrsylb"),24812)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),24812)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"wrsylb",vl:24812}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:34051},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"wrsylb",vl:34051})
  write(ref.next,16)
  write(mid_spec.req_dest(15),prim)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34051})
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(4),15)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),15)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:39561},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:39561})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39561})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:39561}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:39561}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:39561}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:29764},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:29764})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29764})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:34051}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),15)
  write(sec.rep.store("wrsylb"),34051)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),34051)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"wrsylb",vl:34051}}})
{
  write(mid_spec.acked(15),1)
}
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(5),17)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),17)
  write(mid_spec.queue.head,6)
}
> cl.client_request(1,{knd:write,ky:"m",vl:22968},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"m",vl:22968})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:22968})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:22968}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:22968}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:22968}}}),0)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(6),18)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),18)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:29764}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),29764)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),29764)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:29764}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:6378},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:6378})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:6378})
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(7),19)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),19)
  write(mid_spec.queue.head,8)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(8),16)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),16)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:22968}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),22968)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),22968)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:22968}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:6378}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),6378)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),6378)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:6378}}})
{
  write(mid_spec.acked(19),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:39561}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),39561)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),39561)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:39561}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:40614},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:40614})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:40614})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:40614}}}),1)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(9),20)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),20)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:40614}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),20)
  write(sec.rep.store("wrsylb"),40614)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),40614)
  write(ref.txres(20),{vl:0})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:40614}}})
{
  write(mid_spec.acked(20),1)
}
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:20,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:40614}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:write,ky:"wrsylb",vl:40614}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:5029},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"m",vl:5029})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:5029})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:37664},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"wrsylb",vl:37664})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37664})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:37664}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:37664}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:read,ky:"wrsylb",vl:37664}}}),0)
  write(response.tx(loc:res),22)
  write(response_body.vl(fml:out),40614)
  write(response.bd(loc:res),{vl:40614})
  write(response_body.vl(fml:out),40614)
  write(ref.txres(22),{vl:40614})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:40614}},0),1)
}
> ref.commit(21,prim)
{
  write(response_body.vl(fml:out),22968)
  write(ref.txres(21),{vl:22968})
  write(ref.committed(21),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:40614}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:40614}},0),0)
}
> cl_chans.send(0,{tx:21,bd:{vl:22968}})
{
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:22968}},0),1)
}
> cl_chans.recv(0,{tx:21,bd:{vl:22968}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:22968}},0),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:8655},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:write,ky:"m",vl:8655})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:8655})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:41643},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:41643})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41643})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:41643}}}),1)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(10),23)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),23)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:61117},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"wrsylb",vl:61117})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:61117})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:61117}}}),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(11),25)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),25)
  write(mid_spec.queue.head,12)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:8655}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),23)
  write(sec.rep.store("m"),8655)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),8655)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:23,bd:{knd:write,ky:"m",vl:8655}}})
{
  write(mid_spec.acked(23),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:61117}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),25)
  write(sec.rep.store("wrsylb"),61117)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),61117)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"wrsylb",vl:61117}}})
{
  write(mid_spec.acked(25),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:17810},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:17810})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17810})
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(12),26)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),26)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:51227},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:51227})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:51227})
}
> ref.commit(27,prim)
{
  write(response_body.vl(fml:out),61117)
  write(ref.txres(27),{vl:61117})
  write(ref.committed(27),1)
}
> sec.req_chan.recv({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:41643}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:read,ky:"wrsylb",vl:41643}}}),0)
  write(response.tx(loc:res),24)
  write(response_body.vl(fml:out),61117)
  write(response.bd(loc:res),{vl:61117})
  write(response_body.vl(fml:out),61117)
  write(ref.txres(24),{vl:61117})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:61117}},0),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:31810},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:31810})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:31810})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:31810}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:31810}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:31810}}}),0)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:44752},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:44752})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:44752})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:44752}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:14185},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:14185})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:14185})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:14185}}}),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(1),2)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),2)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:31810}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),31810)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),31810)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:31810}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:31745},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"wrsylb",vl:31745})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:31745})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:31745}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:14185}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),14185)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("m"),14185)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:14185}}})
{
  write(mid_spec.acked(2),1)
}
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:32304},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:32304})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:32304})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:32304}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:44752}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:read,ky:"m",vl:44752}}}),0)
  write(response.tx(loc:res),1)
  write(response_body.vl(fml:out),14185)
  write(response.bd(loc:res),{vl:14185})
  write(response_body.vl(fml:out),14185)
  write(ref.txres(1),{vl:14185})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:14185}},0),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:14185}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:14185}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:14185}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:14185}}}),0)
}
> sec.req_chan.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:32304}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:32304}}}),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:54011},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:54011})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54011})
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:31745}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"wrsylb",vl:31745}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),31810)
  write(response.bd(loc:res),{vl:31810})
  write(response_body.vl(fml:out),31810)
  write(ref.txres(3),{vl:31810})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:31810}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:41526},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:41526})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:41526})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:41526}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:41526}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:41526}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),31810)
  write(response.bd(loc:res),{vl:31810})
  write(response_body.vl(fml:out),31810)
  write(ref.txres(6),{vl:31810})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:31810}},0),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:31810}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:31810}},0),0)
}
> cl_chans.recv(0,{tx:3,bd:{vl:31810}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:31810}},0),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> cl.client_request(1,{knd:write,ky:"m",vl:30398},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:30398})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:30398})
}
> ref.commit(5,prim)
{
  write(response_body.vl(fml:out),14185)
  write(ref.txres(5),{vl:14185})
  write(ref.committed(5),1)
}
> cl_chans.send(0,{tx:5,bd:{vl:14185}})
{
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:14185}},0),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(0,{tx:5,bd:{vl:14185}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:14185}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:13312},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:13312})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13312})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:13312}}}),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:47727},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:47727})
  write(ref.next,10)
  write(mid_spec.req_dest(9),prim)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:47727})
}
> ref.commit(9,prim)
{
  write(response_body.vl(fml:out),31810)
  write(ref.txres(9),{vl:31810})
  write(ref.committed(9),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:27009},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:27009})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:27009})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:39304},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"wrsylb",vl:39304})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:39304})
}
> cl_chans.send(1,{tx:9,bd:{vl:31810}})
{
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:31810}},1),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:31810}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:31810}},1),0)
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),31810)
  write(ref.txres(11),{vl:31810})
  write(ref.committed(11),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(4),10)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),10)
  write(mid_spec.queue.head,5)
}
> cl_chans.send(1,{tx:11,bd:{vl:31810}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:31810}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:32304}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),32304)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("wrsylb"),32304)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:32304}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl_chans.recv(1,{tx:11,bd:{vl:31810}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:31810}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:30398}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),30398)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),30398)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:30398}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:13312}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:read,ky:"m",vl:13312}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),30398)
  write(response.bd(loc:res),{vl:30398})
  write(response_body.vl(fml:out),30398)
  write(ref.txres(8),{vl:30398})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:30398}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:27009}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),27009)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),27009)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:27009}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:65065},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:65065})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:65065})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:10465},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:10465})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:10465})
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(5),13)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),13)
  write(mid_spec.queue.head,6)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(6),12)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),12)
  write(mid_spec.queue.head,7)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:10465}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),10465)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),10465)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:10465}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl.client_request(1,{knd:write,ky:"m",vl:54962},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(14),{knd:write,ky:"m",vl:54962})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:54962})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:65065}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),65065)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),65065)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:65065}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl_chans.recv(1,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},1),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(7),14)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),14)
  write(mid_spec.queue.head,8)
}
> cl_chans.recv(1,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:30398}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:30398}},0),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:31381},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:write,ky:"m",vl:31381})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:31381})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:31381}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:54962}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),54962)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),54962)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:54962}}})
{
  write(mid_spec.acked(14),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:31381}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:31381}}}),0)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(8),15)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),15)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:20058},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:20058})
  write(ref.next,17)
  write(mid_spec.req_dest(16),sec)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:20058})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:20058}}}),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:31381}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),31381)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),31381)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:31381}}})
{
  write(mid_spec.acked(15),1)
}
}
> cl_chans.recv(0,{tx:15,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:31536},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:read,ky:"m",vl:31536})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:31536})
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(9),16)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),16)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:20058}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),20058)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),20058)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:20058}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.recv(0,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:20058}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:20058}}}),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),31381)
  write(ref.txres(17),{vl:31381})
  write(ref.committed(17),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:42436},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:42436})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:42436})
}
> ref.commit(18,prim)
{
  write(response_body.vl(fml:out),20058)
  write(ref.txres(18),{vl:20058})
  write(ref.committed(18),1)
}
> cl_chans.send(1,{tx:18,bd:{vl:20058}})
{
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:20058}},1),1)
}
> cl_chans.recv(1,{tx:18,bd:{vl:20058}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:20058}},1),0)
}
> cl_chans.send(1,{tx:17,bd:{vl:31381}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:31381}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:48300},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:write,ky:"m",vl:48300})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:48300})
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(10),19)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),19)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:48300}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),48300)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),48300)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"m",vl:48300}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:46768},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"m",vl:46768})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46768})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:46768}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:25431},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:25431})
  write(ref.next,22)
  write(mid_spec.req_dest(21),prim)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25431})
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:46768}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:46768}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),48300)
  write(response.bd(loc:res),{vl:48300})
  write(response_body.vl(fml:out),48300)
  write(ref.txres(20),{vl:48300})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:48300}},1),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(11),21)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),21)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:46719},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:46719})
  write(ref.next,23)
  write(mid_spec.req_dest(22),sec)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:46719})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:46719}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:37580},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"wrsylb",vl:37580})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:37580})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:37580}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:37580}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:37580}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:25431}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),25431)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),25431)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:25431}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:47148},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(24),{knd:read,ky:"m",vl:47148})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47148})
}
> cl_chans.recv(1,{tx:17,bd:{vl:31381}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:31381}},1),0)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),48300)
  write(ref.txres(24),{vl:48300})
  write(ref.committed(24),1)
}
> sec.req_chan.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:46719}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:46719}}}),0)
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(12),23)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),23)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(13),22)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),22)
  write(mid_spec.queue.head,14)
}
> cl_chans.send(1,{tx:24,bd:{vl:48300}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:48300}},1),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:37580}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),23)
  write(sec.rep.store("wrsylb"),37580)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),37580)
  write(ref.txres(23),{vl:0})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:23,bd:{knd:write,ky:"wrsylb",vl:37580}}})
{
  write(mid_spec.acked(23),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:43853},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"m",vl:43853})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43853})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:46719}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),46719)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("wrsylb"),46719)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:46719}}})
{
  write(mid_spec.acked(22),1)
}
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),48300)
  write(ref.txres(25),{vl:48300})
  write(ref.committed(25),1)
}
> cl_chans.send(0,{tx:25,bd:{vl:48300}})
{
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:48300}},0),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:65161},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"wrsylb",vl:65161})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:65161})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:27586},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"wrsylb",vl:27586})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:27586})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:19162},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:19162})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:19162})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:19162}}}),1)
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> sec.req_chan.recv({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:19162}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:19162}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),1)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:42880},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:42880})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:42880})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:42880}}}),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:42880}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:read,ky:"m",vl:42880}}}),0)
  write(response.tx(loc:res),3)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:65161}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("wrsylb"),65161)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),65161)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"wrsylb",vl:65161}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:38625},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(4),{knd:read,ky:"m",vl:38625})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38625})
}
> cl_chans.recv(0,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:39456},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:39456})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:39456})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:39456}}}),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(1),5)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),5)
  write(mid_spec.queue.head,2)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:39456}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),39456)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),39456)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:39456}}})
{
  write(mid_spec.acked(5),1)
}
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:11592},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:11592})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:11592})
}
> sec.req_chan.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:39456}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:39456}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:32719},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"m",vl:32719})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:32719})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:32719}}}),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(2),7)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),7)
  write(mid_spec.queue.head,3)
}
> cl.client_request(0,{knd:write,ky:"m",vl:23612},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:write,ky:"m",vl:23612})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23612})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:23612}}}),1)
}
> cl_chans.send(0,{tx:4,bd:{vl:0}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:3398},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"m",vl:3398})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3398})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:3398}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:32719}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),32719)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),32719)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:32719}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:47030},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:write,ky:"wrsylb",vl:47030})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:47030})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:47030}}}),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(3),10)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),10)
  write(mid_spec.queue.head,4)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),32719)
  write(ref.txres(6),{vl:32719})
  write(ref.committed(6),1)
}
> ser.serialize(8)
{
  write(ser.serialized(8),1)
  write(ser.queue.contents(4),8)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),8)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:write,ky:"m",vl:50094},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:write,ky:"m",vl:50094})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:50094})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:50094}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:3398}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"m",vl:3398}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),32719)
  write(response.bd(loc:res),{vl:32719})
  write(response_body.vl(fml:out),32719)
  write(ref.txres(9),{vl:32719})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:32719}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:47030}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:47030}}}),0)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:47030}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),10)
  write(sec.rep.store("wrsylb"),47030)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("wrsylb"),47030)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"wrsylb",vl:47030}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(1,{tx:9,bd:{vl:32719}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:32719}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:23612}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:23612}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:32719}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"m",vl:32719}}}),0)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(5),11)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),11)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:50094}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:50094}}}),0)
}
> cl_chans.send(1,{tx:6,bd:{vl:32719}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:32719}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:39244},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"wrsylb",vl:39244})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:39244})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:39244}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:2400},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:2400})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:2400})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:2400}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:19963},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:19963})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19963})
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(6),14)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),14)
  write(mid_spec.queue.head,7)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:25278},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"wrsylb",vl:25278})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:25278})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:25278}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:25278}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"wrsylb",vl:25278}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),47030)
  write(response.bd(loc:res),{vl:47030})
  write(response_body.vl(fml:out),47030)
  write(ref.txres(15),{vl:47030})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:47030}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:47030}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:47030}},1),0)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(7),13)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),13)
  write(mid_spec.queue.head,8)
}
> sec.req_chan.recv({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:2400}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:2400}}}),0)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:23612}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),8)
  write(sec.rep.store("m"),23612)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),23612)
  write(ref.txres(8),{vl:0})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:8,bd:{knd:write,ky:"m",vl:23612}}})
{
  write(mid_spec.acked(8),1)
}
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:50094}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),11)
  write(sec.rep.store("m"),50094)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),50094)
  write(ref.txres(11),{vl:0})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:11,bd:{knd:write,ky:"m",vl:50094}}})
{
  write(mid_spec.acked(11),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:24431},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:24431})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:24431})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:43274},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:43274})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:43274})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:19963}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),19963)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),19963)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:19963}}})
{
  write(mid_spec.acked(14),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:39244}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"wrsylb",vl:39244}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),47030)
  write(response.bd(loc:res),{vl:47030})
  write(response_body.vl(fml:out),47030)
  write(ref.txres(12),{vl:47030})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:47030}},0),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:2400}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),2400)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),2400)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:2400}}})
{
  write(mid_spec.acked(13),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},0),0)
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(9),16)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),16)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:43274}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),43274)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),43274)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:43274}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl_chans.recv(0,{tx:12,bd:{vl:47030}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:47030}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:38872},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:38872})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:38872})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:38872}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:10668},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:read,ky:"wrsylb",vl:10668})
  write(ref.next,20)
  write(mid_spec.req_dest(19),sec)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:10668})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:19,bd:{knd:read,ky:"wrsylb",vl:10668}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:38872}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:38872}}}),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:6469},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:write,ky:"wrsylb",vl:6469})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:6469})
}
> cl_chans.recv(0,{tx:11,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:8,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:32719}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:32719}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:24431}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),24431)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),24431)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:24431}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl_chans.recv(1,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:29418},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(21),{knd:read,ky:"m",vl:29418})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29418})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:29418}}}),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:42522},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(22),{knd:write,ky:"m",vl:42522})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42522})
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(10),22)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),22)
  write(mid_spec.queue.head,11)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:42522}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),22)
  write(sec.rep.store("m"),42522)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),42522)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:22,bd:{knd:write,ky:"m",vl:42522}}})
{
  write(mid_spec.acked(22),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:9777},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"m",vl:9777})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:9777})
}
> cl_chans.recv(1,{tx:22,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:62497},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"m",vl:62497})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:62497})
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),42522)
  write(ref.txres(23),{vl:42522})
  write(ref.committed(23),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:24852},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:write,ky:"m",vl:24852})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24852})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:24852}}}),1)
}
> ser.serialize(25)
{
  write(ser.serialized(25),1)
  write(ser.queue.contents(11),25)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),25)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:25466},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:25466})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25466})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:32530},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:read,ky:"wrsylb",vl:32530})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:32530})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:24852}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),25)
  write(sec.rep.store("m"),24852)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("m"),24852)
  write(ref.txres(25),{vl:0})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:24852}}})
{
  write(mid_spec.acked(25),1)
}
}
> ser.serialize(26)
{
  write(ser.serialized(26),1)
  write(ser.queue.contents(12),26)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),26)
  write(mid_spec.queue.head,13)
}
> cl_chans.recv(0,{tx:25,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:25,bd:{vl:0}},0),0)
}
> cl_chans.send(0,{tx:23,bd:{vl:42522}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:42522}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:25466}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),26)
  write(sec.rep.store("wrsylb"),25466)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),25466)
  write(ref.txres(26),{vl:0})
  write(ref.committed(26),1)
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:25466}}})
{
  write(mid_spec.acked(26),1)
}
}
> cl_chans.recv(0,{tx:23,bd:{vl:42522}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:42522}},0),0)
}
> cl_chans.recv(0,{tx:26,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:26,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:29418}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:21,bd:{knd:read,ky:"m",vl:29418}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),24852)
  write(response.bd(loc:res),{vl:24852})
  write(response_body.vl(fml:out),24852)
  write(ref.txres(21),{vl:24852})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:24852}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:24852}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:25,bd:{knd:write,ky:"m",vl:24852}}}),0)
}
> ser.serialize(20)
{
  write(ser.serialized(20),1)
  write(ser.queue.contents(13),20)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),20)
  write(mid_spec.queue.head,14)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),24852)
  write(ref.txres(24),{vl:24852})
  write(ref.committed(24),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:write,ky:"m",vl:28893},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:write,ky:"m",vl:28893})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:28893})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:28893}}}),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:29952},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:29952})
  write(ref.next,2)
  write(mid_spec.req_dest(1),sec)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:29952})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:29952}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:1807},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:1807})
  write(ref.next,3)
  write(mid_spec.req_dest(2),prim)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:1807})
}
> ref.commit(2,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
}
> sec.req_chan.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:29952}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:29952}}}),0)
}
> cl_chans.send(1,{tx:2,bd:{vl:0}})
{
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:28893}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),28893)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),28893)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:0,bd:{knd:write,ky:"m",vl:28893}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl_chans.recv(1,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:28893}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:28893}}}),0)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(1),1)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),1)
  write(mid_spec.queue.head,2)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:64673},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:read,ky:"m",vl:64673})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:64673})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:29952}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),29952)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),29952)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:29952}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:38536},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:read,ky:"m",vl:38536})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:38536})
}
> ref.commit(4,prim)
{
  write(response_body.vl(fml:out),28893)
  write(ref.txres(4),{vl:28893})
  write(ref.committed(4),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:23690},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(5),{knd:write,ky:"m",vl:23690})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23690})
}
> ref.commit(3,prim)
{
  write(response_body.vl(fml:out),28893)
  write(ref.txres(3),{vl:28893})
  write(ref.committed(3),1)
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(2),5)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),5)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:23690}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),5)
  write(sec.rep.store("m"),23690)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),23690)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:5,bd:{knd:write,ky:"m",vl:23690}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl_chans.recv(1,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},1),0)
}
> cl_chans.send(1,{tx:3,bd:{vl:28893}})
{
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:28893}},1),1)
}
> cl_chans.recv(1,{tx:3,bd:{vl:28893}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:28893}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:22988},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(6),{knd:read,ky:"wrsylb",vl:22988})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:22988})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:22988}}}),1)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:22988}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:6,bd:{knd:read,ky:"wrsylb",vl:22988}}}),0)
  write(response.tx(loc:res),6)
  write(response_body.vl(fml:out),29952)
  write(response.bd(loc:res),{vl:29952})
  write(response_body.vl(fml:out),29952)
  write(ref.txres(6),{vl:29952})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:29952}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:51310},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:51310})
  write(ref.next,8)
  write(mid_spec.req_dest(7),sec)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:51310})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:51310}}}),1)
}
> cl_chans.recv(0,{tx:6,bd:{vl:29952}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:29952}},0),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:10556},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:10556})
  write(ref.next,9)
  write(mid_spec.req_dest(8),sec)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:10556})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:10556}}}),1)
}
> cl_chans.send(0,{tx:4,bd:{vl:28893}})
{
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:28893}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:35096},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:35096})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:35096})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:35096}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:16130},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:write,ky:"m",vl:16130})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16130})
}
> cl_chans.recv(0,{tx:4,bd:{vl:28893}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:28893}},0),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:14594},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(11),{knd:read,ky:"m",vl:14594})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14594})
}
> ref.commit(11,prim)
{
  write(response_body.vl(fml:out),23690)
  write(ref.txres(11),{vl:23690})
  write(ref.committed(11),1)
}
> ser.serialize(10)
{
  write(ser.serialized(10),1)
  write(ser.queue.contents(3),10)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),10)
  write(mid_spec.queue.head,4)
}
> sec.req_chan.recv({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:10556}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:8,bd:{knd:read,ky:"m",vl:10556}}}),0)
  write(response.tx(loc:res),8)
  write(response_body.vl(fml:out),23690)
  write(response.bd(loc:res),{vl:23690})
  write(response_body.vl(fml:out),23690)
  write(ref.txres(8),{vl:23690})
  write(ref.committed(8),1)
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:23690}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:51310}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:51310}}}),0)
}
> cl.client_request(0,{knd:read,ky:"m",vl:54397},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(12),{knd:read,ky:"m",vl:54397})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:54397})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:54397}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:21200},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:write,ky:"wrsylb",vl:21200})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21200})
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(4),13)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),13)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:write,ky:"m",vl:24218},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:24218})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:24218})
}
> cl_chans.recv(1,{tx:8,bd:{vl:23690}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:23690}},1),0)
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(5),14)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),14)
  write(mid_spec.queue.head,6)
}
> sec.req_chan.recv({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:54397}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:12,bd:{knd:read,ky:"m",vl:54397}}}),0)
  write(response.tx(loc:res),12)
  write(response_body.vl(fml:out),23690)
  write(response.bd(loc:res),{vl:23690})
  write(response_body.vl(fml:out),23690)
  write(ref.txres(12),{vl:23690})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:23690}},0),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:16130}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),10)
  write(sec.rep.store("m"),16130)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),16130)
  write(ref.txres(10),{vl:0})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:10,bd:{knd:write,ky:"m",vl:16130}}})
{
  write(mid_spec.acked(10),1)
}
}
> cl_chans.recv(0,{tx:12,bd:{vl:23690}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:23690}},0),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:21200}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),13)
  write(sec.rep.store("wrsylb"),21200)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),21200)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"wrsylb",vl:21200}}})
{
  write(mid_spec.acked(13),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:35096}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:35096}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:24218}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),14)
  write(sec.rep.store("m"),24218)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),24218)
  write(ref.txres(14),{vl:0})
  write(ref.committed(14),1)
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:14,bd:{knd:write,ky:"m",vl:24218}}})
{
  write(mid_spec.acked(14),1)
}
}
> cl_chans.send(1,{tx:11,bd:{vl:23690}})
{
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:23690}},1),1)
}
> cl_chans.recv(1,{tx:11,bd:{vl:23690}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:23690}},1),0)
}
> cl_chans.recv(1,{tx:14,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:14107},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:read,ky:"m",vl:14107})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:14107})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:14107}}}),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:14107}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:read,ky:"m",vl:14107}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),24218)
  write(response.bd(loc:res),{vl:24218})
  write(response_body.vl(fml:out),24218)
  write(ref.txres(15),{vl:24218})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:24218}},1),1)
}
> cl_chans.recv(1,{tx:15,bd:{vl:24218}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:24218}},1),0)
}
> cl_chans.recv(0,{tx:10,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:0}},0),0)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(6),9)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),9)
  write(mid_spec.queue.head,7)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(7),7)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),7)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:35096}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),35096)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),35096)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:35096}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:48282},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:48282})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:48282})
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:7046},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(17),{knd:write,ky:"wrsylb",vl:7046})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:7046})
}
> ser.serialize(17)
{
  write(ser.serialized(17),1)
  write(ser.queue.contents(8),17)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),17)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(9),16)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),16)
  write(mid_spec.queue.head,10)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:58068},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:read,ky:"wrsylb",vl:58068})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:58068})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:58068}}}),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:51310}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),51310)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),51310)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:51310}}})
{
  write(mid_spec.acked(7),1)
}
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:7046}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),17)
  write(sec.rep.store("wrsylb"),7046)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),7046)
  write(ref.txres(17),{vl:0})
  write(ref.committed(17),1)
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:17,bd:{knd:write,ky:"wrsylb",vl:7046}}})
{
  write(mid_spec.acked(17),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:25888},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"wrsylb",vl:25888})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:25888})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:48282}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),48282)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),48282)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:48282}}})
{
  write(mid_spec.acked(16),1)
}
}
> cl.client_request(0,{knd:read,ky:"m",vl:47216},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"m",vl:47216})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47216})
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:58068}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:read,ky:"wrsylb",vl:58068}}}),0)
  write(response.tx(loc:res),18)
  write(response_body.vl(fml:out),48282)
  write(response.bd(loc:res),{vl:48282})
  write(response_body.vl(fml:out),48282)
  write(ref.txres(18),{vl:48282})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:48282}},1),1)
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(10),19)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),19)
  write(mid_spec.queue.head,11)
}
> cl_chans.recv(0,{tx:16,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:17,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:25888}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),19)
  write(sec.rep.store("wrsylb"),25888)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("wrsylb"),25888)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:19,bd:{knd:write,ky:"wrsylb",vl:25888}}})
{
  write(mid_spec.acked(19),1)
}
}
> cl_chans.recv(1,{tx:18,bd:{vl:48282}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:48282}},1),0)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),24218)
  write(ref.txres(20),{vl:24218})
  write(ref.committed(20),1)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:42623},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:write,ky:"wrsylb",vl:42623})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:42623})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:42623}}}),1)
}
> ser.serialize(21)
{
  write(ser.serialized(21),1)
  write(ser.queue.contents(11),21)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),21)
  write(mid_spec.queue.head,12)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:43266},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:write,ky:"wrsylb",vl:43266})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:43266})
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:42623}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),21)
  write(sec.rep.store("wrsylb"),42623)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),42623)
  write(ref.txres(21),{vl:0})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:42623}}})
{
  write(mid_spec.acked(21),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:48032},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:48032})
  write(ref.next,24)
  write(mid_spec.req_dest(23),sec)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:48032})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:48032}}}),1)
}
> ser.serialize(22)
{
  write(ser.serialized(22),1)
  write(ser.queue.contents(12),22)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),22)
  write(mid_spec.queue.head,13)
}
> sec.req_chan.recv({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:48032}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:23,bd:{knd:read,ky:"wrsylb",vl:48032}}}),0)
  write(response.tx(loc:res),23)
  write(response_body.vl(fml:out),42623)
  write(response.bd(loc:res),{vl:42623})
  write(response_body.vl(fml:out),42623)
  write(ref.txres(23),{vl:42623})
  write(ref.committed(23),1)
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:42623}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:43266}}})
{
  write(mid_spec.queue.tail,13)
  write(response.tx(loc:res),22)
  write(sec.rep.store("wrsylb"),43266)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,13)
  write(ref.rep.store("wrsylb"),43266)
  write(ref.txres(22),{vl:0})
  write(ref.committed(22),1)
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:22,bd:{knd:write,ky:"wrsylb",vl:43266}}})
{
  write(mid_spec.acked(22),1)
}
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:42623}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:write,ky:"wrsylb",vl:42623}}}),0)
}
> cl_chans.recv(1,{tx:23,bd:{vl:42623}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:42623}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:17525},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:17525})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17525})
}
> ser.serialize(24)
{
  write(ser.serialized(24),1)
  write(ser.queue.contents(13),24)
  write(ser.queue.head,14)
  write(mid_spec.queue.contents(13),24)
  write(mid_spec.queue.head,14)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:17525}}})
{
  write(mid_spec.queue.tail,14)
  write(response.tx(loc:res),24)
  write(sec.rep.store("m"),17525)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,14)
  write(ref.rep.store("m"),17525)
  write(ref.txres(24),{vl:0})
  write(ref.committed(24),1)
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:17525}}})
{
  write(mid_spec.acked(24),1)
}
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:4365},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(25),{knd:read,ky:"wrsylb",vl:4365})
  write(ref.next,26)
  write(mid_spec.req_dest(25),prim)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:4365})
}
> ref.commit(25,prim)
{
  write(response_body.vl(fml:out),43266)
  write(ref.txres(25),{vl:43266})
  write(ref.committed(25),1)
}
> cl_chans.send(0,{tx:20,bd:{vl:24218}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:24218}},0),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:read,ky:"m",vl:26029},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:read,ky:"m",vl:26029})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:26029})
}
> ref.commit(26,prim)
{
  write(response_body.vl(fml:out),17525)
  write(ref.txres(26),{vl:17525})
  write(ref.committed(26),1)
}
> cl_chans.send(0,{tx:26,bd:{vl:17525}})
{
  write(service_spec.responded(26),1)
  write(cl_chans.spec.sent({tx:26,bd:{vl:17525}},0),1)
}
> cl_chans.recv(1,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},1),0)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:14842},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(0),{knd:read,ky:"wrsylb",vl:14842})
  write(ref.next,1)
  write(mid_spec.req_dest(0),sec)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14842})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:14842}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:16666},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(1),{knd:read,ky:"m",vl:16666})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:16666})
}
> ref.commit(1,prim)
{
  write(response_body.vl(fml:out),0)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
}
> cl_chans.send(0,{tx:1,bd:{vl:0}})
{
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:14842}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:0,bd:{knd:read,ky:"wrsylb",vl:14842}}}),0)
  write(response.tx(loc:res),0)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:50407},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:read,ky:"wrsylb",vl:50407})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:50407})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:50407}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:53257},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(3),{knd:write,ky:"wrsylb",vl:53257})
  write(ref.next,4)
  write(mid_spec.req_dest(3),prim)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:53257})
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:50407}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:read,ky:"wrsylb",vl:50407}}}),0)
  write(response.tx(loc:res),2)
  write(response_body.vl(fml:out),0)
  write(response.bd(loc:res),{vl:0})
  write(response_body.vl(fml:out),0)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(0),3)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),3)
  write(mid_spec.queue.head,1)
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:53257}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),3)
  write(sec.rep.store("wrsylb"),53257)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("wrsylb"),53257)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"wrsylb",vl:53257}}})
{
  write(mid_spec.acked(3),1)
}
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:17440},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"m",vl:17440})
  write(ref.next,5)
  write(mid_spec.req_dest(4),sec)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17440})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:17440}}}),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:27603},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:write,ky:"wrsylb",vl:27603})
  write(ref.next,6)
  write(mid_spec.req_dest(5),prim)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:27603})
}
> cl.client_request(1,{knd:read,ky:"m",vl:43555},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:read,ky:"m",vl:43555})
  write(ref.next,7)
  write(mid_spec.req_dest(6),prim)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43555})
}
> ser.serialize(5)
{
  write(ser.serialized(5),1)
  write(ser.queue.contents(1),5)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),5)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:17440}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:4,bd:{knd:write,ky:"m",vl:17440}}}),0)
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(2),4)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),4)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:27603}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),5)
  write(sec.rep.store("wrsylb"),27603)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),27603)
  write(ref.txres(5),{vl:0})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:5,bd:{knd:write,ky:"wrsylb",vl:27603}}})
{
  write(mid_spec.acked(5),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:42602},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"m",vl:42602})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:42602})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:17440}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),4)
  write(sec.rep.store("m"),17440)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),17440)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:4,bd:{knd:write,ky:"m",vl:17440}}})
{
  write(mid_spec.acked(4),1)
}
}
> ref.commit(6,prim)
{
  write(response_body.vl(fml:out),17440)
  write(ref.txres(6),{vl:17440})
  write(ref.committed(6),1)
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(3),7)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),7)
  write(mid_spec.queue.head,4)
}
> cl_chans.send(1,{tx:6,bd:{vl:17440}})
{
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:17440}},1),1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:42602}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),7)
  write(sec.rep.store("m"),42602)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),42602)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:7,bd:{knd:write,ky:"m",vl:42602}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:3089},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(8),{knd:read,ky:"m",vl:3089})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:3089})
}
> cl_chans.recv(1,{tx:6,bd:{vl:17440}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:17440}},1),0)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:27841},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:read,ky:"wrsylb",vl:27841})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:27841})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:27841}}}),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:39105},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:39105})
  write(ref.next,11)
  write(mid_spec.req_dest(10),prim)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:39105})
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:27841}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:read,ky:"wrsylb",vl:27841}}}),0)
  write(response.tx(loc:res),9)
  write(response_body.vl(fml:out),27603)
  write(response.bd(loc:res),{vl:27603})
  write(response_body.vl(fml:out),27603)
  write(ref.txres(9),{vl:27603})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:27603}},1),1)
}
> ref.commit(10,prim)
{
  write(response_body.vl(fml:out),27603)
  write(ref.txres(10),{vl:27603})
  write(ref.committed(10),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:6433},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:write,ky:"m",vl:6433})
  write(ref.next,12)
  write(mid_spec.req_dest(11),prim)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:6433})
}
> cl.client_request(1,{knd:write,ky:"m",vl:4082},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"m",vl:4082})
  write(ref.next,13)
  write(mid_spec.req_dest(12),sec)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:4082})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:4082}}}),1)
}
> cl_chans.recv(0,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},0),0)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),42602)
  write(ref.txres(8),{vl:42602})
  write(ref.committed(8),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:33544},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(13),{knd:read,ky:"wrsylb",vl:33544})
  write(ref.next,14)
  write(mid_spec.req_dest(13),sec)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:33544})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:33544}}}),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(4),12)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),12)
  write(mid_spec.queue.head,5)
}
> cl_chans.send(0,{tx:10,bd:{vl:27603}})
{
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:27603}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:9385},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:write,ky:"m",vl:9385})
  write(ref.next,15)
  write(mid_spec.req_dest(14),sec)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:9385})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:9385}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:9385}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:14,bd:{knd:write,ky:"m",vl:9385}}}),0)
}
> cl_chans.recv(0,{tx:10,bd:{vl:27603}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:27603}},0),0)
}
> sec.req_chan.recv({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:33544}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:13,bd:{knd:read,ky:"wrsylb",vl:33544}}}),0)
  write(response.tx(loc:res),13)
  write(response_body.vl(fml:out),27603)
  write(response.bd(loc:res),{vl:27603})
  write(response_body.vl(fml:out),27603)
  write(ref.txres(13),{vl:27603})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:27603}},1),1)
}
> sec.req_chan.recv({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:4082}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:12,bd:{knd:write,ky:"m",vl:4082}}}),0)
}
> cl.client_request(1,{knd:write,ky:"m",vl:41281},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(15),{knd:write,ky:"m",vl:41281})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:41281})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:41281}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:41281}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:15,bd:{knd:write,ky:"m",vl:41281}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:4082}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),12)
  write(sec.rep.store("m"),4082)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("m"),4082)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"m",vl:4082}}})
{
  write(mid_spec.acked(12),1)
}
}
> cl.client_request(0,{knd:write,ky:"m",vl:3764},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(16),{knd:write,ky:"m",vl:3764})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:3764})
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:37594},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"wrsylb",vl:37594})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:37594})
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:8,bd:{vl:42602}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:42602}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:44259},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"wrsylb",vl:44259})
  write(ref.next,19)
  write(mid_spec.req_dest(18),sec)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:44259})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:44259}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:44259}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:44259}}}),0)
}
> cl_chans.recv(0,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},0),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),27603)
  write(ref.txres(17),{vl:27603})
  write(ref.committed(17),1)
}
> cl.client_request(1,{knd:write,ky:"m",vl:26816},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(19),{knd:write,ky:"m",vl:26816})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:26816})
}
> ser.serialize(19)
{
  write(ser.serialized(19),1)
  write(ser.queue.contents(5),19)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),19)
  write(mid_spec.queue.head,6)
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(6),18)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),18)
  write(mid_spec.queue.head,7)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(7),16)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),16)
  write(mid_spec.queue.head,8)
}
> ser.serialize(15)
{
  write(ser.serialized(15),1)
  write(ser.queue.contents(8),15)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),15)
  write(mid_spec.queue.head,9)
}
> cl_chans.recv(0,{tx:5,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:0}},0),0)
}
> cl_chans.recv(1,{tx:8,bd:{vl:42602}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:42602}},1),0)
}
> cl_chans.recv(1,{tx:13,bd:{vl:27603}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:27603}},1),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:26816}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),19)
  write(sec.rep.store("m"),26816)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("m"),26816)
  write(ref.txres(19),{vl:0})
  write(ref.committed(19),1)
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:19,bd:{knd:write,ky:"m",vl:26816}}})
{
  write(mid_spec.acked(19),1)
}
}
> ser.serialize(14)
{
  write(ser.serialized(14),1)
  write(ser.queue.contents(9),14)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),14)
  write(mid_spec.queue.head,10)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:44259}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),18)
  write(sec.rep.store("wrsylb"),44259)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("wrsylb"),44259)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"wrsylb",vl:44259}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.recv(0,{tx:19,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:0}},0),0)
}
> cl_chans.send(1,{tx:17,bd:{vl:27603}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:27603}},1),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:46921},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(20),{knd:read,ky:"m",vl:46921})
  write(ref.next,21)
  write(mid_spec.req_dest(20),sec)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:46921})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:46921}}}),1)
}
> ser.serialize(11)
{
  write(ser.serialized(11),1)
  write(ser.queue.contents(10),11)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),11)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:116},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:116})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:116})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:116}}}),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:1400},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:1400})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:1400})
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),26816)
  write(ref.txres(22),{vl:26816})
  write(ref.committed(22),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:47641},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:write,ky:"m",vl:47641})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:47641})
}
> ser.serialize(23)
{
  write(ser.serialized(23),1)
  write(ser.queue.contents(11),23)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),23)
  write(mid_spec.queue.head,12)
}
> cl_chans.recv(1,{tx:18,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:46921}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:20,bd:{knd:read,ky:"m",vl:46921}}}),0)
  write(response.tx(loc:res),20)
  write(response_body.vl(fml:out),26816)
  write(response.bd(loc:res),{vl:26816})
  write(response_body.vl(fml:out),26816)
  write(ref.txres(20),{vl:26816})
  write(ref.committed(20),1)
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:26816}},1),1)
}
> cl_chans.recv(1,{tx:20,bd:{vl:26816}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:26816}},1),0)
}
> cl_chans.send(0,{tx:22,bd:{vl:26816}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:26816}},0),1)
}
> cl_chans.recv(1,{tx:9,bd:{vl:27603}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:27603}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:5506},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:read,ky:"wrsylb",vl:5506})
  write(ref.next,25)
  write(mid_spec.req_dest(24),prim)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:5506})
}
> cl.client_request(0,{knd:read,ky:"m",vl:4952},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:read,ky:"m",vl:4952})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:4952})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:4952}}}),1)
}
> cl_chans.recv(1,{tx:17,bd:{vl:27603}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:27603}},1),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:19422},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(26),{knd:write,ky:"wrsylb",vl:19422})
  write(ref.next,27)
  write(mid_spec.req_dest(26),sec)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:19422})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:19422}}}),1)
}
> cl_chans.recv(0,{tx:22,bd:{vl:26816}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:26816}},0),0)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:12916},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:12916})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12916})
}
> cl.client_request(0,{knd:read,ky:"m",vl:19975},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"m",vl:19975})
  write(ref.next,29)
  write(mid_spec.req_dest(28),prim)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:19975})
}
> ref.commit(28,prim)
{
  write(response_body.vl(fml:out),26816)
  write(ref.txres(28),{vl:26816})
  write(ref.committed(28),1)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:4952}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:read,ky:"m",vl:4952}}}),0)
  write(response.tx(loc:res),25)
  write(response_body.vl(fml:out),26816)
  write(response.bd(loc:res),{vl:26816})
  write(response_body.vl(fml:out),26816)
  write(ref.txres(25),{vl:26816})
  write(ref.committed(25),1)
  write(service_spec.responded(25),1)
  write(cl_chans.spec.sent({tx:25,bd:{vl:26816}},0),1)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:116}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:116}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),44259)
  write(response.bd(loc:res),{vl:44259})
  write(response_body.vl(fml:out),44259)
  write(ref.txres(21),{vl:44259})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:44259}},0),1)
}
> ref.commit(24,prim)
{
  write(response_body.vl(fml:out),44259)
  write(ref.txres(24),{vl:44259})
  write(ref.committed(24),1)
}
> cl_chans.send(0,{tx:24,bd:{vl:44259}})
{
  write(service_spec.responded(24),1)
  write(cl_chans.spec.sent({tx:24,bd:{vl:44259}},0),1)
}
> sec.req_chan.recv({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:19422}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:26,bd:{knd:write,ky:"wrsylb",vl:19422}}}),0)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:3764}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),16)
  write(sec.rep.store("m"),3764)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("m"),3764)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:16,bd:{knd:write,ky:"m",vl:3764}}})
{
  write(mid_spec.acked(16),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:41281}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),15)
  write(sec.rep.store("m"),41281)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("m"),41281)
  write(ref.txres(15),{vl:0})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:15,bd:{knd:write,ky:"m",vl:41281}}})
{
  write(mid_spec.acked(15),1)
}
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(12),27)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),27)
  write(mid_spec.queue.head,13)
}
> cl_chans.send(0,{tx:28,bd:{vl:26816}})
{
  write(service_spec.responded(28),1)
  write(cl_chans.spec.sent({tx:28,bd:{vl:26816}},0),1)
}
> cl.client_request(1,{knd:read,ky:"wrsylb",vl:22112},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(29),{knd:read,ky:"wrsylb",vl:22112})
  write(ref.next,30)
  write(mid_spec.req_dest(29),sec)
  write(request.tx(req(loc:m)),29)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:22112})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:29,bd:{knd:read,ky:"wrsylb",vl:22112}}}),1)
}
> sec.req_chan.recv({cid:1,req:{tx:29,bd:{knd:read,ky:"wrsylb",vl:22112}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:29,bd:{knd:read,ky:"wrsylb",vl:22112}}}),0)
  write(response.tx(loc:res),29)
  write(response_body.vl(fml:out),44259)
  write(response.bd(loc:res),{vl:44259})
  write(response_body.vl(fml:out),44259)
  write(ref.txres(29),{vl:44259})
  write(ref.committed(29),1)
  write(service_spec.responded(29),1)
  write(cl_chans.spec.sent({tx:29,bd:{vl:44259}},1),1)
}
test_completed
  write(ref.next,0)
  write(ser.queue.head,0)
  write(ser.queue.tail,0)
  write(mid_spec.queue.head,0)
  write(mid_spec.queue.tail,0)
> cl.client_request(1,{knd:write,ky:"m",vl:5129},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(0),{knd:write,ky:"m",vl:5129})
  write(ref.next,1)
  write(mid_spec.req_dest(0),prim)
  write(request.tx(req(loc:m)),0)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:5129})
}
> ser.serialize(0)
{
  write(ser.serialized(0),1)
  write(ser.queue.contents(0),0)
  write(ser.queue.head,1)
  write(mid_spec.queue.contents(0),0)
  write(mid_spec.queue.head,1)
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:5129}}})
{
  write(mid_spec.queue.tail,1)
  write(response.tx(loc:res),0)
  write(sec.rep.store("m"),5129)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,1)
  write(ref.rep.store("m"),5129)
  write(ref.txres(0),{vl:0})
  write(ref.committed(0),1)
  write(service_spec.responded(0),1)
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:0,bd:{knd:write,ky:"m",vl:5129}}})
{
  write(mid_spec.acked(0),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:34979},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(1),{knd:write,ky:"wrsylb",vl:34979})
  write(ref.next,2)
  write(mid_spec.req_dest(1),prim)
  write(request.tx(req(loc:m)),1)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:34979})
}
> cl.client_request(1,{knd:write,ky:"m",vl:40790},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(2),{knd:write,ky:"m",vl:40790})
  write(ref.next,3)
  write(mid_spec.req_dest(2),sec)
  write(request.tx(req(loc:m)),2)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:40790})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:40790}}}),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:16265},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(3),{knd:write,ky:"m",vl:16265})
  write(ref.next,4)
  write(mid_spec.req_dest(3),sec)
  write(request.tx(req(loc:m)),3)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:16265})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:16265}}}),1)
}
> sec.req_chan.recv({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:16265}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:3,bd:{knd:write,ky:"m",vl:16265}}}),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:9705},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(4),{knd:write,ky:"wrsylb",vl:9705})
  write(ref.next,5)
  write(mid_spec.req_dest(4),prim)
  write(request.tx(req(loc:m)),4)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:9705})
}
> ser.serialize(4)
{
  write(ser.serialized(4),1)
  write(ser.queue.contents(1),4)
  write(ser.queue.head,2)
  write(mid_spec.queue.contents(1),4)
  write(mid_spec.queue.head,2)
}
> sec.req_chan.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:40790}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:40790}}}),0)
}
> cl_chans.recv(0,{tx:0,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:0,bd:{vl:0}},0),0)
}
> ser.serialize(3)
{
  write(ser.serialized(3),1)
  write(ser.queue.contents(2),3)
  write(ser.queue.head,3)
  write(mid_spec.queue.contents(2),3)
  write(mid_spec.queue.head,3)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:9705}}})
{
  write(mid_spec.queue.tail,2)
  write(response.tx(loc:res),4)
  write(sec.rep.store("wrsylb"),9705)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,2)
  write(ref.rep.store("wrsylb"),9705)
  write(ref.txres(4),{vl:0})
  write(ref.committed(4),1)
  write(service_spec.responded(4),1)
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:4,bd:{knd:write,ky:"wrsylb",vl:9705}}})
{
  write(mid_spec.acked(4),1)
}
}
> cl.client_request(1,{knd:read,ky:"m",vl:43750},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(5),{knd:read,ky:"m",vl:43750})
  write(ref.next,6)
  write(mid_spec.req_dest(5),sec)
  write(request.tx(req(loc:m)),5)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:43750})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:43750}}}),1)
}
> ser.serialize(2)
{
  write(ser.serialized(2),1)
  write(ser.queue.contents(3),2)
  write(ser.queue.head,4)
  write(mid_spec.queue.contents(3),2)
  write(mid_spec.queue.head,4)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:16265}}})
{
  write(mid_spec.queue.tail,3)
  write(response.tx(loc:res),3)
  write(sec.rep.store("m"),16265)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,3)
  write(ref.rep.store("m"),16265)
  write(ref.txres(3),{vl:0})
  write(ref.committed(3),1)
  write(service_spec.responded(3),1)
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:3,bd:{knd:write,ky:"m",vl:16265}}})
{
  write(mid_spec.acked(3),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:43750}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:5,bd:{knd:read,ky:"m",vl:43750}}}),0)
  write(response.tx(loc:res),5)
  write(response_body.vl(fml:out),16265)
  write(response.bd(loc:res),{vl:16265})
  write(response_body.vl(fml:out),16265)
  write(ref.txres(5),{vl:16265})
  write(ref.committed(5),1)
  write(service_spec.responded(5),1)
  write(cl_chans.spec.sent({tx:5,bd:{vl:16265}},1),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:38330},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(6),{knd:write,ky:"wrsylb",vl:38330})
  write(ref.next,7)
  write(mid_spec.req_dest(6),sec)
  write(request.tx(req(loc:m)),6)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:38330})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:38330}}}),1)
}
> cl_chans.recv(1,{tx:5,bd:{vl:16265}})
{
  write(cl_chans.spec.sent({tx:5,bd:{vl:16265}},1),0)
}
> cl_chans.recv(1,{tx:3,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:3,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:38330}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:38330}}}),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:40790}}})
{
  write(mid_spec.queue.tail,4)
  write(response.tx(loc:res),2)
  write(sec.rep.store("m"),40790)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,4)
  write(ref.rep.store("m"),40790)
  write(ref.txres(2),{vl:0})
  write(ref.committed(2),1)
  write(service_spec.responded(2),1)
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:2,bd:{knd:write,ky:"m",vl:40790}}})
{
  write(mid_spec.acked(2),1)
}
}
> ser.serialize(6)
{
  write(ser.serialized(6),1)
  write(ser.queue.contents(4),6)
  write(ser.queue.head,5)
  write(mid_spec.queue.contents(4),6)
  write(mid_spec.queue.head,5)
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:12153},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(7),{knd:write,ky:"wrsylb",vl:12153})
  write(ref.next,8)
  write(mid_spec.req_dest(7),prim)
  write(request.tx(req(loc:m)),7)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:12153})
}
> cl.client_request(0,{knd:read,ky:"m",vl:58940},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(8),{knd:read,ky:"m",vl:58940})
  write(ref.next,9)
  write(mid_spec.req_dest(8),prim)
  write(request.tx(req(loc:m)),8)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:58940})
}
> cl_chans.recv(1,{tx:2,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:2,bd:{vl:0}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:38330}}})
{
  write(mid_spec.queue.tail,5)
  write(response.tx(loc:res),6)
  write(sec.rep.store("wrsylb"),38330)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,5)
  write(ref.rep.store("wrsylb"),38330)
  write(ref.txres(6),{vl:0})
  write(ref.committed(6),1)
  write(service_spec.responded(6),1)
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:6,bd:{knd:write,ky:"wrsylb",vl:38330}}})
{
  write(mid_spec.acked(6),1)
}
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:44793},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(9),{knd:write,ky:"wrsylb",vl:44793})
  write(ref.next,10)
  write(mid_spec.req_dest(9),sec)
  write(request.tx(req(loc:m)),9)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:44793})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:44793}}}),1)
}
> cl_chans.recv(1,{tx:4,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:4,bd:{vl:0}},1),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:1421},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(10),{knd:read,ky:"wrsylb",vl:1421})
  write(ref.next,11)
  write(mid_spec.req_dest(10),sec)
  write(request.tx(req(loc:m)),10)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:1421})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:1421}}}),1)
}
> ref.commit(8,prim)
{
  write(response_body.vl(fml:out),40790)
  write(ref.txres(8),{vl:40790})
  write(ref.committed(8),1)
}
> cl.client_request(1,{knd:read,ky:"m",vl:13978},sec)
{
  write(cid(loc:m),1)
  write(ref.txs(11),{knd:read,ky:"m",vl:13978})
  write(ref.next,12)
  write(mid_spec.req_dest(11),sec)
  write(request.tx(req(loc:m)),11)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:13978})
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:13978}}}),1)
}
> ser.serialize(9)
{
  write(ser.serialized(9),1)
  write(ser.queue.contents(5),9)
  write(ser.queue.head,6)
  write(mid_spec.queue.contents(5),9)
  write(mid_spec.queue.head,6)
}
> cl_chans.send(0,{tx:8,bd:{vl:40790}})
{
  write(service_spec.responded(8),1)
  write(cl_chans.spec.sent({tx:8,bd:{vl:40790}},0),1)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:33251},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(12),{knd:write,ky:"wrsylb",vl:33251})
  write(ref.next,13)
  write(mid_spec.req_dest(12),prim)
  write(request.tx(req(loc:m)),12)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:33251})
}
> cl_chans.recv(0,{tx:8,bd:{vl:40790}})
{
  write(cl_chans.spec.sent({tx:8,bd:{vl:40790}},0),0)
}
> cl_chans.recv(1,{tx:6,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:6,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:1421}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:10,bd:{knd:read,ky:"wrsylb",vl:1421}}}),0)
  write(response.tx(loc:res),10)
  write(response_body.vl(fml:out),38330)
  write(response.bd(loc:res),{vl:38330})
  write(response_body.vl(fml:out),38330)
  write(ref.txres(10),{vl:38330})
  write(ref.committed(10),1)
  write(service_spec.responded(10),1)
  write(cl_chans.spec.sent({tx:10,bd:{vl:38330}},0),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:23311},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(13),{knd:write,ky:"m",vl:23311})
  write(ref.next,14)
  write(mid_spec.req_dest(13),prim)
  write(request.tx(req(loc:m)),13)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:23311})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:44793}}})
{
  write(mid_spec.queue.tail,6)
  write(response.tx(loc:res),9)
  write(sec.rep.store("wrsylb"),44793)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,6)
  write(ref.rep.store("wrsylb"),44793)
  write(ref.txres(9),{vl:0})
  write(ref.committed(9),1)
  write(service_spec.responded(9),1)
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:44793}}})
{
  write(mid_spec.acked(9),1)
}
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:14595},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(14),{knd:read,ky:"wrsylb",vl:14595})
  write(ref.next,15)
  write(mid_spec.req_dest(14),prim)
  write(request.tx(req(loc:m)),14)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:14595})
}
> cl.client_request(0,{knd:read,ky:"m",vl:29295},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(15),{knd:read,ky:"m",vl:29295})
  write(ref.next,16)
  write(mid_spec.req_dest(15),sec)
  write(request.tx(req(loc:m)),15)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29295})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:29295}}}),1)
}
> ser.serialize(13)
{
  write(ser.serialized(13),1)
  write(ser.queue.contents(6),13)
  write(ser.queue.head,7)
  write(mid_spec.queue.contents(6),13)
  write(mid_spec.queue.head,7)
}
> ref.commit(14,prim)
{
  write(response_body.vl(fml:out),44793)
  write(ref.txres(14),{vl:44793})
  write(ref.committed(14),1)
}
> sec.req_chan.recv({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:29295}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:15,bd:{knd:read,ky:"m",vl:29295}}}),0)
  write(response.tx(loc:res),15)
  write(response_body.vl(fml:out),40790)
  write(response.bd(loc:res),{vl:40790})
  write(response_body.vl(fml:out),40790)
  write(ref.txres(15),{vl:40790})
  write(ref.committed(15),1)
  write(service_spec.responded(15),1)
  write(cl_chans.spec.sent({tx:15,bd:{vl:40790}},0),1)
}
> ser.serialize(12)
{
  write(ser.serialized(12),1)
  write(ser.queue.contents(7),12)
  write(ser.queue.head,8)
  write(mid_spec.queue.contents(7),12)
  write(mid_spec.queue.head,8)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:23311}}})
{
  write(mid_spec.queue.tail,7)
  write(response.tx(loc:res),13)
  write(sec.rep.store("m"),23311)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,7)
  write(ref.rep.store("m"),23311)
  write(ref.txres(13),{vl:0})
  write(ref.committed(13),1)
  write(service_spec.responded(13),1)
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:13,bd:{knd:write,ky:"m",vl:23311}}})
{
  write(mid_spec.acked(13),1)
}
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:33251}}})
{
  write(mid_spec.queue.tail,8)
  write(response.tx(loc:res),12)
  write(sec.rep.store("wrsylb"),33251)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,8)
  write(ref.rep.store("wrsylb"),33251)
  write(ref.txres(12),{vl:0})
  write(ref.committed(12),1)
  write(service_spec.responded(12),1)
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:12,bd:{knd:write,ky:"wrsylb",vl:33251}}})
{
  write(mid_spec.acked(12),1)
}
}
> sec.req_chan.recv({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:44793}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:9,bd:{knd:write,ky:"wrsylb",vl:44793}}}),0)
}
> sec.req_chan.recv({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:13978}}})
{
  write(sec.req_chan.spec.sent({cid:1,req:{tx:11,bd:{knd:read,ky:"m",vl:13978}}}),0)
  write(response.tx(loc:res),11)
  write(response_body.vl(fml:out),23311)
  write(response.bd(loc:res),{vl:23311})
  write(response_body.vl(fml:out),23311)
  write(ref.txres(11),{vl:23311})
  write(ref.committed(11),1)
  write(service_spec.responded(11),1)
  write(cl_chans.spec.sent({tx:11,bd:{vl:23311}},1),1)
}
> cl_chans.recv(0,{tx:10,bd:{vl:38330}})
{
  write(cl_chans.spec.sent({tx:10,bd:{vl:38330}},0),0)
}
> cl.client_request(1,{knd:write,ky:"wrsylb",vl:50042},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(16),{knd:write,ky:"wrsylb",vl:50042})
  write(ref.next,17)
  write(mid_spec.req_dest(16),prim)
  write(request.tx(req(loc:m)),16)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:50042})
}
> cl.client_request(0,{knd:read,ky:"m",vl:29339},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(17),{knd:read,ky:"m",vl:29339})
  write(ref.next,18)
  write(mid_spec.req_dest(17),prim)
  write(request.tx(req(loc:m)),17)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:29339})
}
> cl_chans.recv(1,{tx:11,bd:{vl:23311}})
{
  write(cl_chans.spec.sent({tx:11,bd:{vl:23311}},1),0)
}
> ref.commit(17,prim)
{
  write(response_body.vl(fml:out),23311)
  write(ref.txres(17),{vl:23311})
  write(ref.committed(17),1)
}
> cl_chans.send(1,{tx:17,bd:{vl:23311}})
{
  write(service_spec.responded(17),1)
  write(cl_chans.spec.sent({tx:17,bd:{vl:23311}},1),1)
}
> ser.serialize(16)
{
  write(ser.serialized(16),1)
  write(ser.queue.contents(8),16)
  write(ser.queue.head,9)
  write(mid_spec.queue.contents(8),16)
  write(mid_spec.queue.head,9)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:50042}}})
{
  write(mid_spec.queue.tail,9)
  write(response.tx(loc:res),16)
  write(sec.rep.store("wrsylb"),50042)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,9)
  write(ref.rep.store("wrsylb"),50042)
  write(ref.txres(16),{vl:0})
  write(ref.committed(16),1)
  write(service_spec.responded(16),1)
  write(cl_chans.spec.sent({tx:16,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:16,bd:{knd:write,ky:"wrsylb",vl:50042}}})
{
  write(mid_spec.acked(16),1)
}
}
> ser.serialize(7)
{
  write(ser.serialized(7),1)
  write(ser.queue.contents(9),7)
  write(ser.queue.head,10)
  write(mid_spec.queue.contents(9),7)
  write(mid_spec.queue.head,10)
}
> cl.client_request(1,{knd:write,ky:"m",vl:64677},prim)
{
  write(cid(loc:m),1)
  write(ref.txs(18),{knd:write,ky:"m",vl:64677})
  write(ref.next,19)
  write(mid_spec.req_dest(18),prim)
  write(request.tx(req(loc:m)),18)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:64677})
}
> ser.serialize(18)
{
  write(ser.serialized(18),1)
  write(ser.queue.contents(10),18)
  write(ser.queue.head,11)
  write(mid_spec.queue.contents(10),18)
  write(mid_spec.queue.head,11)
}
> cl.client_request(0,{knd:read,ky:"m",vl:47392},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(19),{knd:read,ky:"m",vl:47392})
  write(ref.next,20)
  write(mid_spec.req_dest(19),prim)
  write(request.tx(req(loc:m)),19)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:47392})
}
> cl_chans.send(0,{tx:14,bd:{vl:44793}})
{
  write(service_spec.responded(14),1)
  write(cl_chans.spec.sent({tx:14,bd:{vl:44793}},0),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:60997},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(20),{knd:read,ky:"wrsylb",vl:60997})
  write(ref.next,21)
  write(mid_spec.req_dest(20),prim)
  write(request.tx(req(loc:m)),20)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:60997})
}
> cl_chans.recv(1,{tx:17,bd:{vl:23311}})
{
  write(cl_chans.spec.sent({tx:17,bd:{vl:23311}},1),0)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:12153}}})
{
  write(mid_spec.queue.tail,10)
  write(response.tx(loc:res),7)
  write(sec.rep.store("wrsylb"),12153)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,10)
  write(ref.rep.store("wrsylb"),12153)
  write(ref.txres(7),{vl:0})
  write(ref.committed(7),1)
  write(service_spec.responded(7),1)
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:7,bd:{knd:write,ky:"wrsylb",vl:12153}}})
{
  write(mid_spec.acked(7),1)
}
}
> cl_chans.recv(0,{tx:14,bd:{vl:44793}})
{
  write(cl_chans.spec.sent({tx:14,bd:{vl:44793}},0),0)
}
> ref.commit(20,prim)
{
  write(response_body.vl(fml:out),12153)
  write(ref.txres(20),{vl:12153})
  write(ref.committed(20),1)
}
> fwd_chan.rcvr.recv({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:64677}}})
{
  write(mid_spec.queue.tail,11)
  write(response.tx(loc:res),18)
  write(sec.rep.store("m"),64677)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,11)
  write(ref.rep.store("m"),64677)
  write(ref.txres(18),{vl:0})
  write(ref.committed(18),1)
  write(service_spec.responded(18),1)
  write(cl_chans.spec.sent({tx:18,bd:{vl:0}},1),1)
< rev_chan.sndr.send({cid:1,req:{tx:18,bd:{knd:write,ky:"m",vl:64677}}})
{
  write(mid_spec.acked(18),1)
}
}
> cl_chans.send(0,{tx:20,bd:{vl:12153}})
{
  write(service_spec.responded(20),1)
  write(cl_chans.spec.sent({tx:20,bd:{vl:12153}},0),1)
}
> cl_chans.recv(1,{tx:13,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:13,bd:{vl:0}},1),0)
}
> cl_chans.recv(0,{tx:15,bd:{vl:40790}})
{
  write(cl_chans.spec.sent({tx:15,bd:{vl:40790}},0),0)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:10859},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(21),{knd:read,ky:"wrsylb",vl:10859})
  write(ref.next,22)
  write(mid_spec.req_dest(21),sec)
  write(request.tx(req(loc:m)),21)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:10859})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:10859}}}),1)
}
> cl_chans.recv(1,{tx:7,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:7,bd:{vl:0}},1),0)
}
> sec.req_chan.recv({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:10859}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:21,bd:{knd:read,ky:"wrsylb",vl:10859}}}),0)
  write(response.tx(loc:res),21)
  write(response_body.vl(fml:out),12153)
  write(response.bd(loc:res),{vl:12153})
  write(response_body.vl(fml:out),12153)
  write(ref.txres(21),{vl:12153})
  write(ref.committed(21),1)
  write(service_spec.responded(21),1)
  write(cl_chans.spec.sent({tx:21,bd:{vl:12153}},0),1)
}
> ser.serialize(1)
{
  write(ser.serialized(1),1)
  write(ser.queue.contents(11),1)
  write(ser.queue.head,12)
  write(mid_spec.queue.contents(11),1)
  write(mid_spec.queue.head,12)
}
> ref.commit(19,prim)
{
  write(response_body.vl(fml:out),64677)
  write(ref.txres(19),{vl:64677})
  write(ref.committed(19),1)
}
> cl.client_request(0,{knd:read,ky:"m",vl:36995},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(22),{knd:read,ky:"m",vl:36995})
  write(ref.next,23)
  write(mid_spec.req_dest(22),prim)
  write(request.tx(req(loc:m)),22)
  write(request.bd(req(loc:m)),{knd:read,ky:"m",vl:36995})
}
> cl_chans.send(1,{tx:19,bd:{vl:64677}})
{
  write(service_spec.responded(19),1)
  write(cl_chans.spec.sent({tx:19,bd:{vl:64677}},1),1)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:3199},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(23),{knd:read,ky:"wrsylb",vl:3199})
  write(ref.next,24)
  write(mid_spec.req_dest(23),prim)
  write(request.tx(req(loc:m)),23)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:3199})
}
> cl_chans.recv(0,{tx:9,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:9,bd:{vl:0}},0),0)
}
> cl_chans.recv(0,{tx:12,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:12,bd:{vl:0}},0),0)
}
> ref.commit(22,prim)
{
  write(response_body.vl(fml:out),64677)
  write(ref.txres(22),{vl:64677})
  write(ref.committed(22),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:19096},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(24),{knd:write,ky:"m",vl:19096})
  write(ref.next,25)
  write(mid_spec.req_dest(24),sec)
  write(request.tx(req(loc:m)),24)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:19096})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:24,bd:{knd:write,ky:"m",vl:19096}}}),1)
}
> ref.commit(23,prim)
{
  write(response_body.vl(fml:out),12153)
  write(ref.txres(23),{vl:12153})
  write(ref.committed(23),1)
}
> cl_chans.recv(0,{tx:20,bd:{vl:12153}})
{
  write(cl_chans.spec.sent({tx:20,bd:{vl:12153}},0),0)
}
> cl_chans.recv(0,{tx:21,bd:{vl:12153}})
{
  write(cl_chans.spec.sent({tx:21,bd:{vl:12153}},0),0)
}
> cl_chans.recv(1,{tx:19,bd:{vl:64677}})
{
  write(cl_chans.spec.sent({tx:19,bd:{vl:64677}},1),0)
}
> cl_chans.send(1,{tx:22,bd:{vl:64677}})
{
  write(service_spec.responded(22),1)
  write(cl_chans.spec.sent({tx:22,bd:{vl:64677}},1),1)
}
> cl.client_request(0,{knd:write,ky:"m",vl:17229},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(25),{knd:write,ky:"m",vl:17229})
  write(ref.next,26)
  write(mid_spec.req_dest(25),sec)
  write(request.tx(req(loc:m)),25)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:17229})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:17229}}}),1)
}
> cl_chans.send(0,{tx:23,bd:{vl:12153}})
{
  write(service_spec.responded(23),1)
  write(cl_chans.spec.sent({tx:23,bd:{vl:12153}},0),1)
}
> cl_chans.recv(0,{tx:23,bd:{vl:12153}})
{
  write(cl_chans.spec.sent({tx:23,bd:{vl:12153}},0),0)
}
> cl_chans.recv(1,{tx:22,bd:{vl:64677}})
{
  write(cl_chans.spec.sent({tx:22,bd:{vl:64677}},1),0)
}
> cl.client_request(0,{knd:write,ky:"m",vl:20406},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(26),{knd:write,ky:"m",vl:20406})
  write(ref.next,27)
  write(mid_spec.req_dest(26),prim)
  write(request.tx(req(loc:m)),26)
  write(request.bd(req(loc:m)),{knd:write,ky:"m",vl:20406})
}
> cl.client_request(0,{knd:write,ky:"wrsylb",vl:21787},prim)
{
  write(cid(loc:m),0)
  write(ref.txs(27),{knd:write,ky:"wrsylb",vl:21787})
  write(ref.next,28)
  write(mid_spec.req_dest(27),prim)
  write(request.tx(req(loc:m)),27)
  write(request.bd(req(loc:m)),{knd:write,ky:"wrsylb",vl:21787})
}
> fwd_chan.rcvr.recv({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:34979}}})
{
  write(mid_spec.queue.tail,12)
  write(response.tx(loc:res),1)
  write(sec.rep.store("wrsylb"),34979)
  write(response.bd(loc:res),{vl:0})
  write(ser.queue.tail,12)
  write(ref.rep.store("wrsylb"),34979)
  write(ref.txres(1),{vl:0})
  write(ref.committed(1),1)
  write(service_spec.responded(1),1)
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),1)
< rev_chan.sndr.send({cid:0,req:{tx:1,bd:{knd:write,ky:"wrsylb",vl:34979}}})
{
  write(mid_spec.acked(1),1)
}
}
> cl_chans.recv(0,{tx:1,bd:{vl:0}})
{
  write(cl_chans.spec.sent({tx:1,bd:{vl:0}},0),0)
}
> sec.req_chan.recv({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:17229}}})
{
  write(sec.req_chan.spec.sent({cid:0,req:{tx:25,bd:{knd:write,ky:"m",vl:17229}}}),0)
}
> ser.serialize(27)
{
  write(ser.serialized(27),1)
  write(ser.queue.contents(12),27)
  write(ser.queue.head,13)
  write(mid_spec.queue.contents(12),27)
  write(mid_spec.queue.head,13)
}
> cl.client_request(0,{knd:read,ky:"wrsylb",vl:43211},sec)
{
  write(cid(loc:m),0)
  write(ref.txs(28),{knd:read,ky:"wrsylb",vl:43211})
  write(ref.next,29)
  write(mid_spec.req_dest(28),sec)
  write(request.tx(req(loc:m)),28)
  write(request.bd(req(loc:m)),{knd:read,ky:"wrsylb",vl:43211})
  write(sec.req_chan.spec.sent({cid:0,req:{tx:28,bd:{knd:read,ky:"wrsylb",vl:43211}}}),1)
}
test_completed
